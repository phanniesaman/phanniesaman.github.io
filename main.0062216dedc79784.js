"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{948:()=>{function Be(n){return"function"==typeof n}function Su(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Id=Su(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function _s(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class In{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Be(r))try{r()}catch(o){e=o instanceof Id?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{UD(o)}catch(s){e=e??[],s instanceof Id?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Id(e)}}add(e){var t;if(e&&e!==this)if(this.closed)UD(e);else{if(e instanceof In){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&_s(t,e)}remove(e){const{_finalizers:t}=this;t&&_s(t,e),e instanceof In&&e._removeParent(this)}}In.EMPTY=(()=>{const n=new In;return n.closed=!0,n})();const FD=In.EMPTY;function LD(n){return n instanceof In||n&&"closed"in n&&Be(n.remove)&&Be(n.add)&&Be(n.unsubscribe)}function UD(n){Be(n)?n():n.unsubscribe()}const yo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Ed={setTimeout(n,e,...t){const{delegate:r}=Ed;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Ed;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function BD(n){Ed.setTimeout(()=>{const{onUnhandledError:e}=yo;if(!e)throw n;e(n)})}function jg(){}const VU=$g("C",void 0,void 0);function $g(n,e,t){return{kind:n,value:e,error:t}}let vo=null;function wd(n){if(yo.useDeprecatedSynchronousErrorHandling){const e=!vo;if(e&&(vo={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=vo;if(vo=null,t)throw r}}else n()}class Gg extends In{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,LD(e)&&e.add(this)):this.destination=GU}static create(e,t,r){return new Ru(e,t,r)}next(e){this.isStopped?Hg(function LU(n){return $g("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Hg(function FU(n){return $g("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Hg(VU,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const BU=Function.prototype.bind;function zg(n,e){return BU.call(n,e)}class jU{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){Td(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){Td(r)}else Td(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Td(t)}}}class Ru extends Gg{constructor(e,t,r){let i;if(super(),Be(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&yo.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&zg(e.next,o),error:e.error&&zg(e.error,o),complete:e.complete&&zg(e.complete,o)}):i=e}this.destination=new jU(i)}}function Td(n){yo.useDeprecatedSynchronousErrorHandling?function UU(n){yo.useDeprecatedSynchronousErrorHandling&&vo&&(vo.errorThrown=!0,vo.error=n)}(n):BD(n)}function Hg(n,e){const{onStoppedNotification:t}=yo;t&&Ed.setTimeout(()=>t(n,e))}const GU={closed:!0,next:jg,error:function $U(n){throw n},complete:jg},qg="function"==typeof Symbol&&Symbol.observable||"@@observable";function Ai(n){return n}function jD(n){return 0===n.length?Ai:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let ut=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function qU(n){return n&&n instanceof Gg||function HU(n){return n&&Be(n.next)&&Be(n.error)&&Be(n.complete)}(n)&&LD(n)}(t)?t:new Ru(t,r,i);return wd(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=$D(r))((i,o)=>{const s=new Ru({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[qg](){return this}pipe(...t){return jD(t)(this)}toPromise(t){return new(t=$D(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function $D(n){var e;return null!==(e=n??yo.Promise)&&void 0!==e?e:Promise}const WU=Su(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ur=(()=>{class n extends ut{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new GD(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new WU}next(t){wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wd(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?FD:(this.currentObservers=null,o.push(t),new In(()=>{this.currentObservers=null,_s(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new ut;return t.source=this,t}}return n.create=(e,t)=>new GD(e,t),n})();class GD extends ur{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:FD}}function zD(n){return Be(n?.lift)}function St(n){return e=>{if(zD(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ct(n,e,t,r,i){return new KU(n,e,t,r,i)}class KU extends Gg{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function Oe(n,e){return St((t,r)=>{let i=0;t.subscribe(Ct(r,o=>{r.next(n.call(e,o,i++))}))})}function Qg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function bi(n){return this instanceof bi?(this.v=n,this):new bi(n)}function KD(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Jg(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){!function i(o,s,a,u){Promise.resolve(u).then(function(c){o({value:c,done:a})},s)}(a,u,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const QD=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function YD(n){return Be(n?.then)}function JD(n){return Be(n[qg])}function ZD(n){return Symbol.asyncIterator&&Be(n?.[Symbol.asyncIterator])}function XD(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const eA=function gB(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function tA(n){return Be(n?.[eA])}function nA(n){return function WD(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),o=[];return i={},a("next"),a("throw"),a("return",function s(m){return function(y){return Promise.resolve(y).then(m,h)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(m,y){r[m]&&(i[m]=function(I){return new Promise(function(E,P){o.push([m,I,E,P])>1||u(m,I)})},y&&(i[m]=y(i[m])))}function u(m,y){try{!function c(m){m.value instanceof bi?Promise.resolve(m.value.v).then(d,h):p(o[0][2],m)}(r[m](y))}catch(I){p(o[0][3],I)}}function d(m){u("next",m)}function h(m){u("throw",m)}function p(m,y){m(y),o.shift(),o.length&&u(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield bi(t.read());if(i)return yield bi(void 0);yield yield bi(r)}}finally{t.releaseLock()}})}function rA(n){return Be(n?.getReader)}function xn(n){if(n instanceof ut)return n;if(null!=n){if(JD(n))return function mB(n){return new ut(e=>{const t=n[qg]();if(Be(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(QD(n))return function _B(n){return new ut(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(YD(n))return function yB(n){return new ut(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,BD)})}(n);if(ZD(n))return iA(n);if(tA(n))return function vB(n){return new ut(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(rA(n))return function IB(n){return iA(nA(n))}(n)}throw XD(n)}function iA(n){return new ut(e=>{(function EB(n,e){var t,r,i,o;return function HD(n,e,t,r){return new(t||(t=Promise))(function(o,s){function a(d){try{c(r.next(d))}catch(h){s(h)}}function u(d){try{c(r.throw(d))}catch(h){s(h)}}function c(d){d.done?o(d.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(d.value).then(a,u)}c((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=KD(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function Hr(n,e,t,r=0,i=!1){const o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Lt(n,e,t=1/0){return Be(e)?Lt((r,i)=>Oe((o,s)=>e(r,o,i,s))(xn(n(r,i))),t):("number"==typeof e&&(t=e),St((r,i)=>function wB(n,e,t,r,i,o,s,a){const u=[];let c=0,d=0,h=!1;const p=()=>{h&&!u.length&&!c&&e.complete()},m=I=>c<r?y(I):u.push(I),y=I=>{o&&e.next(I),c++;let E=!1;xn(t(I,d++)).subscribe(Ct(e,P=>{i?.(P),o?m(P):e.next(P)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;u.length&&c<r;){const P=u.shift();s?Hr(e,s,()=>y(P)):y(P)}p()}catch(P){e.error(P)}}))};return n.subscribe(Ct(e,m,()=>{h=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function ys(n=1/0){return Lt(Ai,n)}const Ir=new ut(n=>n.complete());function Zg(n){return n[n.length-1]}function oA(n){return Be(Zg(n))?n.pop():void 0}function Pu(n){return function CB(n){return n&&Be(n.schedule)}(Zg(n))?n.pop():void 0}function Cd(n,e=0){return St((t,r)=>{t.subscribe(Ct(r,i=>Hr(r,n,()=>r.next(i),e),()=>Hr(r,n,()=>r.complete(),e),i=>Hr(r,n,()=>r.error(i),e)))})}function Dd(n,e=0){return St((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function sA(n,e){if(!n)throw new Error("Iterable cannot be null");return new ut(t=>{Hr(t,e,()=>{const r=n[Symbol.asyncIterator]();Hr(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Ot(n,e){return e?function MB(n,e){if(null!=n){if(JD(n))return function AB(n,e){return xn(n).pipe(Dd(e),Cd(e))}(n,e);if(QD(n))return function SB(n,e){return new ut(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(YD(n))return function bB(n,e){return xn(n).pipe(Dd(e),Cd(e))}(n,e);if(ZD(n))return sA(n,e);if(tA(n))return function RB(n,e){return new ut(t=>{let r;return Hr(t,e,()=>{r=n[eA](),Hr(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Be(r?.return)&&r.return()})}(n,e);if(rA(n))return function PB(n,e){return sA(nA(n),e)}(n,e)}throw XD(n)}(n,e):xn(n)}class Wn extends ur{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function le(...n){return Ot(n,Pu(n))}function aA(n={}){const{connector:e=(()=>new ur),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return o=>{let s,a,u,c=0,d=!1,h=!1;const p=()=>{a?.unsubscribe(),a=void 0},m=()=>{p(),s=u=void 0,d=h=!1},y=()=>{const I=s;m(),I?.unsubscribe()};return St((I,E)=>{c++,!h&&!d&&p();const P=u=u??e();E.add(()=>{c--,0===c&&!h&&!d&&(a=Xg(y,i))}),P.subscribe(E),!s&&c>0&&(s=new Ru({next:D=>P.next(D),error:D=>{h=!0,p(),a=Xg(m,t,D),P.error(D)},complete:()=>{d=!0,p(),a=Xg(m,r),P.complete()}}),xn(I).subscribe(s))})(o)}}function Xg(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Ru({next:()=>{r.unsubscribe(),n()}});return xn(e(...t)).subscribe(r)}function Er(n,e){return St((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(Ct(r,u=>{i?.unsubscribe();let c=0;const d=o++;xn(n(u,d)).subscribe(i=Ct(r,h=>r.next(e?e(u,h,d,c++):h),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function OB(n,e){return n===e}function ke(n){for(let e in n)if(n[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function Ad(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Rt(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Rt).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function em(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const kB=ke({__forward_ref__:ke});function We(n){return n.__forward_ref__=We,n.toString=function(){return Rt(this())},n}function ae(n){return tm(n)?n():n}function tm(n){return"function"==typeof n&&n.hasOwnProperty(kB)&&n.__forward_ref__===We}function nm(n){return n&&!!n.\u0275providers}const uA="https://g.co/ng/security#xss";class U extends Error{constructor(e,t){super(function bd(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function he(n){return"string"==typeof n?n:null==n?"":String(n)}function rm(n,e){throw new U(-201,!1)}function Kn(n,e){null==n&&function oe(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function ie(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function On(n){return{providers:n.providers||[],imports:n.imports||[]}}function Sd(n){return cA(n,Pd)||cA(n,lA)}function cA(n,e){return n.hasOwnProperty(e)?n[e]:null}function Rd(n){return n&&(n.hasOwnProperty(im)||n.hasOwnProperty(GB))?n[im]:null}const Pd=ke({\u0275prov:ke}),im=ke({\u0275inj:ke}),lA=ke({ngInjectableDef:ke}),GB=ke({ngInjectorDef:ke});var ve=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(ve||{});let om;function En(n){const e=om;return om=n,e}function hA(n,e,t){const r=Sd(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&ve.Optional?null:void 0!==e?e:void rm(Rt(n))}const Ke=globalThis;class Z{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ie({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mu={},lm="__NG_DI_FLAG__",Md="ngTempTokenPath",qB=/\n/gm,pA="__source";let vs;function Si(n){const e=vs;return vs=n,e}function QB(n,e=ve.Default){if(void 0===vs)throw new U(-203,!1);return null===vs?hA(n,void 0,e):vs.get(n,e&ve.Optional?null:void 0,e)}function re(n,e=ve.Default){return(function dA(){return om}()||QB)(ae(n),e)}function X(n,e=ve.Default){return re(n,xd(e))}function xd(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dm(n){const e=[];for(let t=0;t<n.length;t++){const r=ae(n[t]);if(Array.isArray(r)){if(0===r.length)throw new U(900,!1);let i,o=ve.Default;for(let s=0;s<r.length;s++){const a=r[s],u=YB(a);"number"==typeof u?-1===u?i=a.token:o|=u:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function xu(n,e){return n[lm]=e,n.prototype[lm]=e,n}function YB(n){return n[lm]}function qr(n){return{toString:n}.toString()}var Nd=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Nd||{}),cr=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(cr||{});const wr={},Se=[],Od=ke({\u0275cmp:ke}),hm=ke({\u0275dir:ke}),fm=ke({\u0275pipe:ke}),mA=ke({\u0275mod:ke}),Wr=ke({\u0275fac:ke}),Nu=ke({__NG_ELEMENT_ID__:ke}),_A=ke({__NG_ENV_ID__:ke});function yA(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function pm(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{const o=i,s=t[++r];IA(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function vA(n){return 3===n||4===n||6===n}function IA(n){return 64===n.charCodeAt(0)}function Ou(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||EA(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function EA(n,e,t,r,i){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[o+1]=i));if(r===n[o+1])return void(n[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==r&&n.splice(o++,0,r),null!==i&&n.splice(o++,0,i)}const wA="ng-template";function XB(n,e,t){let r=0,i=!0;for(;r<n.length;){let o=n[r++];if("string"==typeof o&&i){const s=n[r++];if(t&&"class"===o&&-1!==yA(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;r<n.length&&"string"==typeof(o=n[r++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function TA(n){return 4===n.type&&n.value!==wA}function ej(n,e,t){return e===(4!==n.type||t?n.value:wA)}function tj(n,e,t){let r=4;const i=n.attrs||[],o=function ij(n){for(let e=0;e<n.length;e++)if(vA(n[e]))return e;return n.length}(i);let s=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!s)if(4&r){if(r=2|1&r,""!==u&&!ej(n,u,t)||""===u&&1===e.length){if(lr(r))return!1;s=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==n.attrs){if(!XB(n.attrs,c,t)){if(lr(r))return!1;s=!0}continue}const h=nj(8&r?"class":u,i,TA(n),t);if(-1===h){if(lr(r))return!1;s=!0;continue}if(""!==c){let p;p=h>o?"":i[h+1].toLowerCase();const m=8&r?p:null;if(m&&-1!==yA(m,c,0)||2&r&&c!==p){if(lr(r))return!1;s=!0}}}}else{if(!s&&!lr(r)&&!lr(u))return!1;if(s&&lr(u))continue;s=!1,r=u|1&r}}return lr(r)||s}function lr(n){return 0==(1&n)}function nj(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){const s=e[i];if(s===n)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function oj(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function CA(n,e,t=!1){for(let r=0;r<e.length;r++)if(tj(n,e[r],t))return!0;return!1}function DA(n,e){return n?":not("+e.trim()+")":e}function aj(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&r){const a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!lr(s)&&(e+=DA(o,i),i=""),r=s,o=o||!lr(r);t++}return""!==i&&(e+=DA(o,i)),e}function Ri(n){return qr(()=>{const e=bA(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Nd.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||cr.Emulated,styles:n.styles||Se,_:null,schemas:n.schemas||null,tView:null,id:""};SA(t);const r=n.dependencies;return t.directiveDefs=kd(r,!1),t.pipeDefs=kd(r,!0),t.id=function gj(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function dj(n){return Ce(n)||Ut(n)}function hj(n){return null!==n}function Qn(n){return qr(()=>({type:n.type,bootstrap:n.bootstrap||Se,declarations:n.declarations||Se,imports:n.imports||Se,exports:n.exports||Se,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function AA(n,e){if(null==n)return wr;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,e&&(e[i]=o)}return t}function ue(n){return qr(()=>{const e=bA(n);return SA(e),e})}function wn(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ce(n){return n[Od]||null}function Ut(n){return n[hm]||null}function un(n){return n[fm]||null}function kn(n,e){const t=n[mA]||null;if(!t&&!0===e)throw new Error(`Type ${Rt(n)} does not have '\u0275mod' property.`);return t}function bA(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||wr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||Se,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:AA(n.inputs,e),outputs:AA(n.outputs)}}function SA(n){n.features?.forEach(e=>e(n))}function kd(n,e){if(!n)return null;const t=e?un:dj;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(hj)}const ht=0,Q=1,ge=2,rt=3,dr=4,ku=5,Qt=6,Es=7,_t=8,Pi=9,ws=10,fe=11,Vu=12,RA=13,Ts=14,yt=15,Fu=16,Cs=17,Tr=18,Lu=19,PA=20,Mi=21,Kr=22,Uu=23,Bu=24,Ie=25,gm=1,MA=2,Cr=7,Ds=9,Bt=11;function Tn(n){return Array.isArray(n)&&"object"==typeof n[gm]}function cn(n){return Array.isArray(n)&&!0===n[gm]}function mm(n){return 0!=(4&n.flags)}function Eo(n){return n.componentOffset>-1}function Fd(n){return 1==(1&n.flags)}function hr(n){return!!n.template}function _m(n){return 0!=(512&n[ge])}function wo(n,e){return n.hasOwnProperty(Wr)?n[Wr]:null}let jt=null,Ld=!1;function Yn(n){const e=jt;return jt=n,e}const OA={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function VA(n){if(!$u(n)||n.dirty){if(!n.producerMustRecompute(n)&&!UA(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function LA(n){n.dirty=!0,function FA(n){if(void 0===n.liveConsumerNode)return;const e=Ld;Ld=!0;try{for(const t of n.liveConsumerNode)t.dirty||LA(t)}finally{Ld=e}}(n),n.consumerMarkedDirty?.(n)}function vm(n){return n&&(n.nextProducerIndex=0),Yn(n)}function Im(n,e){if(Yn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if($u(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Ud(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function UA(n){As(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(VA(t),r!==t.version))return!0}return!1}function BA(n){if(As(n),$u(n))for(let e=0;e<n.producerNode.length;e++)Ud(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function Ud(n,e){if(function $A(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),As(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)Ud(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];As(i),i.producerIndexOfThis[r]=e}}function $u(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function As(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let GA=null;function qA(n){const e=Yn(null);try{return n()}finally{Yn(e)}}const WA=()=>{},Sj=(()=>({...OA,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:WA}))();class Rj{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Jn(){return KA}function KA(n){return n.type.prototype.ngOnChanges&&(n.setInput=Mj),Pj}function Pj(){const n=YA(this),e=n?.current;if(e){const t=n.previous;if(t===wr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function Mj(n,e,t,r){const i=this.declaredInputs[t],o=YA(n)||function xj(n,e){return n[QA]=e}(n,{previous:wr,current:null}),s=o.current||(o.current={}),a=o.previous,u=a[i];s[i]=new Rj(u&&u.currentValue,e,a===wr),n[r]=e}Jn.ngInherit=!0;const QA="__ngSimpleChanges__";function YA(n){return n[QA]||null}const Dr=function(n,e,t){};function Qe(n){for(;Array.isArray(n);)n=n[ht];return n}function Bd(n,e){return Qe(e[n])}function Cn(n,e){return Qe(e[n.index])}function XA(n,e){return n.data[e]}function Vn(n,e){const t=e[n];return Tn(t)?t:t[ht]}function Ni(n,e){return null==e?null:n[e]}function eb(n){n[Cs]=0}function Lj(n){1024&n[ge]||(n[ge]|=1024,nb(n,1))}function tb(n){1024&n[ge]&&(n[ge]&=-1025,nb(n,-1))}function nb(n,e){let t=n[rt];if(null===t)return;t[ku]+=e;let r=t;for(t=t[rt];null!==t&&(1===e&&1===r[ku]||-1===e&&0===r[ku]);)t[ku]+=e,r=t,t=t[rt]}const se={lFrame:fb(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function ob(){return se.bindingsEnabled}function V(){return se.lFrame.lView}function De(){return se.lFrame.tView}function Rs(n){return se.lFrame.contextLView=n,n[_t]}function Ps(n){return se.lFrame.contextLView=null,n}function $t(){let n=sb();for(;null!==n&&64===n.type;)n=n.parent;return n}function sb(){return se.lFrame.currentTNode}function Ar(n,e){const t=se.lFrame;t.currentTNode=n,t.isParent=e}function Dm(){return se.lFrame.isParent}function ln(){const n=se.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function Ms(){return se.lFrame.bindingIndex++}function Yj(n,e){const t=se.lFrame;t.bindingIndex=t.bindingRootIndex=n,bm(e)}function bm(n){se.lFrame.currentDirectiveIndex=n}function lb(){return se.lFrame.currentQueryIndex}function Rm(n){se.lFrame.currentQueryIndex=n}function Zj(n){const e=n[Q];return 2===e.type?e.declTNode:1===e.type?n[Qt]:null}function db(n,e,t){if(t&ve.SkipSelf){let i=e,o=n;for(;!(i=i.parent,null!==i||t&ve.Host||(i=Zj(o),null===i||(o=o[Ts],10&i.type))););if(null===i)return!1;e=i,n=o}const r=se.lFrame=hb();return r.currentTNode=e,r.lView=n,!0}function Pm(n){const e=hb(),t=n[Q];se.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function hb(){const n=se.lFrame,e=null===n?null:n.child;return null===e?fb(n):e}function fb(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function pb(){const n=se.lFrame;return se.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const gb=pb;function Mm(){const n=pb();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function dn(){return se.lFrame.selectedIndex}function To(n){se.lFrame.selectedIndex=n}function ct(){const n=se.lFrame;return XA(n.tView,n.selectedIndex)}let _b=!0;function jd(){return _b}function Oi(n){_b=n}function $d(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:c,ngOnDestroy:d}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function Gd(n,e,t){yb(n,e,3,t)}function zd(n,e,t,r){(3&n[ge])===t&&yb(n,e,t,r)}function xm(n,e){let t=n[ge];(3&t)===e&&(t&=8191,t+=1,n[ge]=t)}function yb(n,e,t,r){const o=r??-1,s=e.length-1;let a=0;for(let u=void 0!==r?65535&n[Cs]:0;u<s;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=r&&a>=r)break}else e[u]<0&&(n[Cs]+=65536),(a<o||-1==o)&&(s$(n,t,e,u),n[Cs]=(4294901760&n[Cs])+u+2),u++}function vb(n,e){Dr(4,n,e);const t=Yn(null);try{e.call(n)}finally{Yn(t),Dr(5,n,e)}}function s$(n,e,t,r){const i=t[r]<0,o=t[r+1],a=n[i?-t[r]:t[r]];i?n[ge]>>13<n[Cs]>>16&&(3&n[ge])===e&&(n[ge]+=8192,vb(a,o)):vb(a,o)}const xs=-1;class zu{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Om(n){return n!==xs}function Hu(n){return 32767&n}function qu(n,e){let t=function l$(n){return n>>16}(n),r=e;for(;t>0;)r=r[Ts],t--;return r}let km=!0;function Hd(n){const e=km;return km=n,e}const Ib=255,Eb=5;let d$=0;const br={};function qd(n,e){const t=wb(n,e);if(-1!==t)return t;const r=e[Q];r.firstCreatePass&&(n.injectorIndex=e.length,Vm(r.data,n),Vm(e,null),Vm(r.blueprint,null));const i=Wd(n,e),o=n.injectorIndex;if(Om(i)){const s=Hu(i),a=qu(i,e),u=a[Q].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c]}return e[o+8]=i,o}function Vm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function wb(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function Wd(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=Rb(i),null===r)return xs;if(t++,i=i[Ts],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return xs}function Fm(n,e,t){!function h$(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Nu)&&(r=t[Nu]),null==r&&(r=t[Nu]=d$++);const i=r&Ib;e.data[n+(i>>Eb)]|=1<<i}(n,e,t)}function Tb(n,e,t){if(t&ve.Optional||void 0!==n)return n;rm()}function Cb(n,e,t,r){if(t&ve.Optional&&void 0===r&&(r=null),!(t&(ve.Self|ve.Host))){const i=n[Pi],o=En(void 0);try{return i?i.get(e,r,t&ve.Optional):hA(e,r,t&ve.Optional)}finally{En(o)}}return Tb(r,0,t)}function Db(n,e,t,r=ve.Default,i){if(null!==n){if(2048&e[ge]&&!(r&ve.Self)){const s=function y$(n,e,t,r,i){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[ge]&&!(512&s[ge]);){const a=Ab(o,s,t,r|ve.Self,br);if(a!==br)return a;let u=o.parent;if(!u){const c=s[PA];if(c){const d=c.get(t,br,r);if(d!==br)return d}u=Rb(s),s=s[Ts]}o=u}return i}(n,e,t,r,br);if(s!==br)return s}const o=Ab(n,e,t,r,br);if(o!==br)return o}return Cb(e,t,r,i)}function Ab(n,e,t,r,i){const o=function g$(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Nu)?n[Nu]:void 0;return"number"==typeof e?e>=0?e&Ib:_$:e}(t);if("function"==typeof o){if(!db(e,n,r))return r&ve.Host?Tb(i,0,r):Cb(e,t,r,i);try{let s;if(s=o(r),null!=s||r&ve.Optional)return s;rm()}finally{gb()}}else if("number"==typeof o){let s=null,a=wb(n,e),u=xs,c=r&ve.Host?e[yt][Qt]:null;for((-1===a||r&ve.SkipSelf)&&(u=-1===a?Wd(n,e):e[a+8],u!==xs&&Sb(r,!1)?(s=e[Q],a=Hu(u),e=qu(u,e)):a=-1);-1!==a;){const d=e[Q];if(bb(o,a,d.data)){const h=p$(a,e,t,s,r,c);if(h!==br)return h}u=e[a+8],u!==xs&&Sb(r,e[Q].data[a+8]===c)&&bb(o,a,e)?(s=d,a=Hu(u),e=qu(u,e)):a=-1}}return i}function p$(n,e,t,r,i,o){const s=e[Q],a=s.data[n+8],d=Kd(a,s,t,null==r?Eo(a)&&km:r!=s&&0!=(3&a.type),i&ve.Host&&o===a);return null!==d?Co(e,s,d,a):br}function Kd(n,e,t,r,i){const o=n.providerIndexes,s=e.data,a=1048575&o,u=n.directiveStart,d=o>>20,p=i?a+d:n.directiveEnd;for(let m=r?a:a+d;m<p;m++){const y=s[m];if(m<u&&t===y||m>=u&&y.type===t)return m}if(i){const m=s[u];if(m&&hr(m)&&m.type===t)return u}return null}function Co(n,e,t,r){let i=n[t];const o=e.data;if(function a$(n){return n instanceof zu}(i)){const s=i;s.resolving&&function VB(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new U(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ne(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():he(n)}(o[t]));const a=Hd(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?En(s.injectImpl):null;db(n,r,ve.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&function o$(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){const s=KA(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&En(c),Hd(a),s.resolving=!1,gb()}}return i}function bb(n,e,t){return!!(t[e+(n>>Eb)]&1<<n)}function Sb(n,e){return!(n&ve.Self||n&ve.Host&&e)}class hn{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Db(this._tNode,this._lView,e,xd(r),t)}}function _$(){return new hn($t(),V())}function Gt(n){return qr(()=>{const e=n.prototype.constructor,t=e[Wr]||Lm(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const o=i[Wr]||Lm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lm(n){return tm(n)?()=>{const e=Lm(ae(n));return e&&e()}:wo(n)}function Rb(n){const e=n[Q],t=e.type;return 2===t?e.declTNode:1===t?n[Qt]:null}const Os="__parameters__";function Vs(n,e,t){return qr(()=>{const r=function Um(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(u,c,d){const h=u.hasOwnProperty(Os)?u[Os]:Object.defineProperty(u,Os,{value:[]})[Os];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function Ls(n,e){n.forEach(t=>Array.isArray(t)?Ls(t,e):e(t))}function Mb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Yd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Fn(n,e,t){let r=Us(n,e);return r>=0?n[1|r]=t:(r=~r,function D$(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function Bm(n,e){const t=Us(n,e);if(t>=0)return n[1|t]}function Us(n,e){return function xb(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}(n,e,1)}const Xn=xu(Vs("Optional"),8),Zd=xu(Vs("SkipSelf"),4);function rh(n){return 128==(128&n.flags)}var ki=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ki||{});const Hm=new Map;let Q$=0;const Wm="__ngContext__";function Yt(n,e){Tn(e)?(n[Wm]=e[Lu],function J$(n){Hm.set(n[Lu],n)}(e)):n[Wm]=e}let Km;function Qm(n,e){return Km(n,e)}function Zu(n){const e=n[rt];return cn(e)?e[rt]:e}function Zb(n){return e0(n[Vu])}function Xb(n){return e0(n[dr])}function e0(n){for(;null!==n&&!cn(n);)n=n[dr];return n}function $s(n,e,t,r,i){if(null!=r){let o,s=!1;cn(r)?o=r:Tn(r)&&(s=!0,r=r[ht]);const a=Qe(r);0===n&&null!==t?null==i?o0(e,t,a):Do(e,t,a,i||null,!0):1===n&&null!==t?Do(e,t,a,i||null,!0):2===n?function lh(n,e,t){const r=uh(n,e);r&&function mG(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function vG(n,e,t,r,i){const o=t[Cr];o!==Qe(t)&&$s(e,n,r,o,i);for(let a=Bt;a<t.length;a++){const u=t[a];ec(u[Q],u,n,e,r,o)}}(e,n,o,t,i)}}function sh(n,e,t){return n.createElement(e,t)}function n0(n,e){const t=n[Ds],r=t.indexOf(e);tb(e),t.splice(r,1)}function ah(n,e){if(n.length<=Bt)return;const t=Bt+e,r=n[t];if(r){const i=r[Fu];null!==i&&i!==n&&n0(i,r),e>0&&(n[t-1][dr]=r[dr]);const o=Yd(n,Bt+e);!function uG(n,e){ec(n,e,e[fe],2,null,null),e[ht]=null,e[Qt]=null}(r[Q],r);const s=o[Tr];null!==s&&s.detachView(o[Q]),r[rt]=null,r[dr]=null,r[ge]&=-129}return r}function Jm(n,e){if(!(256&e[ge])){const t=e[fe];e[Uu]&&BA(e[Uu]),e[Bu]&&BA(e[Bu]),t.destroyNode&&ec(n,e,t,3,null,null),function dG(n){let e=n[Vu];if(!e)return Zm(n[Q],n);for(;e;){let t=null;if(Tn(e))t=e[Vu];else{const r=e[Bt];r&&(t=r)}if(!t){for(;e&&!e[dr]&&e!==n;)Tn(e)&&Zm(e[Q],e),e=e[rt];null===e&&(e=n),Tn(e)&&Zm(e[Q],e),t=e&&e[dr]}e=t}}(e)}}function Zm(n,e){if(!(256&e[ge])){e[ge]&=-129,e[ge]|=256,function gG(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof zu)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],u=o[s+1];Dr(4,a,u);try{u.call(a)}finally{Dr(5,a,u)}}else{Dr(4,i,o);try{o.call(i)}finally{Dr(5,i,o)}}}}}(n,e),function pG(n,e){const t=n.cleanup,r=e[Es];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(e[Es]=null);const i=e[Mi];if(null!==i){e[Mi]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(n,e),1===e[Q].type&&e[fe].destroy();const t=e[Fu];if(null!==t&&cn(e[rt])){t!==e[rt]&&n0(t,e);const r=e[Tr];null!==r&&r.detachView(n)}!function Z$(n){Hm.delete(n[Lu])}(e)}}function Xm(n,e,t){return function r0(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[ht];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=n.data[r.directiveStart+i];if(o===cr.None||o===cr.Emulated)return null}return Cn(r,t)}}(n,e.parent,t)}function Do(n,e,t,r,i){n.insertBefore(e,t,r,i)}function o0(n,e,t){n.appendChild(e,t)}function s0(n,e,t,r,i){null!==r?Do(n,e,t,r,i):o0(n,e,t)}function uh(n,e){return n.parentNode(e)}let e_,i_,hh,c0=function u0(n,e,t){return 40&n.type?Cn(n,t):null};function ch(n,e,t,r){const i=Xm(n,r,e),o=e[fe],a=function a0(n,e,t){return c0(n,e,t)}(r.parent||e[Qt],r,e);if(null!=i)if(Array.isArray(t))for(let u=0;u<t.length;u++)s0(o,i,t[u],a,!1);else s0(o,i,t,a,!1);void 0!==e_&&e_(o,r,e,t,i)}function Xu(n,e){if(null!==e){const t=e.type;if(3&t)return Cn(e,n);if(4&t)return t_(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return Xu(n,r);{const i=n[e.index];return cn(i)?t_(-1,i):Qe(i)}}if(32&t)return Qm(e,n)()||Qe(n[e.index]);{const r=d0(n,e);return null!==r?Array.isArray(r)?r[0]:Xu(Zu(n[yt]),r):Xu(n,e.next)}}return null}function d0(n,e){return null!==e?n[yt][Qt].projection[e.projection]:null}function t_(n,e){const t=Bt+n+1;if(t<e.length){const r=e[t],i=r[Q].firstChild;if(null!==i)return Xu(r,i)}return e[Cr]}function n_(n,e,t,r,i,o,s){for(;null!=t;){const a=r[t.index],u=t.type;if(s&&0===e&&(a&&Yt(Qe(a),r),t.flags|=2),32!=(32&t.flags))if(8&u)n_(n,e,t.child,r,i,o,!1),$s(e,n,i,a,o);else if(32&u){const c=Qm(t,r);let d;for(;d=c();)$s(e,n,i,d,o);$s(e,n,i,a,o)}else 16&u?f0(n,e,r,t,i,o):$s(e,n,i,a,o);t=s?t.projectionNext:t.next}}function ec(n,e,t,r,i,o){n_(t,r,n.firstChild,e,i,o,!1)}function f0(n,e,t,r,i,o){const s=t[yt],u=s[Qt].projection[r.projection];if(Array.isArray(u))for(let c=0;c<u.length;c++)$s(e,n,i,u[c],o);else{let c=u;const d=s[rt];rh(r)&&(c.flags|=128),n_(n,e,c,d,i,o,!0)}}function p0(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function g0(n,e,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&pm(n,e,r),null!==i&&p0(n,e,i),null!==o&&function EG(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function y0(n){return function o_(){if(void 0===hh&&(hh=null,Ke.trustedTypes))try{hh=Ke.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hh}()?.createScriptURL(n)||n}class v0{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${uA})`}}function Vi(n){return n instanceof v0?n.changingThisBreaksApplicationSecurity:n}function tc(n,e){const t=function MG(n){return n instanceof v0&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${uA})`)}return t===e}const kG=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Hs=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Hs||{});function qs(n){const e=rc();return e?e.sanitize(Hs.URL,n)||"":tc(n,"URL")?Vi(n):function s_(n){return(n=String(n)).match(kG)?n:"unsafe:"+n}(he(n))}function A0(n){const e=rc();if(e)return y0(e.sanitize(Hs.RESOURCE_URL,n)||"");if(tc(n,"ResourceURL"))return y0(Vi(n));throw new U(904,!1)}function rc(){const n=V();return n&&n[ws].sanitizer}const ic=new Z("ENVIRONMENT_INITIALIZER"),S0=new Z("INJECTOR",-1),R0=new Z("INJECTOR_DEF_TYPES");class l_{get(e,t=Mu){if(t===Mu){const r=new Error(`NullInjectorError: No provider for ${Rt(e)}!`);throw r.name="NullInjectorError",r}return t}}function KG(...n){return{\u0275providers:M0(0,n),\u0275fromNgModule:!0}}function M0(n,...e){const t=[],r=new Set;let i;const o=s=>{t.push(s)};return Ls(e,s=>{const a=s;ph(a,o,[],r)&&(i||=[],i.push(a))}),void 0!==i&&x0(i,o),t}function x0(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];d_(i,o=>{e(o,r)})}}function ph(n,e,t,r){if(!(n=ae(n)))return!1;let i=null,o=Rd(n);const s=!o&&Ce(n);if(o||s){if(s&&!s.standalone)return!1;i=n}else{const u=n.ngModule;if(o=Rd(u),!o)return!1;i=u}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const u="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of u)ph(c,e,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;r.add(i);try{Ls(o.imports,d=>{ph(d,e,t,r)&&(c||=[],c.push(d))})}finally{}void 0!==c&&x0(c,e)}if(!a){const c=wo(i)||(()=>new i);e({provide:i,useFactory:c,deps:Se},i),e({provide:R0,useValue:i,multi:!0},i),e({provide:ic,useValue:()=>re(i),multi:!0},i)}const u=o.providers;if(null!=u&&!a){const c=n;d_(u,d=>{e(d,c)})}}}return i!==n&&void 0!==n.providers}function d_(n,e){for(let t of n)nm(t)&&(t=t.\u0275providers),Array.isArray(t)?d_(t,e):e(t)}const QG=ke({provide:String,useValue:ke});function h_(n){return null!==n&&"object"==typeof n&&QG in n}function Ao(n){return"function"==typeof n}const f_=new Z("Set Injector scope."),gh={},JG={};let p_;function mh(){return void 0===p_&&(p_=new l_),p_}class er{}class Ws extends er{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,m_(e,s=>this.processProvider(s)),this.records.set(S0,Ks(void 0,this)),i.has("environment")&&this.records.set(er,Ks(void 0,this));const o=this.records.get(f_);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(R0.multi,Se,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Si(this),r=En(void 0);try{return e()}finally{Si(t),En(r)}}get(e,t=Mu,r=ve.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(_A))return e[_A](this);r=xd(r);const o=Si(this),s=En(void 0);try{if(!(r&ve.SkipSelf)){let u=this.records.get(e);if(void 0===u){const c=function nz(n){return"function"==typeof n||"object"==typeof n&&n instanceof Z}(e)&&Sd(e);u=c&&this.injectableDefInScope(c)?Ks(g_(e),gh):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(r&ve.Self?mh():this.parent).get(e,t=r&ve.Optional&&t===Mu?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Md]=a[Md]||[]).unshift(Rt(e)),o)throw a;return function JB(n,e,t,r){const i=n[Md];throw e[pA]&&i.unshift(e[pA]),n.message=function ZB(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=Rt(e);if(Array.isArray(e))i=e.map(Rt).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):Rt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(qB,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Md]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{En(s),Si(o)}}resolveInjectorInitializers(){const e=Si(this),t=En(void 0);try{const i=this.get(ic.multi,Se,ve.Self);for(const o of i)o()}finally{Si(e),En(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(Rt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new U(205,!1)}processProvider(e){let t=Ao(e=ae(e))?e:ae(e&&e.provide);const r=function XG(n){return h_(n)?Ks(void 0,n.useValue):Ks(k0(n),gh)}(e);if(Ao(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Ks(void 0,gh,!0),i.factory=()=>dm(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===gh&&(t.value=JG,t.value=t.factory()),"object"==typeof t.value&&t.value&&function tz(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ae(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function g_(n){const e=Sd(n),t=null!==e?e.factory:wo(n);if(null!==t)return t;if(n instanceof Z)throw new U(204,!1);if(n instanceof Function)return function ZG(n){const e=n.length;if(e>0)throw function Qu(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}(e,"?"),new U(204,!1);const t=function $B(n){return n&&(n[Pd]||n[lA])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new U(204,!1)}function k0(n,e,t){let r;if(Ao(n)){const i=ae(n);return wo(i)||g_(i)}if(h_(n))r=()=>ae(n.useValue);else if(function O0(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...dm(n.deps||[]));else if(function N0(n){return!(!n||!n.useExisting)}(n))r=()=>re(ae(n.useExisting));else{const i=ae(n&&(n.useClass||n.provide));if(!function ez(n){return!!n.deps}(n))return wo(i)||g_(i);r=()=>new i(...dm(n.deps))}return r}function Ks(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function m_(n,e){for(const t of n)Array.isArray(t)?m_(t,e):t&&nm(t)?m_(t.\u0275providers,e):e(t)}const _h=new Z("AppId",{providedIn:"root",factory:()=>rz}),rz="ng",V0=new Z("Platform Initializer"),bo=new Z("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),F0=new Z("CSP nonce",{providedIn:"root",factory:()=>function zs(){if(void 0!==i_)return i_;if(typeof document<"u")return document;throw new U(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let L0=(n,e,t)=>null;function C_(n,e,t=!1){return L0(n,e,t)}class fz{}class j0{}class gz{resolveComponentFactory(e){throw function pz(n){const e=Error(`No component factory found for ${Rt(n)}.`);return e.ngComponent=n,e}(e)}}let Th=(()=>{class n{static#e=this.NULL=new gz}return n})();function mz(){return Js($t(),V())}function Js(n,e){return new Ln(Cn(n,e))}let Ln=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=mz}return n})();function _z(n){return n instanceof Ln?n.nativeElement:n}class G0{}let Zr=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function yz(){const n=V(),t=Vn($t().index,n);return(Tn(t)?t:n)[fe]}()}return n})(),vz=(()=>{class n{static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>null})}return n})();class Zs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const z0=new Zs("16.2.12"),b_={};function K0(n,e=null,t=null,r){const i=Q0(n,e,t,r);return i.resolveInjectorInitializers(),i}function Q0(n,e=null,t=null,r,i=new Set){const o=[t||Se,KG(n)];return r=r||("object"==typeof n?void 0:Rt(n)),new Ws(o,e||mh(),r||null,i)}let fn=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Mu;static#t=this.NULL=new l_;static create(t,r){if(Array.isArray(t))return K0({name:""},r,t,"");{const i=t.name??"";return K0({name:i},t.parent,t.providers,i)}}static#n=this.\u0275prov=ie({token:n,providedIn:"any",factory:()=>re(S0)});static#r=this.__NG_ELEMENT_ID__=-1}return n})();function R_(n){return n.ngOriginalError}class Xr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&R_(e);for(;t&&R_(t);)t=R_(t);return t||null}}function M_(n){return e=>{setTimeout(n,void 0,e)}}const ft=class Az extends ur{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&"object"==typeof e){const u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=M_(o),i&&(i=M_(i)),s&&(s=M_(s)));const a=super.subscribe({next:i,error:o,complete:s});return e instanceof In&&e.add(a),a}};function J0(...n){}class Ve{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ft(!1),this.onMicrotaskEmpty=new ft(!1),this.onStable=new ft(!1),this.onError=new ft(!1),typeof Zone>"u")throw new U(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function bz(){const n="function"==typeof Ke.requestAnimationFrame;let e=Ke[n?"requestAnimationFrame":"setTimeout"],t=Ke[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function Pz(n){const e=()=>{!function Rz(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ke,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,N_(n),n.isCheckStableRunning=!0,x_(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),N_(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{if(function xz(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,o,s,a);try{return Z0(n),t.invokeTask(i,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),X0(n)}},onInvoke:(t,r,i,o,s,a,u)=>{try{return Z0(n),t.invoke(i,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),X0(n)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,N_(n),x_(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ve.isInAngularZone())throw new U(909,!1)}static assertNotInAngularZone(){if(Ve.isInAngularZone())throw new U(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,Sz,J0,J0);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const Sz={};function x_(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function N_(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function Z0(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function X0(n){n._nesting--,x_(n)}class Mz{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ft,this.onMicrotaskEmpty=new ft,this.onStable=new ft,this.onError=new ft}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const eS=new Z("",{providedIn:"root",factory:tS});function tS(){const n=X(Ve);let e=!0;return function xB(...n){const e=Pu(n),t=function DB(n,e){return"number"==typeof Zg(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?xn(r[0]):ys(t)(Ot(r,e)):Ir}(new ut(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new ut(i=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Ve.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(aA()))}function O_(n){return n.ownerDocument.defaultView}function ei(n){return n instanceof Function?n():n}let k_=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})();function ac(n){for(;n;){n[ge]|=64;const e=Zu(n);if(_m(n)&&!e)return n;n=e}return null}const sS=new Z("",{providedIn:"root",factory:()=>!1});let Dh=null;function lS(n,e){return n[e]??fS()}function dS(n,e){const t=fS();t.producerNode?.length&&(n[e]=Dh,t.lView=n,Dh=hS())}const jz={...OA,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ac(n.lView)},lView:null};function hS(){return Object.create(jz)}function fS(){return Dh??=hS(),Dh}const pe={};function Pe(n){pS(De(),V(),dn()+n,!1)}function pS(n,e,t,r){if(!r)if(3==(3&e[ge])){const o=n.preOrderCheckHooks;null!==o&&Gd(e,o,t)}else{const o=n.preOrderHooks;null!==o&&zd(e,o,0,t)}To(t)}function B(n,e=ve.Default){const t=V();return null===t?re(n,e):Db($t(),t,ae(n),e)}function Ah(n,e,t,r,i,o,s,a,u,c,d){const h=e.blueprint.slice();return h[ht]=i,h[ge]=140|r,(null!==c||n&&2048&n[ge])&&(h[ge]|=2048),eb(h),h[rt]=h[Ts]=n,h[_t]=t,h[ws]=s||n&&n[ws],h[fe]=a||n&&n[fe],h[Pi]=u||n&&n[Pi]||null,h[Qt]=o,h[Lu]=function Y$(){return Q$++}(),h[Kr]=d,h[PA]=c,h[yt]=2==e.type?n[yt]:h,h}function ta(n,e,t,r,i){let o=n.data[e];if(null===o)o=function V_(n,e,t,r,i){const o=sb(),s=Dm(),u=n.data[e]=function Qz(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return function Ss(){return null!==se.skipHydrationRootTNode}()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=u),null!==o&&(s?null==o.child&&null!==u.parent&&(o.child=u):null===o.next&&(o.next=u,u.prev=o)),u}(n,e,t,r,i),function Qj(){return se.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function Gu(){const n=se.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Ar(o,!0),o}function uc(n,e,t,r){if(0===t)return-1;const i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function mS(n,e,t,r,i){const o=lS(e,Uu),s=dn(),a=2&r;try{To(-1),a&&e.length>Ie&&pS(n,e,Ie,!1),Dr(a?2:0,i);const c=a?o:null,d=vm(c);try{null!==c&&(c.dirty=!1),t(r,i)}finally{Im(c,d)}}finally{a&&null===e[Uu]&&dS(e,Uu),To(s),Dr(a?3:1,i)}}function F_(n,e,t){if(mm(e)){const r=Yn(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{Yn(r)}}}function L_(n,e,t){ob()&&(function n4(n,e,t,r){const i=t.directiveStart,o=t.directiveEnd;Eo(t)&&function c4(n,e,t){const r=Cn(e,n),i=_S(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=bh(n,Ah(n,i,null,s,r,e,null,n[ws].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||qd(t,e),Yt(r,e);const s=t.initialInputs;for(let a=i;a<o;a++){const u=n.data[a],c=Co(e,n,a,t);Yt(c,e),null!==s&&l4(0,a-i,c,u,0,s),hr(u)&&(Vn(t.index,e)[_t]=Co(e,n,a,t))}}(n,e,t,Cn(t,e)),64==(64&t.flags)&&wS(n,e,t))}function U_(n,e,t=Cn){const r=e.localNames;if(null!==r){let i=e.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(e,n):n[s];n[i++]=a}}}function _S(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=B_(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function B_(n,e,t,r,i,o,s,a,u,c,d){const h=Ie+r,p=h+i,m=function Gz(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:pe);return t}(h,p),y="function"==typeof c?c():c;return m[Q]={type:n,blueprint:m,template:t,queries:null,viewQuery:a,declTNode:e,data:m.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:y,incompleteFirstPass:!1,ssrId:d}}let yS=n=>null;function vS(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const o=n[i];null===r?IS(t,e,i,o):r.hasOwnProperty(i)&&IS(t,e,r[i],o)}return t}function IS(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function Un(n,e,t,r,i,o,s,a){const u=Cn(e,t);let d,c=e.inputs;!a&&null!=c&&(d=c[r])?(H_(n,t,d,r,i),Eo(e)&&function Zz(n,e){const t=Vn(e,n);16&t[ge]||(t[ge]|=64)}(t,e.index)):3&e.type&&(r=function Jz(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=s?s(i,e.value||"",r):i,o.setProperty(u,r,i))}function j_(n,e,t,r){if(ob()){const i=null===r?null:{"":-1},o=function i4(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(CA(e,s.selectors,!1))if(r||(r=[]),hr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),$_(n,e,a.length)}else r.unshift(s),$_(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&ES(n,e,t,s,i,a),i&&function o4(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const o=t[e[i+1]];if(null==o)throw new U(-301,!1);r.push(e[i],o)}}}(t,r,i)}t.mergedAttrs=Ou(t.mergedAttrs,t.attrs)}function ES(n,e,t,r,i,o){for(let c=0;c<r.length;c++)Fm(qd(t,e),n,r[c].type);!function a4(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let c=0;c<r.length;c++){const d=r[c];d.providersResolver&&d.providersResolver(d)}let s=!1,a=!1,u=uc(n,e,r.length,null);for(let c=0;c<r.length;c++){const d=r[c];t.mergedAttrs=Ou(t.mergedAttrs,d.hostAttrs),u4(n,t,e,u,d),s4(u,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const h=d.type.prototype;!s&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function Yz(n,e,t){const i=e.directiveEnd,o=n.data,s=e.attrs,a=[];let u=null,c=null;for(let d=e.directiveStart;d<i;d++){const h=o[d],p=t?t.get(h):null,y=p?p.outputs:null;u=vS(h.inputs,d,u,p?p.inputs:null),c=vS(h.outputs,d,c,y);const I=null===u||null===s||TA(e)?null:d4(u,d,s);a.push(I)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=c}(n,t,o)}function wS(n,e,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function Jj(){return se.lFrame.currentDirectiveIndex}();try{To(o);for(let a=r;a<i;a++){const u=n.data[a],c=e[a];bm(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&r4(u,c)}}finally{To(-1),bm(s)}}function r4(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function $_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function s4(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;hr(e)&&(t[""]=n)}}function u4(n,e,t,r,i){n.data[r]=i;const o=i.factory||(i.factory=wo(i.type)),s=new zu(o,hr(i),B);n.blueprint[r]=s,t[r]=s,function e4(n,e,t,r,i){const o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function t4(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(n,e,r,uc(n,t,i.hostVars,pe),i)}function Sr(n,e,t,r,i,o){const s=Cn(n,e);!function G_(n,e,t,r,i,o,s){if(null==o)n.removeAttribute(e,i,t);else{const a=null==s?he(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}(e[fe],s,o,n.value,t,r,i)}function l4(n,e,t,r,i,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)TS(r,t,s[a++],s[a++],s[a++])}function TS(n,e,t,r,i){const o=Yn(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Yn(o)}}function d4(n,e,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===r&&(r=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function CS(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function DS(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=n.data[o];Rm(t[r]),s.contentQueries(2,e[o],o)}}}function bh(n,e){return n[Vu]?n[RA][dr]=e:n[Vu]=e,n[RA]=e,e}function z_(n,e,t){Rm(0);const r=Yn(null);try{e(n,t)}finally{Yn(r)}}function AS(n){return n[Es]||(n[Es]=[])}function bS(n){return n.cleanup||(n.cleanup=[])}function RS(n,e){const t=n[Pi],r=t?t.get(Xr,null):null;r&&r.handleError(e)}function H_(n,e,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];TS(n.data[s],e[s],r,a,i)}}function h4(n,e){const t=Vn(e,n),r=t[Q];!function f4(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[ht];null!==i&&null===t[Kr]&&(t[Kr]=C_(i,t[Pi])),q_(r,t,t[_t])}function q_(n,e,t){Pm(e);try{const r=n.viewQuery;null!==r&&z_(1,r,t);const i=n.template;null!==i&&mS(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&DS(n,e),n.staticViewQueries&&z_(2,n.viewQuery,t);const o=n.components;null!==o&&function p4(n,e){for(let t=0;t<e.length;t++)h4(n,e[t])}(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ge]&=-5,Mm()}}let PS=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=function bj(n,e,t){const r=Object.create(Sj);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=s=>{r.cleanupFn=s};return r.ref={notify:()=>LA(r),run:()=>{if(r.dirty=!1,r.hasRun&&!UA(r))return;r.hasRun=!0;const s=vm(r);try{r.cleanupFn(),r.cleanupFn=WA,r.fn(i)}finally{Im(r,s)}},cleanup:()=>r.cleanupFn()},r.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},i);let a;this.all.add(s),s.notify();const u=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(u),{destroy:u}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new n})}return n})();function Sh(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?i=em(i,a):2==o&&(r=em(r,a+": "+e[++s]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function cc(n,e,t,r,i=!1){for(;null!==t;){const o=e[t.index];null!==o&&r.push(Qe(o)),cn(o)&&MS(o,r);const s=t.type;if(8&s)cc(n,e,t.child,r);else if(32&s){const a=Qm(t,e);let u;for(;u=a();)r.push(u)}else if(16&s){const a=d0(e,t);if(Array.isArray(a))r.push(...a);else{const u=Zu(e[yt]);cc(u[Q],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function MS(n,e){for(let t=Bt;t<n.length;t++){const r=n[t],i=r[Q].firstChild;null!==i&&cc(r[Q],r,i,e)}n[Cr]!==n[ht]&&e.push(n[Cr])}function Rh(n,e,t,r=!0){const i=e[ws],o=i.rendererFactory,s=i.afterRenderEventManager;o.begin?.(),s?.begin();try{xS(n,e,n.template,t)}catch(u){throw r&&RS(e,u),u}finally{o.end?.(),i.effectManager?.flush(),s?.end()}}function xS(n,e,t,r){const i=e[ge];if(256!=(256&i)){e[ws].effectManager?.flush(),Pm(e);try{eb(e),function ub(n){return se.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&mS(n,e,t,2,r);const s=3==(3&i);if(s){const c=n.preOrderCheckHooks;null!==c&&Gd(e,c,null)}else{const c=n.preOrderHooks;null!==c&&zd(e,c,0,null),xm(e,0)}if(function _4(n){for(let e=Zb(n);null!==e;e=Xb(e)){if(!e[MA])continue;const t=e[Ds];for(let r=0;r<t.length;r++){Lj(t[r])}}}(e),NS(e,2),null!==n.contentQueries&&DS(n,e),s){const c=n.contentCheckHooks;null!==c&&Gd(e,c)}else{const c=n.contentHooks;null!==c&&zd(e,c,1),xm(e,1)}!function $z(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=lS(e,Bu);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)To(~o);else{const s=o,a=t[++i],u=t[++i];Yj(a,s),r.dirty=!1;const c=vm(r);try{u(2,e[s])}finally{Im(r,c)}}}}finally{null===e[Bu]&&dS(e,Bu),To(-1)}}(n,e);const a=n.components;null!==a&&kS(e,a,0);const u=n.viewQuery;if(null!==u&&z_(2,u,r),s){const c=n.viewCheckHooks;null!==c&&Gd(e,c)}else{const c=n.viewHooks;null!==c&&zd(e,c,2),xm(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[ge]&=-73,tb(e)}finally{Mm()}}}function NS(n,e){for(let t=Zb(n);null!==t;t=Xb(t))for(let r=Bt;r<t.length;r++)OS(t[r],e)}function y4(n,e,t){OS(Vn(e,n),t)}function OS(n,e){if(!function Vj(n){return 128==(128&n[ge])}(n))return;const t=n[Q],r=n[ge];if(80&r&&0===e||1024&r||2===e)xS(t,n,t.template,n[_t]);else if(n[ku]>0){NS(n,1);const i=t.components;null!==i&&kS(n,i,1)}}function kS(n,e,t){for(let r=0;r<e.length;r++)y4(n,e[r],t)}class lc{get rootNodes(){const e=this._lView,t=e[Q];return cc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_t]}set context(e){this._lView[_t]=e}get destroyed(){return 256==(256&this._lView[ge])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[rt];if(cn(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(ah(e,r),Yd(t,r))}this._attachedToViewContainer=!1}Jm(this._lView[Q],this._lView)}onDestroy(e){!function rb(n,e){if(256==(256&n[ge]))throw new U(911,!1);null===n[Mi]&&(n[Mi]=[]),n[Mi].push(e)}(this._lView,e)}markForCheck(){ac(this._cdRefInjectingView||this._lView)}detach(){this._lView[ge]&=-129}reattach(){this._lView[ge]|=128}detectChanges(){Rh(this._lView[Q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new U(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function lG(n,e){ec(n,e,e[fe],2,null,null)}(this._lView[Q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new U(902,!1);this._appRef=e}}class v4 extends lc{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rh(e[Q],e,e[_t],!1)}checkNoChanges(){}get context(){return null}}class VS extends Th{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ce(e);return new dc(t,this.ngModule)}}function FS(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class E4{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=xd(r);const i=this.injector.get(e,b_,r);return i!==b_||t===b_?i:this.parentInjector.get(e,t,r)}}class dc extends j0{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=FS(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return FS(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function uj(n){return n.map(aj).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=(i=i||this.ngModule)instanceof er?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new E4(e,o):e,a=s.get(G0,null);if(null===a)throw new U(407,!1);const h={rendererFactory:a,sanitizer:s.get(vz,null),effectManager:s.get(PS,null),afterRenderEventManager:s.get(k_,null)},p=a.createRenderer(null,this.componentDef),m=this.componentDef.selectors[0][0]||"div",y=r?function zz(n,e,t,r){const o=r.get(sS,!1)||t===cr.ShadowDom,s=n.selectRootElement(e,o);return function Hz(n){yS(n)}(s),s}(p,r,this.componentDef.encapsulation,s):sh(p,m,function I4(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(m)),P=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let D=null;null!==y&&(D=C_(y,s,!0));const k=B_(0,null,null,1,0,null,null,null,null,null,null),j=Ah(null,k,null,P,null,null,h,p,s,null,D);let Y,ne;Pm(j);try{const C=this.componentDef;let v,w=null;C.findHostDirectiveDefs?(v=[],w=new Map,C.findHostDirectiveDefs(C,v,w),v.push(C)):v=[C];const A=function T4(n,e){const t=n[Q],r=Ie;return n[r]=e,ta(t,r,2,"#host",null)}(j,y),b=function C4(n,e,t,r,i,o,s){const a=i[Q];!function D4(n,e,t,r){for(const i of n)e.mergedAttrs=Ou(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Sh(e,e.mergedAttrs,!0),null!==t&&g0(r,t,e))}(r,n,e,s);let u=null;null!==e&&(u=C_(e,i[Pi]));const c=o.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const h=Ah(i,_S(t),null,d,i[n.index],n,o,c,null,null,u);return a.firstCreatePass&&$_(a,n,r.length-1),bh(i,h),i[n.index]=h}(A,y,C,v,j,h,p);ne=XA(k,Ie),y&&function b4(n,e,t,r){if(r)pm(n,t,["ng-version",z0.full]);else{const{attrs:i,classes:o}=function cj(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let o=n[r];if("string"==typeof o)2===i?""!==o&&e.push(o,n[++r]):8===i&&t.push(o);else{if(!lr(i))break;i=o}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&pm(n,t,i),o&&o.length>0&&p0(n,t,o.join(" "))}}(p,C,y,r),void 0!==t&&function S4(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(ne,this.ngContentSelectors,t),Y=function A4(n,e,t,r,i,o){const s=$t(),a=i[Q],u=Cn(s,i);ES(a,i,s,t,null,r);for(let d=0;d<t.length;d++)Yt(Co(i,a,s.directiveStart+d,s),i);wS(a,i,s),u&&Yt(u,i);const c=Co(i,a,s.directiveStart+s.componentOffset,s);if(n[_t]=i[_t]=c,null!==o)for(const d of o)d(c,e);return F_(a,s,n),c}(b,C,v,w,j,[R4]),q_(k,j,null)}finally{Mm()}return new w4(this.componentType,Y,Js(ne,j),j,ne)}}class w4 extends fz{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new v4(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;H_(o[Q],o,i,e,t),this.previousInputValues.set(e,t),ac(Vn(this._tNode.index,o))}}get injector(){return new hn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function R4(){const n=$t();$d(V()[Q],n)}function Fe(n){let e=function LS(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(hr(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new U(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const s=n;s.inputs=Ph(n.inputs),s.inputTransforms=Ph(n.inputTransforms),s.declaredInputs=Ph(n.declaredInputs),s.outputs=Ph(n.outputs);const a=i.hostBindings;a&&N4(n,a);const u=i.viewQuery,c=i.contentQueries;if(u&&M4(n,u),c&&x4(n,c),Ad(n.inputs,i.inputs),Ad(n.declaredInputs,i.declaredInputs),Ad(n.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),Ad(s.inputTransforms,i.inputTransforms)),hr(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===Fe&&(t=!1)}}e=Object.getPrototypeOf(e)}!function P4(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ou(i.hostAttrs,t=Ou(t,i.hostAttrs))}}(r)}function Ph(n){return n===wr?{}:n===Se?[]:n}function M4(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function x4(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,o)=>{e(r,i,o),t(r,i,o)}:e}function N4(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function $S(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function Mh(n){return!!W_(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function W_(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Rr(n,e,t){return n[e]=t}function Jt(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Pr(n,e,t,r){const i=V();return Jt(i,Ms(),e)&&(De(),Sr(ct(),i,n,e,t,r)),Pr}function ra(n,e,t,r){return Jt(n,Ms(),t)?e+he(t)+r:pe}function Ro(n,e,t,r,i,o,s,a){const u=V(),c=De(),d=n+Ie,h=c.firstCreatePass?function iH(n,e,t,r,i,o,s,a,u){const c=e.consts,d=ta(e,n,4,s||null,Ni(c,a));j_(e,t,d,Ni(c,u)),$d(e,d);const h=d.tView=B_(2,d,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}(d,c,u,e,t,r,i,o,s):c.data[d];Ar(h,!1);const p=tR(c,u,h,n);jd()&&ch(c,u,p,h),Yt(p,u),bh(u,u[d]=CS(p,u,p,h)),Fd(h)&&L_(c,u,h),null!=s&&U_(u,h,a)}let tR=function nR(n,e,t,r){return Oi(!0),e[fe].createComment("")};function Ge(n,e,t){const r=V();return Jt(r,Ms(),e)&&Un(De(),ct(),r,n,e,r[fe],t,!1),Ge}function X_(n,e,t,r,i){const s=i?"class":"style";H_(n,t,e.inputs[s],s,r)}function G(n,e,t,r){const i=V(),o=De(),s=Ie+n,a=i[fe],u=o.firstCreatePass?function cH(n,e,t,r,i,o){const s=e.consts,u=ta(e,n,2,r,Ni(s,i));return j_(e,t,u,Ni(s,o)),null!==u.attrs&&Sh(u,u.attrs,!1),null!==u.mergedAttrs&&Sh(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,i,e,t,r):o.data[s],c=rR(o,i,u,a,e,n);i[s]=c;const d=Fd(u);return Ar(u,!0),g0(a,c,u),32!=(32&u.flags)&&jd()&&ch(o,i,c,u),0===function Bj(){return se.lFrame.elementDepthCount}()&&Yt(c,i),function jj(){se.lFrame.elementDepthCount++}(),d&&(L_(o,i,u),F_(o,u,i)),null!==r&&U_(i,u),G}function W(){let n=$t();Dm()?function Am(){se.lFrame.isParent=!1}():(n=n.parent,Ar(n,!1));const e=n;(function Gj(n){return se.skipHydrationRootTNode===n})(e)&&function Wj(){se.skipHydrationRootTNode=null}(),function $j(){se.lFrame.elementDepthCount--}();const t=De();return t.firstCreatePass&&($d(t,n),mm(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function u$(n){return 0!=(8&n.flags)}(e)&&X_(t,e,V(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function c$(n){return 0!=(16&n.flags)}(e)&&X_(t,e,V(),e.stylesWithoutHost,!1),W}function be(n,e,t,r){return G(n,e,t,r),W(),be}let rR=(n,e,t,r,i,o)=>(Oi(!0),sh(r,i,function mb(){return se.lFrame.currentNamespace}()));function da(){return V()}function mc(n){return!!n&&"function"==typeof n.then}function sR(n){return!!n&&"function"==typeof n.subscribe}function ze(n,e,t,r){const i=V(),o=De(),s=$t();return function uR(n,e,t,r,i,o,s){const a=Fd(r),c=n.firstCreatePass&&bS(n),d=e[_t],h=AS(e);let p=!0;if(3&r.type||s){const I=Cn(r,e),E=s?s(I):I,P=h.length,D=s?j=>s(Qe(j[r.index])):r.index;let k=null;if(!s&&a&&(k=function gH(n,e,t,r){const i=n.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=e[Es],u=i[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(n,e,i,r.index)),null!==k)(k.__ngLastListenerFn__||k).__ngNextListenerFn__=o,k.__ngLastListenerFn__=o,p=!1;else{o=lR(r,e,d,o,!1);const j=t.listen(E,i,o);h.push(o,j),c&&c.push(i,D,P,P+1)}}else o=lR(r,e,d,o,!1);const m=r.outputs;let y;if(p&&null!==m&&(y=m[i])){const I=y.length;if(I)for(let E=0;E<I;E+=2){const Y=e[y[E]][y[E+1]].subscribe(o),ne=h.length;h.push(o,Y),c&&c.push(i,r.index,ne,-(ne+1))}}}(o,i,i[fe],s,n,e,r),ze}function cR(n,e,t,r){try{return Dr(6,e,t),!1!==t(r)}catch(i){return RS(n,i),!1}finally{Dr(7,e,t)}}function lR(n,e,t,r,i){return function o(s){if(s===Function)return r;ac(n.componentOffset>-1?Vn(n.index,e):e);let u=cR(e,t,r,s),c=o.__ngNextListenerFn__;for(;c;)u=cR(e,t,c,s)&&u,c=c.__ngNextListenerFn__;return i&&!1===u&&s.preventDefault(),u}}function Mr(n=1){return function Xj(n){return(se.lFrame.contextLView=function e$(n,e){for(;n>0;)e=e[Ts],n--;return e}(n,se.lFrame.contextLView))[_t]}(n)}function Fi(n,e,t,r,i){const o=V(),s=ra(o,e,t,r);return s!==pe&&Un(De(),ct(),o,n,s,o[fe],i,!1),Fi}function Vh(n,e){return n<<17|e<<2}function Li(n){return n>>17&32767}function ny(n){return 2|n}function Po(n){return(131068&n)>>2}function ry(n,e){return-131069&n|e<<2}function iy(n){return 1|n}function IR(n,e,t,r,i){const o=n[t+1],s=null===e;let a=r?Li(o):Po(o),u=!1;for(;0!==a&&(!1===u||s);){const d=n[a+1];CH(n[a],e)&&(u=!0,n[a+1]=r?iy(d):ny(d)),a=r?Li(d):Po(d)}u&&(n[t+1]=r?ny(o):iy(o))}function CH(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Us(n,e)>=0}function Fh(n,e){return function fr(n,e,t,r){const i=V(),o=De(),s=function Yr(n){const e=se.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function RR(n,e,t,r){const i=n.data;if(null===i[t+1]){const o=i[dn()],s=function SR(n,e){return e>=n.expandoStartIndex}(n,t);(function NR(n,e){return 0!=(n.flags&(e?8:16))})(o,r)&&null===e&&!s&&(e=!1),e=function NH(n,e,t,r){const i=function Sm(n){const e=se.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=_c(t=oy(null,n,e,t,r),e.attrs,r),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==i)if(t=oy(i,n,e,t,r),null===o){let u=function OH(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Po(r))return n[Li(r)]}(n,e,r);void 0!==u&&Array.isArray(u)&&(u=oy(null,n,e,u[1],r),u=_c(u,e.attrs,r),function kH(n,e,t,r){n[Li(t?e.classBindings:e.styleBindings)]=r}(n,e,r,u))}else o=function VH(n,e,t){let r;const i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++)r=_c(r,n[o].hostAttrs,t);return _c(r,e.attrs,t)}(n,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),t}(i,o,e,r),function wH(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Li(s),u=Po(s);n[r]=t;let d,c=!1;if(Array.isArray(t)?(d=t[1],(null===d||Us(t,d)>0)&&(c=!0)):d=t,i)if(0!==u){const p=Li(n[a+1]);n[r+1]=Vh(p,a),0!==p&&(n[p+1]=ry(n[p+1],r)),n[a+1]=function IH(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=Vh(a,0),0!==a&&(n[a+1]=ry(n[a+1],r)),a=r;else n[r+1]=Vh(u,0),0===a?a=r:n[u+1]=ry(n[u+1],r),u=r;c&&(n[r+1]=ny(n[r+1])),IR(n,d,r,!0),IR(n,d,r,!1),function TH(n,e,t,r,i){const o=i?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&Us(o,e)>=0&&(t[r+1]=iy(t[r+1]))}(e,d,n,r,o),s=Vh(a,u),o?e.classBindings=s:e.styleBindings=s}(i,o,e,t,s,r)}}(o,n,s,r),e!==pe&&Jt(i,s,e)&&function MR(n,e,t,r,i,o,s,a){if(!(3&e.type))return;const u=n.data,c=u[a+1],d=function EH(n){return 1==(1&n)}(c)?xR(u,e,t,i,Po(c),s):void 0;Lh(d)||(Lh(o)||function vH(n){return 2==(2&n)}(c)&&(o=xR(u,null,t,i,a,s)),function IG(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ki.DashCase;null==i?n.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ki.Important),n.setStyle(t,r,i,o))}}(r,s,Bd(dn(),t),i,o))}(o,o.data[dn()],i,i[fe],n,i[s+1]=function BH(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=Rt(Vi(n)))),n}(e,t),r,s)}(n,e,null,!0),Fh}function oy(n,e,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],r=_c(r,o.hostAttrs,i),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function _c(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?i=s:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Fn(n,s,!!t||e[++o]))}return void 0===n?null:n}function xR(n,e,t,r,i,o){const s=null===e;let a;for(;i>0;){const u=n[i],c=Array.isArray(u),d=c?u[1]:u,h=null===d;let p=t[i+1];p===pe&&(p=h?Se:void 0);let m=h?Bm(p,r):d===r?p:void 0;if(c&&!Lh(m)&&(m=Bm(u,r)),Lh(m)&&(a=m,s))return a;const y=n[i+1];i=s?Li(y):Po(y)}if(null!==e){let u=o?e.residualClasses:e.residualStyles;null!=u&&(a=Bm(u,r))}return a}function Lh(n){return void 0!==n}function de(n,e=""){const t=V(),r=De(),i=n+Ie,o=r.firstCreatePass?ta(r,i,1,e,null):r.data[i],s=OR(r,t,o,e,n);t[i]=s,jd()&&ch(r,t,s,o),Ar(o,!1)}let OR=(n,e,t,r,i)=>(Oi(!0),function oh(n,e){return n.createText(e)}(e[fe],r));function Uh(n){return fa("",n,""),Uh}function fa(n,e,t){const r=V(),i=ra(r,n,e,t);return i!==pe&&function ti(n,e,t){const r=Bd(e,n);!function t0(n,e,t){n.setValue(e,t)}(n[fe],r,t)}(r,dn(),i),fa}const ga="en-US";let nP=ga;function uy(n,e,t,r,i){if(n=ae(n),Array.isArray(n))for(let o=0;o<n.length;o++)uy(n[o],e,t,r,i);else{const o=De(),s=V(),a=$t();let u=Ao(n)?n:ae(n.provide);const c=k0(n),d=1048575&a.providerIndexes,h=a.directiveStart,p=a.providerIndexes>>20;if(Ao(n)||!n.multi){const m=new zu(c,i,B),y=ly(u,e,i?d:d+p,h);-1===y?(Fm(qd(a,s),o,u),cy(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(m),s.push(m)):(t[y]=m,s[y]=m)}else{const m=ly(u,e,d+p,h),y=ly(u,e,d,d+p),E=y>=0&&t[y];if(i&&!E||!i&&!(m>=0&&t[m])){Fm(qd(a,s),o,u);const P=function aq(n,e,t,r,i){const o=new zu(n,t,B);return o.multi=[],o.index=e,o.componentProviders=0,bP(o,i,r&&!t),o}(i?sq:oq,t.length,i,r,c);!i&&E&&(t[y].providerFactory=P),cy(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(P),s.push(P)}else cy(o,n,m>-1?m:y,bP(t[i?y:m],c,!i&&r));!i&&r&&E&&t[y].componentProviders++}}}function cy(n,e,t,r){const i=Ao(e),o=function YG(n){return!!n.useClass}(e);if(i||o){const u=(o?ae(e.useClass):e).prototype.ngOnDestroy;if(u){const c=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=c.indexOf(t);-1===d?c.push(t,[r,u]):c[d+1].push(r,u)}else c.push(t,u)}}}function bP(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function ly(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function oq(n,e,t,r){return dy(this.multi,[])}function sq(n,e,t,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Co(t,t[Q],this.providerFactory.index,r);o=a.slice(0,s),dy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],dy(i,o);return o}function dy(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function it(n,e=[]){return t=>{t.providersResolver=(r,i)=>function iq(n,e,t){const r=De();if(r.firstCreatePass){const i=hr(n);uy(t,r.data,r.blueprint,i,!0),uy(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class xo{}class SP{}class hy extends xo{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new VS(this);const i=kn(e);this._bootstrapComponents=ei(i.bootstrap),this._r3Injector=Q0(e,t,[{provide:xo,useValue:this},{provide:Th,useValue:this.componentFactoryResolver},...r],Rt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class fy extends SP{constructor(e){super(),this.moduleType=e}create(e){return new hy(this.moduleType,e,[])}}class RP extends xo{constructor(e){super(),this.componentFactoryResolver=new VS(this),this.instance=null;const t=new Ws([...e.providers,{provide:xo,useValue:this},{provide:Th,useValue:this.componentFactoryResolver}],e.parent||mh(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function py(n,e,t=null){return new RP({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let lq=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=M0(0,t.type),i=r.length>0?py([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ie({token:n,providedIn:"environment",factory:()=>new n(re(er))})}return n})();function PP(n){n.getStandaloneInjector=e=>e.get(lq).getOrCreateStandaloneInjector(n)}function zh(n,e,t){const r=ln()+n,i=V();return i[r]===pe?Rr(i,r,t?e.call(t):e()):function hc(n,e){return n[e]}(i,r)}function Hh(n,e,t,r){return FP(V(),ln(),n,e,t,r)}function my(n,e,t,r,i){return function LP(n,e,t,r,i,o,s){const a=e+t;return function So(n,e,t,r){const i=Jt(n,e,t);return Jt(n,e+1,r)||i}(n,a,i,o)?Rr(n,a+2,s?r.call(s,i,o):r(i,o)):Tc(n,a+2)}(V(),ln(),n,e,t,r,i)}function Tc(n,e){const t=n[e];return t===pe?void 0:t}function FP(n,e,t,r,i,o){const s=e+t;return Jt(n,s,i)?Rr(n,s+1,o?r.call(o,i):r(i)):Tc(n,s+1)}function GP(n,e,t){const r=n+Ie,i=V(),o=function bs(n,e){return n[e]}(i,r);return function Cc(n,e){return n[Q].data[e].pure}(i,r)?FP(i,ln(),e,o.transform,t,o):o.transform(t)}function Mq(){return this._results[Symbol.iterator]()}class _y{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ft)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=_y.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Mq)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Zn(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function T$(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Nq(n,e,t,r=!0){const i=e[Q];if(function hG(n,e,t,r){const i=Bt+r,o=t.length;r>0&&(t[i-1][dr]=e),r<o-Bt?(e[dr]=t[i],Mb(t,Bt+r,e)):(t.push(e),e[dr]=null),e[rt]=t;const s=e[Fu];null!==s&&t!==s&&function fG(n,e){const t=n[Ds];e[yt]!==e[rt][rt][yt]&&(n[MA]=!0),null===t?n[Ds]=[e]:t.push(e)}(s,e);const a=e[Tr];null!==a&&a.insertView(n),e[ge]|=128}(i,e,n,t),r){const o=t_(t,n),s=e[fe],a=uh(s,n[Cr]);null!==a&&function cG(n,e,t,r,i,o){r[ht]=i,r[Qt]=e,ec(n,r,t,1,i,o)}(i,n[Qt],s,e,a,o)}}let ni=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Vq}return n})();const Oq=ni,kq=class extends Oq{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function xq(n,e,t,r){const i=e.tView,a=Ah(n,i,t,4096&n[ge]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Fu]=n[e.index];const c=n[Tr];return null!==c&&(a[Tr]=c.createEmbeddedView(i)),q_(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new lc(i)}};function Vq(){return qh($t(),V())}function qh(n,e){return 4&n.type?new kq(e,n,Js(n,e)):null}let gr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=$q}return n})();function $q(){return YP($t(),V())}const Gq=gr,KP=class extends Gq{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Js(this._hostTNode,this._hostLView)}get injector(){return new hn(this._hostTNode,this._hostLView)}get parentInjector(){const e=Wd(this._hostTNode,this._hostLView);if(Om(e)){const t=qu(e,this._hostLView),r=Hu(e);return new hn(t[Q].data[r+8],t)}return new hn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=QP(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Bt}createEmbeddedView(e,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,o){const s=e&&!function Ku(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const I=t||{};a=I.index,r=I.injector,i=I.projectableNodes,o=I.environmentInjector||I.ngModuleRef}const u=s?e:new dc(Ce(e)),c=r||this.parentInjector;if(!o&&null==u.ngModule){const E=(s?c:this.parentInjector).get(er,null);E&&(o=E)}Ce(u.componentType??{});const m=u.create(c,i,null,o);return this.insertImpl(m.hostView,a,false),m}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function Fj(n){return cn(n[rt])}(i)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const c=i[rt],d=new KP(c,c[Qt],c[rt]);d.detach(d.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Nq(a,i,s,!r),e.attachToViewContainerRef(),Mb(yy(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=QP(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=ah(this._lContainer,t);r&&(Yd(yy(this._lContainer),t),Jm(r[Q],r))}detach(e){const t=this._adjustIndex(e,-1),r=ah(this._lContainer,t);return r&&null!=Yd(yy(this._lContainer),t)?new lc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function QP(n){return n[8]}function yy(n){return n[8]||(n[8]=[])}function YP(n,e){let t;const r=e[n.index];return cn(r)?t=r:(t=CS(r,e,null,n),e[n.index]=t,bh(e,t)),JP(t,e,n,r),new KP(t,n,e)}let JP=function ZP(n,e,t,r){if(n[Cr])return;let i;i=8&t.type?Qe(r):function zq(n,e){const t=n[fe],r=t.createComment(""),i=Cn(e,n);return Do(t,uh(t,i),r,function _G(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[Cr]=i};class vy{constructor(e){this.queryList=e,this.matches=null}clone(){return new vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Iy{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Iy(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==iM(e,t).matches&&this.queries[t].setDirty()}}class XP{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Ey{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Ey(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class wy{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new wy(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(e,t,Wq(t,o)),this.matchTNodeWithReadOption(e,t,Kd(t,e,o,!1,!1))}else r===ni?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Kd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===Ln||i===gr||i===ni&&4&t.type)this.addMatch(t.index,-2);else{const o=Kd(t,e,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Wq(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function Qq(n,e,t,r){return-1===t?function Kq(n,e){return 11&n.type?Js(n,e):4&n.type?qh(n,e):null}(e,n):-2===t?function Yq(n,e,t){return t===Ln?Js(e,n):t===ni?qh(e,n):t===gr?YP(e,n):void 0}(n,e,r):Co(n,n[Q],t,e)}function eM(n,e,t,r){const i=e[Tr].queries[r];if(null===i.matches){const o=n.data,s=t.matches,a=[];for(let u=0;u<s.length;u+=2){const c=s[u];a.push(c<0?null:Qq(e,o[c],s[u+1],t.metadata.read))}i.matches=a}return i.matches}function Ty(n,e,t,r){const i=n.queries.getByIndex(t),o=i.matches;if(null!==o){const s=eM(n,e,i,t);for(let a=0;a<o.length;a+=2){const u=o[a];if(u>0)r.push(s[a/2]);else{const c=o[a+1],d=e[-u];for(let h=Bt;h<d.length;h++){const p=d[h];p[Fu]===p[rt]&&Ty(p[Q],p,c,r)}if(null!==d[Ds]){const h=d[Ds];for(let p=0;p<h.length;p++){const m=h[p];Ty(m[Q],m,c,r)}}}}}return r}function Kh(n){const e=V(),t=De(),r=lb();Rm(r+1);const i=iM(t,r);if(n.dirty&&function kj(n){return 4==(4&n[ge])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const o=i.crossesNgTemplate?Ty(t,e,r,[]):eM(t,e,i,r);n.reset(o,_z),n.notifyOnChanges()}return!0}return!1}function Cy(n,e,t){const r=De();r.firstCreatePass&&(function rM(n,e,t){null===n.queries&&(n.queries=new Ey),n.queries.track(new wy(e,t))}(r,new XP(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function nM(n,e,t){const r=new _y(4==(4&t));(function Kz(n,e,t,r){const i=AS(e);i.push(t),n.firstCreatePass&&bS(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Tr]&&(e[Tr]=new Iy),e[Tr].queries.push(new vy(r))}(r,V(),e)}function Qh(){return function Jq(n,e){return n[Tr].queries[e].queryList}(V(),lb())}function iM(n,e){return n.queries.getByIndex(e)}const Py=new Z("Application Initializer");let My=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=X(Py,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(mc(o))t.push(o);else if(sR(o)){const s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),EM=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const ri=new Z("LocaleId",{providedIn:"root",factory:()=>X(ri,ve.Optional|ve.SkipSelf)||function I5(){return typeof $localize<"u"&&$localize.locale||ga}()});let wM=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Wn(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class T5{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let TM=(()=>{class n{compileModuleSync(t){return new fy(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=ei(kn(t).declarations).reduce((s,a)=>{const u=Ce(a);return u&&s.push(new dc(u)),s},[]);return new T5(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const bM=new Z(""),Zh=new Z("");let Vy,Oy=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Vy||(function H5(n){Vy=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ve.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static#e=this.\u0275fac=function(r){return new(r||n)(re(Ve),re(ky),re(Zh))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),ky=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return Vy?.findTestabilityInTree(this,t,r)??null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ui=null;const SM=new Z("AllowMultipleToken"),Fy=new Z("PlatformDestroyListeners"),Ly=new Z("appBootstrapListener");class PM{constructor(e,t){this.name=e,this.token=t}}function xM(n,e,t=[]){const r=`Platform: ${e}`,i=new Z(r);return(o=[])=>{let s=Uy();if(!s||s.injector.get(SM,!1)){const a=[...t,...o,{provide:i,useValue:!0}];n?n(a):function K5(n){if(Ui&&!Ui.get(SM,!1))throw new U(400,!1);(function RM(){!function wj(n){GA=n}(()=>{throw new U(600,!1)})})(),Ui=n;const e=n.get(OM);(function MM(n){n.get(V0,null)?.forEach(t=>t())})(n)}(function NM(n=[],e){return fn.create({name:e,providers:[{provide:f_,useValue:"platform"},{provide:Fy,useValue:new Set([()=>Ui=null])},...n]})}(a,r))}return function Y5(n){const e=Uy();if(!e)throw new U(401,!1);return e}()}}function Uy(){return Ui?.get(OM)??null}let OM=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function J5(n="zone.js",e){return"noop"===n?new Mz:"zone.js"===n?new Ve(e):n}(r?.ngZone,function kM(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function cq(n,e,t){return new hy(n,e,t)}(t.moduleType,this.injector,function BM(n){return[{provide:Ve,useFactory:n},{provide:ic,multi:!0,useFactory:()=>{const e=X(X5,{optional:!0});return()=>e.initialize()}},{provide:UM,useFactory:Z5},{provide:eS,useFactory:tS}]}(()=>i)),s=o.injector.get(Xr,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:u=>{s.handleError(u)}});o.onDestroy(()=>{Xh(this._modules,o),a.unsubscribe()})}),function VM(n,e,t){try{const r=t();return mc(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(My);return a.runInitializers(),a.donePromise.then(()=>(function rP(n){Kn(n,"Expected localeId to be defined"),"string"==typeof n&&(nP=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ri,ga)||ga),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=FM({},r);return function q5(n,e,t){const r=new fy(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(ya);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new U(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new U(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(Fy,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(r){return new(r||n)(re(fn))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function FM(n,e){return Array.isArray(e)?e.reduce(FM,n):{...n,...e}}let ya=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=X(UM),this.zoneIsStable=X(eS),this.componentTypes=[],this.components=[],this.isStable=X(wM).hasPendingTasks.pipe(Er(t=>t?le(!1):this.zoneIsStable),function NB(n,e=Ai){return n=n??OB,St((t,r)=>{let i,o=!0;t.subscribe(Ct(r,s=>{const a=e(s);(o||!n(i,a))&&(o=!1,i=a,r.next(s))}))})}(),aA()),this._injector=X(er)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof j0;if(!this._injector.get(My).done)throw!i&&function Is(n){const e=Ce(n)||Ut(n)||un(n);return null!==e&&e.standalone}(t),new U(405,!1);let s;s=i?t:this._injector.get(Th).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function W5(n){return n.isBoundToModule}(s)?void 0:this._injector.get(xo),c=s.create(fn.NULL,[],r||s.selector,a),d=c.location.nativeElement,h=c.injector.get(bM,null);return h?.registerApplication(d),c.onDestroy(()=>{this.detachView(c.hostView),Xh(this.components,c),h?.unregisterApplication(d)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new U(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Xh(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(Ly,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Xh(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new U(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Xh(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const UM=new Z("",{providedIn:"root",factory:()=>X(Xr).handleError.bind(void 0)});function Z5(){const n=X(Ve),e=X(Xr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let X5=(()=>{class n{constructor(){this.zone=X(Ve),this.applicationRef=X(ya)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let ef=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=t6}return n})();function t6(n){return function n6(n,e,t){if(Eo(n)&&!t){const r=Vn(n.index,e);return new lc(r,r)}return 47&n.type?new lc(e[yt],e):null}($t(),V(),16==(16&n))}class zM{constructor(){}supports(e){return Mh(e)}create(e){return new u6(e)}}const a6=(n,e)=>e;class u6{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||a6}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<qM(r,i,o)?t:r,a=qM(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const c=a-i,d=u-i;if(c!=d){for(let p=0;p<c;p++){const m=p<o.length?o[p]:o[p]=0,y=m+p;d<=y&&y<c&&(o[p]=m+1)}o[s.previousIndex]=d-c}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Mh(e))throw new U(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function B4(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new c6(t,r),o,i),e}_verifyReinsertion(e,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,o=e._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new HM),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HM),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class c6{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class l6{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class HM{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new l6,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qM(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class WM{constructor(){}supports(e){return e instanceof Map||W_(e)}create(){return new d6}}class d6{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||W_(e)))throw new U(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new h6(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class h6{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function KM(){return new rf([new zM])}let rf=(()=>{class n{static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:KM});constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||KM()),deps:[[n,new Zd,new Xn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new U(901,!1)}}return n})();function QM(){return new bc([new WM])}let bc=(()=>{class n{static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:QM});constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||QM()),deps:[[n,new Zd,new Xn]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new U(901,!1)}}return n})();const g6=xM(null,"core",[]);let m6=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(r){return new(r||n)(re(ya))};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({})}return n})();function va(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let Hy=null;function Bi(){return Hy}class P6{}const nr=new Z("DocumentToken");let qy=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return X(x6)},providedIn:"platform"})}return n})();const M6=new Z("Location Initialized");let x6=(()=>{class n extends qy{constructor(){super(),this._doc=X(nr),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bi().getBaseHref(this._doc)}onPopState(t){const r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=Bi().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function Wy(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function ix(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function ii(n){return n&&"?"!==n[0]?"?"+n:n}let Oo=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return X(sx)},providedIn:"root"})}return n})();const ox=new Z("appBaseHref");let sx=(()=>{class n extends Oo{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??X(nr).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Wy(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+ii(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+ii(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+ii(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(re(qy),re(ox,8))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),N6=(()=>{class n extends Oo{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Wy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+ii(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(r){return new(r||n)(re(qy),re(ox,8))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})(),Ky=(()=>{class n{constructor(t){this._subject=new ft,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function V6(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(ix(ax(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+ii(r))}normalize(t){return n.stripTrailingSlash(function k6(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,ax(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+ii(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static#e=this.normalizeQueryParams=ii;static#t=this.joinWithSlash=Wy;static#n=this.stripTrailingSlash=ix;static#r=this.\u0275fac=function(r){return new(r||n)(re(Oo))};static#i=this.\u0275prov=ie({token:n,factory:function(){return function O6(){return new Ky(re(Oo))}()},providedIn:"root"})}return n})();function ax(n){return n.replace(/\/index.html$/,"")}const iv=/\s+/,mx=[];let ov=(()=>{class n{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=mx,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(iv):mx}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(iv):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(iv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static#e=this.\u0275fac=function(r){return new(r||n)(B(rf),B(bc),B(Ln),B(Zr))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class w9{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let _f=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new w9(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),yx(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{yx(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static#e=this.\u0275fac=function(r){return new(r||n)(B(gr),B(ni),B(rf))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function yx(n,e){n.context.$implicit=e.item}class b9{createSubscription(e,t){return qA(()=>e.subscribe({next:t,error:r=>{throw r}}))}dispose(e){qA(()=>e.unsubscribe())}}class S9{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const R9=new S9,P9=new b9;let Ex=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(mc(t))return R9;if(sR(t))return P9;throw function _r(n,e){return new U(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}static#e=this.\u0275fac=function(r){return new(r||n)(B(ef,16))};static#t=this.\u0275pipe=wn({name:"async",type:n,pure:!1,standalone:!0})}return n})(),K9=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({})}return n})();function Cx(n){return"server"===n}let Z9=(()=>{class n{static#e=this.\u0275prov=ie({token:n,providedIn:"root",factory:()=>new X9(re(nr),window)})}return n})();class X9{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function eW(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class CW extends P6{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hv extends CW{static makeCurrent(){!function R6(n){Hy||(Hy=n)}(new hv)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function DW(){return Mc=Mc||document.querySelector("base"),Mc?Mc.getAttribute("href"):null}();return null==t?null:function AW(n){If=If||document.createElement("a"),If.setAttribute("href",n);const e=If.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function I9(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let If,Mc=null,SW=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();const fv=new Z("EventManagerPlugins");let Rx=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new U(5101,!1);return this._eventNameToPlugin.set(t,r),r}static#e=this.\u0275fac=function(r){return new(r||n)(re(fv),re(Ve))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();class Px{constructor(e){this._doc=e}}const pv="ng-app-id";let Mx=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cx(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${pv}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(pv),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(pv,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(r){return new(r||n)(re(nr),re(_h),re(F0,8),re(bo))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();const gv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},mv=/%COMP%/g,xW=new Z("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Nx(n,e){return e.map(t=>t.replace(mv,n))}let Ox=(()=>{class n{constructor(t,r,i,o,s,a,u,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Cx(a),this.defaultRenderer=new _v(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===cr.ShadowDom&&(r={...r,encapsulation:cr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Vx?i.applyToHost(t):i instanceof yv&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,u=this.eventManager,c=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case cr.Emulated:o=new Vx(u,c,r,this.appId,d,s,a,h);break;case cr.ShadowDom:return new VW(u,c,t,r,s,a,this.nonce,h);default:o=new yv(u,c,r,d,s,a,h)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(r){return new(r||n)(re(Rx),re(Mx),re(_h),re(xW),re(nr),re(bo),re(Ve),re(F0))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();class _v{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(gv[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(kx(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(kx(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new U(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=gv[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=gv[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ki.DashCase|ki.Important)?e.style.setProperty(t,r,i&ki.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ki.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=Bi().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function kx(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class VW extends _v{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=Nx(i.id,i.styles);for(const d of c){const h=document.createElement("style");a&&h.setAttribute("nonce",a),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class yv extends _v{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?Nx(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class Vx extends yv{constructor(e,t,r,i,o,s,a,u){const c=i+"-"+r.id;super(e,t,r,o,s,a,u,c),this.contentAttr=function NW(n){return"_ngcontent-%COMP%".replace(mv,n)}(c),this.hostAttr=function OW(n){return"_nghost-%COMP%".replace(mv,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let FW=(()=>{class n extends Px{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static#e=this.\u0275fac=function(r){return new(r||n)(re(nr))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();const Fx=["alt","control","meta","shift"],LW={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},UW={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let BW=(()=>{class n extends Px{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bi().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),Fx.forEach(c=>{const d=r.indexOf(c);d>-1&&(r.splice(d,1),s+=c+".")}),s+=o,0!=r.length||0===o.length)return null;const u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=LW[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Fx.forEach(s=>{s!==i&&(0,UW[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(r){return new(r||n)(re(nr))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();const Ux=[{provide:bo,useValue:"browser"},{provide:V0,useValue:function jW(){hv.makeCurrent()},multi:!0},{provide:nr,useFactory:function GW(){return function DG(n){i_=n}(document),document},deps:[]}],zW=xM(g6,"browser",Ux),HW=new Z(""),Bx=[{provide:Zh,useClass:class bW{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new U(5103,!1);return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements(),Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(r=>{const i=Ke.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(u){s=s||u,o--,0==o&&r(s)};i.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?Bi().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:bM,useClass:Oy,deps:[Ve,ky,Zh]},{provide:Oy,useClass:Oy,deps:[Ve,ky,Zh]}],jx=[{provide:f_,useValue:"root"},{provide:Xr,useFactory:function $W(){return new Xr},deps:[]},{provide:fv,useClass:FW,multi:!0,deps:[nr,Ve,bo]},{provide:fv,useClass:BW,multi:!0,deps:[nr]},Ox,Mx,Rx,{provide:G0,useExisting:Ox},{provide:class tW{},useClass:SW,deps:[]},[]];let qW=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:_h,useValue:t.appId}]}}static#e=this.\u0275fac=function(r){return new(r||n)(re(HW,12))};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({providers:[...jx,...Bx],imports:[K9,m6]})}return n})(),$x=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(r){return new(r||n)(re(nr))};static#t=this.\u0275prov=ie({token:n,factory:function(r){let i=null;return i=r?new r:function KW(){return new $x(re(nr))}(),i},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:e8}=Array,{getPrototypeOf:t8,prototype:n8,keys:r8}=Object;function qx(n){if(1===n.length){const e=n[0];if(e8(e))return{args:e,keys:null};if(function i8(n){return n&&"object"==typeof n&&t8(n)===n8}(e)){const t=r8(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:o8}=Array;function Wx(n){return Oe(e=>function s8(n,e){return o8(e)?n(...e):n(e)}(n,e))}function Kx(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Iv(...n){const e=Pu(n),t=oA(n),{args:r,keys:i}=qx(n);if(0===r.length)return Ot([],e);const o=new ut(function a8(n,e,t=Ai){return r=>{Qx(e,()=>{const{length:i}=n,o=new Array(i);let s=i,a=i;for(let u=0;u<i;u++)Qx(e,()=>{const c=Ot(n[u],e);let d=!1;c.subscribe(Ct(r,h=>{o[u]=h,d||(d=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,e,i?s=>Kx(i,s):Ai));return t?o.pipe(Wx(t)):o}function Qx(n,e,t){n?Hr(t,n,e):e()}const Ef=Su(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Ev(...n){return function u8(){return ys(1)}()(Ot(n,Pu(n)))}function Yx(n){return new ut(e=>{xn(n()).subscribe(e)})}function xc(n,e){const t=Be(n)?n:()=>n,r=i=>i.error(t());return new ut(e?i=>e.schedule(r,0,i):r)}function wv(){return St((n,e)=>{let t=null;n._refCount++;const r=Ct(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Jx extends ut{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,zD(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new In;const t=this.getSubject();e.add(this.source.subscribe(Ct(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=In.EMPTY)}return e}refCount(){return wv()(this)}}function Ea(n){return n<=0?()=>Ir:St((e,t)=>{let r=0;e.subscribe(Ct(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function $i(n,e){return St((t,r)=>{let i=0;t.subscribe(Ct(r,o=>n.call(e,o,i++)&&r.next(o)))})}function wf(n){return St((e,t)=>{let r=!1;e.subscribe(Ct(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Zx(n=l8){return St((e,t)=>{let r=!1;e.subscribe(Ct(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function l8(){return new Ef}function ko(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,o)=>n(i,o,r)):Ai,Ea(1),t?wf(e):Zx(()=>new Ef))}function Nc(n,e){return Be(e)?Lt(n,e,1):Lt(n,1)}function zt(n,e,t){const r=Be(n)||e||t?{next:n,error:e,complete:t}:n;return r?St((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(Ct(o,u=>{var c;null===(c=r.next)||void 0===c||c.call(r,u),o.next(u)},()=>{var u;a=!1,null===(u=r.complete)||void 0===u||u.call(r),o.complete()},u=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,u),o.error(u)},()=>{var u,c;a&&(null===(u=r.unsubscribe)||void 0===u||u.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):Ai}function Vo(n){return St((e,t)=>{let o,r=null,i=!1;r=e.subscribe(Ct(t,void 0,void 0,s=>{o=xn(n(s,Vo(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Tv(n){return n<=0?()=>Ir:St((e,t)=>{let r=[];e.subscribe(Ct(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Cv(n){return St((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const me="primary",Oc=Symbol("RouteTitle");class m8{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wa(n){return new m8(n)}function _8(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=n[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Or(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Xx(n[i],e[i]))return!1;return!0}function Xx(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function e1(n){return n.length>0?n[n.length-1]:null}function Gi(n){return function XW(n){return!!n&&(n instanceof ut||Be(n.lift)&&Be(n.subscribe))}(n)?n:mc(n)?Ot(Promise.resolve(n)):le(n)}const v8={exact:function r1(n,e,t){if(!Fo(n.segments,e.segments)||!Tf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!r1(n.children[r],e.children[r],t))return!1;return!0},subset:i1},t1={exact:function I8(n,e){return Or(n,e)},subset:function E8(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Xx(n[t],e[t]))},ignored:()=>!0};function n1(n,e,t){return v8[t.paths](n.root,e.root,t.matrixParams)&&t1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function i1(n,e,t){return o1(n,e,e.segments,t)}function o1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fo(i,t)||e.hasChildren()||!Tf(i,t,r))}if(n.segments.length===t.length){if(!Fo(n.segments,t)||!Tf(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!i1(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(Fo(n.segments,i)&&Tf(n.segments,i,r)&&n.children[me])&&o1(n.children[me],e,o,r)}}function Tf(n,e,t){return e.every((r,i)=>t1[t](n[i].parameters,r.parameters))}class Ta{constructor(e=new Le([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return C8.serialize(this)}}class Le{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Cf(this)}}class kc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wa(this.parameters)),this._parameterMap}toString(){return u1(this)}}function Fo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Vc=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return new Dv},providedIn:"root"})}return n})();class Dv{parse(e){const t=new k8(e);return new Ta(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Fc(e.root,!0)}`,r=function b8(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Df(t)}=${Df(i)}`).join("&"):`${Df(t)}=${Df(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function D8(n){return encodeURI(n)}(e.fragment)}`:""}`}}const C8=new Dv;function Cf(n){return n.segments.map(e=>u1(e)).join("/")}function Fc(n,e){if(!n.hasChildren())return Cf(n);if(e){const t=n.children[me]?Fc(n.children[me],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==me&&r.push(`${i}:${Fc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function T8(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===me&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==me&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===me?[Fc(n.children[me],!1)]:[`${i}:${Fc(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[me]?`${Cf(n)}/${t[0]}`:`${Cf(n)}/(${t.join("//")})`}}function s1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Df(n){return s1(n).replace(/%3B/gi,";")}function Av(n){return s1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Af(n){return decodeURIComponent(n)}function a1(n){return Af(n.replace(/\+/g,"%20"))}function u1(n){return`${Av(n.path)}${function A8(n){return Object.keys(n).map(e=>`;${Av(e)}=${Av(n[e])}`).join("")}(n.parameters)}`}const S8=/^[^\/()?;#]+/;function bv(n){const e=n.match(S8);return e?e[0]:""}const R8=/^[^\/()?;=#]+/,M8=/^[^=?&#]+/,N8=/^[^&#]+/;class k8{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Le([],{}):new Le([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[me]=new Le(e,t)),r}parseSegment(){const e=bv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new U(4009,!1);return this.capture(e),new kc(Af(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function P8(n){const e=n.match(R8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=bv(this.remaining);i&&(r=i,this.capture(r))}e[Af(t)]=Af(r)}parseQueryParam(e){const t=function x8(n){const e=n.match(M8);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function O8(n){const e=n.match(N8);return e?e[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=a1(t),o=a1(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=bv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new U(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=me);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[me]:new Le([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new U(4011,!1)}}function c1(n){return n.segments.length>0?new Le([],{[me]:n}):n}function l1(n){const e={};for(const r of Object.keys(n.children)){const o=l1(n.children[r]);if(r===me&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function V8(n){if(1===n.numberOfChildren&&n.children[me]){const e=n.children[me];return new Le(n.segments.concat(e.segments),e.children)}return n}(new Le(n.segments,e))}function Lo(n){return n instanceof Ta}function d1(n){let e;const i=c1(function t(o){const s={};for(const u of o.children){const c=t(u);s[u.outlet]=c}const a=new Le(o.url,s);return o===n&&(e=a),a}(n.root));return e??i}function h1(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Sv(i,i,i,t,r);const o=function L8(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new p1(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([u,c])=>{a[u]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new p1(t,e,r)}(e);if(o.toRoot())return Sv(i,i,new Le([],{}),t,r);const s=function U8(n,e,t){if(n.isAbsolute)return new Sf(e,!0,0);if(!t)return new Sf(e,!1,NaN);if(null===t.parent)return new Sf(t,!0,0);const r=bf(n.commands[0])?0:1;return function B8(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new U(4005,!1);i=r.segments.length}return new Sf(r,!1,i-o)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(o,i,n),a=s.processChildren?Uc(s.segmentGroup,s.index,o.commands):g1(s.segmentGroup,s.index,o.commands);return Sv(i,s.segmentGroup,a,t,r)}function bf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Lc(n){return"object"==typeof n&&null!=n&&n.outlets}function Sv(n,e,t,r,i){let s,o={};r&&Object.entries(r).forEach(([u,c])=>{o[u]=Array.isArray(c)?c.map(d=>`${d}`):`${c}`}),s=n===e?t:f1(n,e,t);const a=c1(l1(s));return new Ta(a,o,i)}function f1(n,e,t){const r={};return Object.entries(n.children).forEach(([i,o])=>{r[i]=o===e?t:f1(o,e,t)}),new Le(n.segments,r)}class p1{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&bf(r[0]))throw new U(4003,!1);const i=r.find(Lc);if(i&&i!==e1(r))throw new U(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Sf{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function g1(n,e,t){if(n||(n=new Le([],{})),0===n.segments.length&&n.hasChildren())return Uc(n,e,t);const r=function $8(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const s=n.segments[i],a=t[r];if(Lc(a))break;const u=`${a}`,c=r<t.length-1?t[r+1]:null;if(i>0&&void 0===u)break;if(u&&c&&"object"==typeof c&&void 0===c.outlets){if(!_1(u,c,s))return o;r+=2}else{if(!_1(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new Le(n.segments.slice(0,r.pathIndex),{});return o.children[me]=new Le(n.segments.slice(r.pathIndex),n.children),Uc(o,0,i)}return r.match&&0===i.length?new Le(n.segments,{}):r.match&&!n.hasChildren()?Rv(n,e,t):r.match?Uc(n,0,i):Rv(n,e,t)}function Uc(n,e,t){if(0===t.length)return new Le(n.segments,{});{const r=function j8(n){return Lc(n[0])?n[0].outlets:{[me]:n}}(t),i={};if(Object.keys(r).some(o=>o!==me)&&n.children[me]&&1===n.numberOfChildren&&0===n.children[me].segments.length){const o=Uc(n.children[me],e,t);return new Le(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=g1(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Le(n.segments,i)}}function Rv(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(Lc(o)){const u=G8(o.outlets);return new Le(r,u)}if(0===i&&bf(t[0])){r.push(new kc(n.segments[e].path,m1(t[0]))),i++;continue}const s=Lc(o)?o.outlets[me]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&bf(a)?(r.push(new kc(s,m1(a))),i+=2):(r.push(new kc(s,{})),i++)}return new Le(r,{})}function G8(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=Rv(new Le([],{}),0,r))}),e}function m1(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function _1(n,e,t){return n==t.path&&Or(e,t.parameters)}const Bc="imperative";class kr{constructor(e,t){this.id=e,this.url=t}}class Rf extends kr{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class zi extends kr{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class jc extends kr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ca extends kr{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Pf extends kr{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class y1 extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class z8 extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class H8 extends kr{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class q8 extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class W8 extends kr{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Q8{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Y8{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class J8{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Z8{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class X8{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class v1{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Pv{}class Mv{constructor(e){this.url=e}}class e7{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new $c,this.attachRef=null}}let $c=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new e7,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class I1{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=xv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=xv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Nv(e,this._root).map(t=>t.value)}}function xv(n,e){if(n===e.value)return e;for(const t of e.children){const r=xv(n,t);if(r)return r}return null}function Nv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Nv(n,t);if(r.length)return r.unshift(e),r}return[]}class ai{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Da(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class E1 extends I1{constructor(e,t){super(e),this.snapshot=t,Ov(this,e)}toString(){return this.snapshot.toString()}}function w1(n,e){const t=function t7(n,e){const s=new Mf([],{},{},"",{},me,e,null,{});return new C1("",new ai(s,[]))}(0,e),r=new Wn([new kc("",{})]),i=new Wn({}),o=new Wn({}),s=new Wn({}),a=new Wn(""),u=new Aa(r,i,s,a,o,me,e,t.root);return u.snapshot=t.root,new E1(new ai(u,[]),t)}class Aa{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Oe(c=>c[Oc]))??le(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Oe(e=>wa(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Oe(e=>wa(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function T1(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function n7(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Mf{get title(){return this.data?.[Oc]}constructor(e,t,r,i,o,s,a,u,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C1 extends I1{constructor(e,t){super(t),this.url=e,Ov(this,t)}toString(){return D1(this._root)}}function Ov(n,e){e.value._routerState=n,e.children.forEach(t=>Ov(n,t))}function D1(n){const e=n.children.length>0?` { ${n.children.map(D1).join(", ")} } `:"";return`${n.value}${e}`}function kv(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Or(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Or(e.params,t.params)||n.paramsSubject.next(t.params),function y8(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Or(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Or(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Vv(n,e){const t=Or(n.params,e.params)&&function w8(n,e){return Fo(n,e)&&n.every((t,r)=>Or(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vv(n.parent,e.parent))}let Fv=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=me,this.activateEvents=new ft,this.deactivateEvents=new ft,this.attachEvents=new ft,this.detachEvents=new ft,this.parentContexts=X($c),this.location=X(gr),this.changeDetector=X(ef),this.environmentInjector=X(er),this.inputBinder=X(xf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new U(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new U(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new U(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new U(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new r7(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]})}return n})();class r7{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Aa?this.route:e===$c?this.childContexts:this.parent.get(e,t)}}const xf=new Z("");let A1=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Iv([r.queryParams,r.params,r.data]).pipe(Er(([o,s,a],u)=>(a={...o,...s,...a},0===u?le(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function S6(n){const e=Ce(n);if(!e)return null;const t=new dc(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function Gc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function o7(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Gc(n,r,i);return Gc(n,r)})}(n,e,t);return new ai(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Gc(n,a)),s}}const r=function s7(n){return new Aa(new Wn(n.url),new Wn(n.params),new Wn(n.queryParams),new Wn(n.fragment),new Wn(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Gc(n,o));return new ai(r,i)}}const Lv="ngNavigationCancelingError";function b1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=S1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function S1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Lv]=!0,r.cancellationCode=e,t&&(r.url=t),r}function R1(n){return n&&n[Lv]}let P1=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ri({type:n,selectors:[["ng-component"]],standalone:!0,features:[PP],decls:1,vars:0,template:function(r,i){1&r&&be(0,"router-outlet")},dependencies:[Fv],encapsulation:2})}return n})();function Uv(n){const e=n.children&&n.children.map(Uv),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==me&&(t.component=P1),t}function yr(n){return n.outlet||me}function zc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class p7{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),kv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Da(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Da(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Da(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new X8(o.value.snapshot))}),e.children.length&&this.forwardEvent(new J8(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(kv(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),kv(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=zc(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}}class M1{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Nf{constructor(e,t){this.component=e,this.route=t}}function g7(n,e,t){const r=n._root;return Hc(r,e?e._root:null,t,[r.value])}function ba(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function jB(n){return null!==Sd(n)}(n)?e.get(n):n:r}function Hc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Da(e);return n.children.forEach(s=>{(function _7(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const u=function y7(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fo(n.url,e.url)||!Or(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(n,e)||!Or(n.queryParams,e.queryParams);default:return!Vv(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new M1(r)):(o.data=s.data,o._resolvedData=s._resolvedData),Hc(n,e,o.component?a?a.children:null:t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Nf(a.outlet.component,s))}else s&&qc(e,a,i),i.canActivateChecks.push(new M1(r)),Hc(n,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>qc(a,t.getContext(s),i)),i}function qc(n,e,t){const r=Da(n),i=n.value;Object.entries(r).forEach(([o,s])=>{qc(s,i.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Nf(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Wc(n){return"function"==typeof n}function x1(n){return n instanceof Ef||"EmptyError"===n?.name}const Of=Symbol("INITIAL_VALUE");function Sa(){return Er(n=>Iv(n.map(e=>e.pipe(Ea(1),function c8(...n){const e=Pu(n);return St((t,r)=>{(e?Ev(n,t,e):Ev(n,t)).subscribe(r)})}(Of)))).pipe(Oe(e=>{for(const t of e)if(!0!==t){if(t===Of)return Of;if(!1===t||t instanceof Ta)return t}return!0}),$i(e=>e!==Of),Ea(1)))}function N1(n){return function zU(...n){return jD(n)}(zt(e=>{if(Lo(e))throw b1(0,e)}),Oe(e=>!0===e))}class kf{constructor(e){this.segmentGroup=e||null}}class O1{constructor(e){this.urlTree=e}}function Ra(n){return xc(new kf(n))}function k1(n){return xc(new O1(n))}class L7{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new U(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return le(r);if(i.numberOfChildren>1||!i.children[me])return xc(new U(4e3,!1));i=i.children[me]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Ta(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Le(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new U(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Bv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function U7(n,e,t,r,i){const o=jv(n,e,t);return o.matched?(r=function u7(n,e){return n.providers&&!n._injector&&(n._injector=py(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function k7(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?le(i.map(s=>{const a=ba(s,n);return Gi(function C7(n){return n&&Wc(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(Sa(),N1()):le(!0)}(r,e,t).pipe(Oe(s=>!0===s?o:{...Bv}))):le(o)}function jv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Bv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||_8)(t,n,e);if(!i)return{...Bv};const o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function V1(n,e,t,r){return t.length>0&&function $7(n,e,t){return t.some(r=>Vf(n,e,r)&&yr(r)!==me)}(n,t,r)?{segmentGroup:new Le(e,j7(r,new Le(t,n.children))),slicedSegments:[]}:0===t.length&&function G7(n,e,t){return t.some(r=>Vf(n,e,r))}(n,t,r)?{segmentGroup:new Le(n.segments,B7(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Le(n.segments,n.children),slicedSegments:t}}function B7(n,e,t,r,i){const o={};for(const s of r)if(Vf(n,t,s)&&!i[yr(s)]){const a=new Le([],{});o[yr(s)]=a}return{...i,...o}}function j7(n,e){const t={};t[me]=e;for(const r of n)if(""===r.path&&yr(r)!==me){const i=new Le([],{});t[yr(r)]=i}return t}function Vf(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class W7{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new L7(this.urlSerializer,this.urlTree)}noMatchError(e){return new U(4002,!1)}recognize(){const e=V1(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,me).pipe(Vo(t=>{if(t instanceof O1)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof kf?this.noMatchError(t):t}),Oe(t=>{const r=new Mf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},me,this.rootComponentType,null,{}),i=new ai(r,t),o=new C1("",i),s=function F8(n,e,t=null,r=null){return h1(d1(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,me).pipe(Vo(r=>{throw r instanceof kf?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=T1(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return Ot(i).pipe(Nc(o=>{const s=r.children[o],a=function h7(n,e){const t=n.filter(r=>yr(r)===e);return t.push(...n.filter(r=>yr(r)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function h8(n,e){return St(function d8(n,e,t,r,i){return(o,s)=>{let a=t,u=e,c=0;o.subscribe(Ct(s,d=>{const h=c++;u=a?n(u,d,h):(a=!0,d),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),wf(null),function f8(n,e){const t=arguments.length>=2;return r=>r.pipe(n?$i((i,o)=>n(i,o,r)):Ai,Tv(1),t?wf(e):Zx(()=>new Ef))}(),Lt(o=>{if(null===o)return Ra(r);const s=F1(o);return function K7(n){n.sort((e,t)=>e.value.outlet===me?-1:t.value.outlet===me?1:e.value.outlet.localeCompare(t.value.outlet))}(s),le(s)}))}processSegment(e,t,r,i,o,s){return Ot(t).pipe(Nc(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,o,s).pipe(Vo(u=>{if(u instanceof kf)return le(null);throw u}))),ko(a=>!!a),Vo(a=>{if(x1(a))return function H7(n,e,t){return 0===e.length&&!n.children[t]}(r,i,o)?le([]):Ra(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,o,s,a){return function z7(n,e,t,r){return!!(yr(n)===r||r!==me&&Vf(e,t,n))&&("**"===n.path||jv(e,n,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s):Ra(i):Ra(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?k1(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Lt(s=>{const a=new Le(s,{});return this.processSegment(e,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s){const{matched:a,consumedSegments:u,remainingSegments:c,positionalParamSegments:d}=jv(t,i,o);if(!a)return Ra(t);const h=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,d);return i.redirectTo.startsWith("/")?k1(h):this.applyRedirects.lineralizeSegments(i,h).pipe(Lt(p=>this.processSegment(e,r,t,p.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a;if("**"===r.path){const u=i.length>0?e1(i).parameters:{};a=le({snapshot:new Mf(i,u,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L1(r),yr(r),r.component??r._loadedComponent??null,r,U1(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=U7(t,r,i,e).pipe(Oe(({matched:u,consumedSegments:c,remainingSegments:d,parameters:h})=>u?{snapshot:new Mf(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L1(r),yr(r),r.component??r._loadedComponent??null,r,U1(r)),consumedSegments:c,remainingSegments:d}:null));return a.pipe(Er(u=>null===u?Ra(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Er(({routes:c})=>{const d=r._loadedInjector??e,{snapshot:h,consumedSegments:p,remainingSegments:m}=u,{segmentGroup:y,slicedSegments:I}=V1(t,p,m,c);if(0===I.length&&y.hasChildren())return this.processChildren(d,c,y).pipe(Oe(P=>null===P?null:[new ai(h,P)]));if(0===c.length&&0===I.length)return le([new ai(h,[])]);const E=yr(r)===o;return this.processSegment(d,c,y,I,E?me:o,!0).pipe(Oe(P=>[new ai(h,P)]))}))))}getChildConfig(e,t,r){return t.children?le({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?le({routes:t._loadedRoutes,injector:t._loadedInjector}):function O7(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?le(!0):le(i.map(s=>{const a=ba(s,n);return Gi(function I7(n){return n&&Wc(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(Sa(),N1())}(e,t,r).pipe(Lt(i=>i?this.configLoader.loadChildren(e,t).pipe(zt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function F7(n){return xc(S1(!1,3))}())):le({routes:[],injector:e})}}function Q7(n){const e=n.value.routeConfig;return e&&""===e.path}function F1(n){const e=[],t=new Set;for(const r of n){if(!Q7(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=F1(r.children);e.push(new ai(r.value,i))}return e.filter(r=>!t.has(r))}function L1(n){return n.data||{}}function U1(n){return n.resolve||{}}function B1(n){return"string"==typeof n.title||null===n.title}function $v(n){return Er(e=>{const t=n(e);return t?Ot(t).pipe(Oe(()=>e)):le(e)})}const Pa=new Z("ROUTES");let Gv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=X(TM)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return le(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Gi(t.loadComponent()).pipe(Oe(j1),zt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cv(()=>{this.componentLoaders.delete(t)})),i=new Jx(r,()=>new ur).pipe(wv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return le({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=function nK(n,e,t,r){return Gi(n.loadChildren()).pipe(Oe(j1),Lt(i=>i instanceof SP||Array.isArray(i)?le(i):Ot(e.compileModuleAsync(i))),Oe(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,!0):(o=i.create(t).injector,s=o.get(Pa,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uv),injector:o}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(Cv(()=>{this.childrenLoaders.delete(r)})),s=new Jx(o,()=>new ur).pipe(wv());return this.childrenLoaders.set(r,s),s}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function j1(n){return function rK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Ff=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ur,this.transitionAbortSubject=new ur,this.configLoader=X(Gv),this.environmentInjector=X(er),this.urlSerializer=X(Vc),this.rootContexts=X($c),this.inputBindingEnabled=null!==X(xf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>le(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Q8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new K8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Wn({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Bc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe($i(o=>0!==o.id),Oe(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),Er(o=>{this.currentTransition=o;let s=!1,a=!1;return le(o).pipe(zt(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Er(u=>{const c=u.currentBrowserUrl.toString(),d=!t.navigated||u.extractedUrl.toString()!==c||c!==u.currentUrlTree.toString();if(!d&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new Ca(u.id,this.urlSerializer.serialize(u.rawUrl),p,0)),u.resolve(null),Ir}if(t.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return le(u).pipe(Er(p=>{const m=this.transitions?.getValue();return this.events.next(new Rf(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?Ir:Promise.resolve(p)}),function Y7(n,e,t,r,i,o){return Lt(s=>function q7(n,e,t,r,i,o,s="emptyOnly"){return new W7(n,e,t,r,i,s,o).recognize()}(n,e,t,r,s.extractedUrl,i,o).pipe(Oe(({state:a,tree:u})=>({...s,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zt(p=>{o.targetSnapshot=p.targetSnapshot,o.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const m=new y1(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:p,extractedUrl:m,source:y,restoredState:I,extras:E}=u,P=new Rf(p,this.urlSerializer.serialize(m),y,I);this.events.next(P);const D=w1(0,this.rootComponentType).snapshot;return this.currentTransition=o={...u,targetSnapshot:D,urlAfterRedirects:m,extras:{...E,skipLocationChange:!1,replaceUrl:!1}},le(o)}{const p="";return this.events.next(new Ca(u.id,this.urlSerializer.serialize(u.extractedUrl),p,1)),u.resolve(null),Ir}}),zt(u=>{const c=new z8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(c)}),Oe(u=>(this.currentTransition=o={...u,guards:g7(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},o)),function A7(n,e){return Lt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?le({...t,guardsResult:!0}):function b7(n,e,t,r){return Ot(n).pipe(Lt(i=>function N7(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?le(o.map(a=>{const u=zc(e)??i,c=ba(a,u);return Gi(function T7(n){return n&&Wc(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,r):u.runInContext(()=>c(n,e,t,r))).pipe(ko())})).pipe(Sa()):le(!0)}(i.component,i.route,t,e,r)),ko(i=>!0!==i,!0))}(s,r,i,n).pipe(Lt(a=>a&&function v7(n){return"boolean"==typeof n}(a)?function S7(n,e,t,r){return Ot(e).pipe(Nc(i=>Ev(function P7(n,e){return null!==n&&e&&e(new Y8(n)),le(!0)}(i.route.parent,r),function R7(n,e){return null!==n&&e&&e(new Z8(n)),le(!0)}(i.route,r),function x7(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function m7(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>Yx(()=>le(s.guards.map(u=>{const c=zc(s.node)??t,d=ba(u,c);return Gi(function w7(n){return n&&Wc(n.canActivateChild)}(d)?d.canActivateChild(r,n):c.runInContext(()=>d(r,n))).pipe(ko())})).pipe(Sa())));return le(o).pipe(Sa())}(n,i.path,t),function M7(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return le(!0);const i=r.map(o=>Yx(()=>{const s=zc(e)??t,a=ba(o,s);return Gi(function E7(n){return n&&Wc(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(ko())}));return le(i).pipe(Sa())}(n,i.route,t))),ko(i=>!0!==i,!0))}(r,o,n,e):le(a)),Oe(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),zt(u=>{if(o.guardsResult=u.guardsResult,Lo(u.guardsResult))throw b1(0,u.guardsResult);const c=new H8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(c)}),$i(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),$v(u=>{if(u.guards.canActivateChecks.length)return le(u).pipe(zt(c=>{const d=new q8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}),Er(c=>{let d=!1;return le(c).pipe(function J7(n,e){return Lt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return le(t);let o=0;return Ot(i).pipe(Nc(s=>function Z7(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!B1(i)&&(o[Oc]=i.title),function X7(n,e,t,r){const i=function eK(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return le({});const o={};return Ot(i).pipe(Lt(s=>function tK(n,e,t,r){const i=zc(e)??r,o=ba(n,i);return Gi(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[s],e,t,r).pipe(ko(),zt(a=>{o[s]=a}))),Tv(1),function p8(n){return Oe(()=>n)}(o),Vo(s=>x1(s)?Ir:xc(s)))}(o,n,e,r).pipe(Oe(s=>(n._resolvedData=s,n.data=T1(n,t).resolve,i&&B1(i)&&(n.data[Oc]=i.title),null)))}(s.route,r,n,e)),zt(()=>o++),Tv(1),Lt(s=>o===i.length?le(t):Ir))})}(t.paramsInheritanceStrategy,this.environmentInjector),zt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(c,"",2)}}))}),zt(c=>{const d=new W8(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}))}),$v(u=>{const c=d=>{const h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(zt(p=>{d.component=p}),Oe(()=>{})));for(const p of d.children)h.push(...c(p));return h};return Iv(c(u.targetSnapshot.root)).pipe(wf(),Ea(1))}),$v(()=>this.afterPreactivation()),Oe(u=>{const c=function i7(n,e,t){const r=Gc(n,e._root,t?t._root:void 0);return new E1(r,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o={...u,targetRouterState:c},o}),zt(()=>{this.events.next(new Pv)}),((n,e,t,r)=>Oe(i=>(new p7(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ea(1),zt({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new zi(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),t.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),function g8(n){return St((e,t)=>{xn(n).subscribe(Ct(t,()=>t.complete(),jg)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(zt(u=>{throw u}))),Cv(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),Vo(u=>{if(a=!0,R1(u))this.events.next(new jc(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),function a7(n){return R1(n)&&Lo(n.url)}(u)?this.events.next(new Mv(u.url)):o.resolve(!1);else{this.events.next(new Pf(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(u))}catch(c){o.reject(c)}}return Ir}))}))}cancelNavigationTransition(t,r,i){const o=new jc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $1(n){return n!==Bc}let G1=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===me);return r}getResolvedTitleForRoute(t){return t.data[Oc]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return X(iK)},providedIn:"root"})}return n})(),iK=(()=>{class n extends G1{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static#e=this.\u0275fac=function(r){return new(r||n)(re($x))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),oK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return X(aK)},providedIn:"root"})}return n})();class sK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let aK=(()=>{class n extends sK{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Lf=new Z("",{providedIn:"root",factory:()=>({})});let uK=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:function(){return X(cK)},providedIn:"root"})}return n})(),cK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Kc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Kc||{});function z1(n,e){n.events.pipe($i(t=>t instanceof zi||t instanceof jc||t instanceof Pf||t instanceof Ca),Oe(t=>t instanceof zi||t instanceof Ca?Kc.COMPLETE:t instanceof jc&&(0===t.code||1===t.code)?Kc.REDIRECTING:Kc.FAILED),$i(t=>t!==Kc.REDIRECTING),Ea(1)).subscribe(()=>{e()})}function lK(n){throw n}function dK(n,e,t){return e.parse("/")}const hK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},fK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let jn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=X(EM),this.isNgZoneEnabled=!1,this._events=new ur,this.options=X(Lf,{optional:!0})||{},this.pendingTasks=X(wM),this.errorHandler=this.options.errorHandler||lK,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||dK,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=X(uK),this.routeReuseStrategy=X(oK),this.titleStrategy=X(G1),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=X(Pa,{optional:!0})?.flat()??[],this.navigationTransitions=X(Ff),this.urlSerializer=X(Vc),this.location=X(Ky),this.componentInputBindingEnabled=!!X(xf,{optional:!0}),this.eventsSubscription=new In,this.isNgZoneEnabled=X(Ve)instanceof Ve&&Ve.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ta,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=w1(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(H1(r)&&this._events.next(r));if(r instanceof Rf)$1(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof Ca)this.rawUrlTree=i.rawUrl;else if(r instanceof y1){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(o,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof Pv)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof jc)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof Mv){const o=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),s={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$1(i.source)};this.scheduleNavigation(o,Bc,null,s,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Pf&&this.restoreHistory(i,!0),r instanceof zi&&(this.navigated=!0),H1(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Bc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const u={...i};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(o.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uv),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,c=u?this.currentUrlTree.fragment:s;let h,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{h=d1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),h=this.currentUrlTree.root}return h1(h,t,d,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Lo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Bc,null,r)}navigate(t,r={skipLocationChange:!1}){return function pK(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new U(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...hK}:!1===r?{...fK}:r,Lo(t))return n1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return n1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,c;s?(a=s.resolve,u=s.reject,c=s.promise):c=new Promise((h,p)=>{a=h,u=p});const d=this.pendingTasks.add();return z1(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function H1(n){return!(n instanceof Pv||n instanceof Mv)}let Uf=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ur,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===u||"area"===u,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof zi&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function b0(n,e,t){return function WG(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?A0:qs}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(r){return new(r||n)(B(jn),B(Aa),function Qd(n){return function f$(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(vA(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===e)return t[i+1];i+=2}}}return null}($t(),n)}("tabindex"),B(Zr),B(Ln),B(Oo))};static#t=this.\u0275dir=ue({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&ze("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&r&&Pr("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",va],skipLocationChange:["skipLocationChange","skipLocationChange",va],replaceUrl:["replaceUrl","replaceUrl",va],routerLink:"routerLink"},standalone:!0,features:[$S,Jn]})}return n})();class q1{}let _K=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe($i(t=>t instanceof zi),Nc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=py(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ot(i).pipe(ys())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):le(null);const o=i.pipe(Lt(s=>null===s?le(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?Ot([o,this.loader.loadComponent(r)]).pipe(ys()):o})}static#e=this.\u0275fac=function(r){return new(r||n)(re(jn),re(TM),re(er),re(q1),re(Gv))};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const zv=new Z("");let W1=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Rf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof zi?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ca&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof v1&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new v1(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(r){!function gS(){throw new Error("invalid")}()};static#t=this.\u0275prov=ie({token:n,factory:n.\u0275fac})}return n})();function ui(n,e){return{\u0275kind:n,\u0275providers:e}}function Q1(){const n=X(fn);return e=>{const t=n.get(ya);if(e!==t.components[0])return;const r=n.get(jn),i=n.get(Y1);1===n.get(Hv)&&r.initialNavigation(),n.get(J1,null,ve.Optional)?.setUpPreloading(),n.get(zv,null,ve.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Y1=new Z("",{factory:()=>new ur}),Hv=new Z("",{providedIn:"root",factory:()=>1}),J1=new Z("");function EK(n){return ui(0,[{provide:J1,useExisting:_K},{provide:q1,useExisting:n}])}const Z1=new Z("ROUTER_FORROOT_GUARD"),TK=[Ky,{provide:Vc,useClass:Dv},jn,$c,{provide:Aa,useFactory:function K1(n){return n.routerState.root},deps:[jn]},Gv,[]];function CK(){return new PM("Router",jn)}let X1=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[TK,[],{provide:Pa,multi:!0,useValue:t},{provide:Z1,useFactory:SK,deps:[[jn,new Xn,new Zd]]},{provide:Lf,useValue:r||{}},r?.useHash?{provide:Oo,useClass:N6}:{provide:Oo,useClass:sx},{provide:zv,useFactory:()=>{const n=X(Z9),e=X(Ve),t=X(Lf),r=X(Ff),i=X(Vc);return t.scrollOffset&&n.setOffset(t.scrollOffset),new W1(i,r,n,e,t)}},r?.preloadingStrategy?EK(r.preloadingStrategy).\u0275providers:[],{provide:PM,multi:!0,useFactory:CK},r?.initialNavigation?RK(r):[],r?.bindToComponentInputs?ui(8,[A1,{provide:xf,useExisting:A1}]).\u0275providers:[],[{provide:eN,useFactory:Q1},{provide:Ly,multi:!0,useExisting:eN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Pa,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(r){return new(r||n)(re(Z1,8))};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({})}return n})();function SK(n){return"guarded"}function RK(n){return["disabled"===n.initialNavigation?ui(3,[{provide:Py,multi:!0,useFactory:()=>{const e=X(jn);return()=>{e.setUpLocationChangeListener()}}},{provide:Hv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ui(2,[{provide:Hv,useValue:0},{provide:Py,multi:!0,deps:[fn],useFactory:e=>{const t=e.get(M6,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(jn),o=e.get(Y1);z1(i,()=>{r(!0)}),e.get(Ff).afterPreactivation=()=>(r(!0),o.closed?le(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const eN=new Z("");let MK=(()=>{class n{constructor(){this.tours=[{id:1,name:"Recorrido 1",description:"Descripci\xf3n del Recorrido 1",image:"https://mdbcdn.b-cdn.net/img/new/standard/nature/181.webp"},{id:2,name:"Recorrido 2",description:"Descripci\xf3n del Recorrido 2",image:"https://mdbcdn.b-cdn.net/img/new/standard/nature/182.webp"}]}ngOnInit(){}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-home"]],decls:91,vars:4,consts:[[1,"container"],[1,"row"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide",2,"padding","0px"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","3","aria-label","Slide 4"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","4","aria-label","Slide 5"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","5","aria-label","Slide 6"],[1,"carousel-inner"],["data-bs-interval","5000",1,"carousel-item","active"],["src","assets/img/leon.webp","alt","...",1,"d-block","w-100"],["data-bs-interval","5000",1,"carousel-item"],["src","assets/img/elefante.webp","alt","...",1,"d-block","w-100"],["src","assets/img/tierra.webp","alt","...",1,"d-block","w-100"],["src","assets/img/animales y universo.webp","alt","...",1,"d-block","w-100"],["src","assets/img/botanico01.jpg","alt","...",1,"d-block","w-100"],["src","assets/img/botanico02.jpg","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],["id","home-zoo-life"],[1,"home-zoo-life-hero-title3"],[1,"home-zoo-life-hero-title-inner"],[1,"vertical-text2"],[1,"text2",2,"color","white"],[1,"recorrido2"],[1,"btn","btn-primary","btn1",3,"routerLink"],[1,"home-zoo-life-hero-image2"],["loading","lazy","src","assets/img/plantas.jpg","width","1020","height","580","alt","Baby hippo Amahle in the water.","typeof","Image"],[1,"home-zoo-life-hero-title"],[1,"vertical-text"],[1,"text1"],[1,"recorrido1"],[1,"home-zoo-life-hero-image"],["loading","lazy","src","assets/img/zoo.jpg","width","1020","height","580","alt","Baby hippo Amahle in the water.","typeof","Image"],[1,"home-zoo-life-hero-title2"],[1,"text2"],["loading","lazy","src","assets/img/tierra2.png","width","1020","height","580","alt","Baby hippo Amahle in the water.","typeof","Image"],["loading","lazy","src","assets/img/comments.jpg","width","1020","height","580","alt","Baby hippo Amahle in the water.","typeof","Image"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),be(4,"button",4)(5,"button",5)(6,"button",6)(7,"button",7)(8,"button",8)(9,"button",9),W(),G(10,"div",10)(11,"div",11),be(12,"img",12),W(),G(13,"div",13),be(14,"img",14),W(),G(15,"div",13),be(16,"img",15),W(),G(17,"div",13),be(18,"img",16),W(),G(19,"div",13),be(20,"img",17),W(),G(21,"div",13),be(22,"img",18),W()(),G(23,"button",19),be(24,"span",20),G(25,"span",21),de(26,"Previous"),W()(),G(27,"button",22),be(28,"span",23),G(29,"span",21),de(30,"Next"),W()()()(),G(31,"div",1)(32,"div",24)(33,"div",25)(34,"div",26)(35,"div",27)(36,"h2"),de(37,"Plantas"),W()(),G(38,"h3",28),de(39,"Jard\xedn bot\xe1nico"),W()(),G(40,"div",29)(41,"a",30),de(42,"Ver Recorrido"),W()()(),G(43,"div",31)(44,"div"),be(45,"img",32),W()()()(),G(46,"div",1)(47,"div",24)(48,"div",33)(49,"div",26)(50,"div",34)(51,"h2"),de(52,"Animales"),W()(),G(53,"h3",35),de(54,"Zool\xf3gico"),W()(),G(55,"div",36)(56,"a",30),de(57,"Ver Recorrido"),W()()(),G(58,"div",37)(59,"div"),be(60,"img",38),W()()()(),G(61,"div",1)(62,"div",24)(63,"div",39)(64,"div",26)(65,"div",27)(66,"h2"),de(67,"Universo"),W()(),G(68,"h3",40),de(69,"Planetas y Estrellas"),W()(),G(70,"div",29)(71,"a",30),de(72,"Ver Recorrido"),W()()(),G(73,"div",31)(74,"div"),be(75,"img",41),W()()()(),G(76,"div",1)(77,"div",24)(78,"div",33)(79,"div",26)(80,"div",34)(81,"h2"),de(82,"Comentarios"),W()(),G(83,"h3",35),de(84,"Comentarios"),W()(),G(85,"div",36)(86,"a",30),de(87,"Ir a Comentarios"),W()()(),G(88,"div",37)(89,"div"),be(90,"img",42),W()()()()()),2&r&&(Pe(41),Ge("routerLink","/jardinBotanico"),Pe(15),Ge("routerLink","/tourOne"),Pe(15),Ge("routerLink","/tourTwo"),Pe(15),Ge("routerLink","/comments"))},dependencies:[Uf],styles:["#home-zoo-life[_ngcontent-%COMP%]{position:relative;max-width:100%;overflow:hidden;padding:0}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title[_ngcontent-%COMP%]{background-image:url(/assets/img/bgAzul.png);background-repeat:no-repeat;height:582px;position:absolute;top:0;padding:20px;width:100%;z-index:100;text-align:center}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title2[_ngcontent-%COMP%], #home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title3[_ngcontent-%COMP%]{background-image:url(/assets/img/bgNaranja.png);background-repeat:no-repeat;height:582px;position:absolute;right:0;top:0;padding:20px;width:100%;z-index:100;text-align:center;transform:translate(35%)}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title3[_ngcontent-%COMP%]{background-image:url(/assets/img/bgMorado.png);background-repeat:no-repeat;height:582px;position:absolute;right:0;top:0;padding:20px;width:100%;z-index:100;text-align:center;transform:translate(35%)}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image[_ngcontent-%COMP%]{float:right;position:relative;width:1020px;margin-right:-82px}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image2[_ngcontent-%COMP%]{float:left;position:relative;width:100%;margin-left:0}.text1[_ngcontent-%COMP%]{margin-left:40px;position:relative;top:2%;z-index:91;font-size:45px;color:#fed521;line-height:45px;font-weight:700;max-width:100%}.text2[_ngcontent-%COMP%]{margin-left:40px;position:relative;top:2%;z-index:91;font-size:45px;color:#03114a;line-height:45px;font-weight:700;max-width:100%}.vertical-text[_ngcontent-%COMP%]{font-size:20px;transform:rotate(-90deg);transform-origin:right 4px;position:absolute;left:-200px;color:#fff;display:block;width:205px;text-align:right;padding-right:10px}.vertical-text2[_ngcontent-%COMP%]{font-size:20px;transform:rotate(-90deg);transform-origin:right 4px;position:absolute;right:50px;color:#fff;display:block;width:205px;text-align:right;padding-right:10px}.btn1[_ngcontent-%COMP%]{border-radius:60px;width:50%;font-size:20px;padding:15px;color:#000;background-color:#fed521}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:0}.recorrido2[_ngcontent-%COMP%]{position:relative;top:25%;text-align:center;right:-50px;width:60%}.recorrido1[_ngcontent-%COMP%]{position:relative;top:25%;text-align:center;width:60%}.btn1[_ngcontent-%COMP%]:hover{background-color:#022653!important;color:#fff}.home-zoo-life-hero-title-inner[_ngcontent-%COMP%]{top:20px;position:relative;width:60%}@media (max-width: 770px){.recorrido2[_ngcontent-%COMP%]{right:0}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title[_ngcontent-%COMP%], #home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title2[_ngcontent-%COMP%], #home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title3[_ngcontent-%COMP%]{height:150px;position:relative;width:100%;padding:10px;z-index:0;transform:translate(20%)}.text1[_ngcontent-%COMP%], .text2[_ngcontent-%COMP%]{font-size:24px;line-height:28px;max-width:100%;margin:0 auto;color:#03114a}.vertical-text[_ngcontent-%COMP%], .vertical-text2[_ngcontent-%COMP%]{font-size:16px;left:-65%;right:25px;width:105px}.btn1[_ngcontent-%COMP%]{font-size:16px;padding:10px;width:80%}#home-zoo-life[_ngcontent-%COMP%]{background-color:#1b76e7}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-title[_ngcontent-%COMP%]{right:0;background-image:url(/assets/img/bgNaranja.png)}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image[_ngcontent-%COMP%]{float:left;position:relative;width:100%;margin-left:0}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image[_ngcontent-%COMP%], #home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image2[_ngcontent-%COMP%]{width:100%;margin:0;display:flex;justify-content:center;align-items:center}#home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image2[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], #home-zoo-life[_ngcontent-%COMP%]   .home-zoo-life-hero-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:180px;height:180px;border-radius:50%;object-fit:cover;position:relative;z-index:99;border:5px solid white;margin:10px}}"]})}return n})();const xK=["imageModal"],qv=function(n){return{"path-active":n}};function NK(n,e){if(1&n){const t=da();G(0,"div",17)(1,"div",18)(2,"div",19),ze("click",function(){const o=Rs(t).index;return Ps(Mr().section(o))}),de(3),W()()()}if(2&n){const t=e.index,r=Mr();Pe(2),Fi("id","section",t,""),Ge("ngClass",Hh(3,qv,r.activeSection===t)),Pe(1),fa(" ",r.getSectionName(t)," ")}}function OK(n,e){if(1&n){const t=da();G(0,"div",17)(1,"div",18)(2,"div",19),ze("click",function(){const o=Rs(t).index;return Ps(Mr().section(o+3))}),de(3),W()()()}if(2&n){const t=e.index,r=Mr();Pe(2),Fi("id","section",t+3,""),Ge("ngClass",Hh(3,qv,r.activeSection===t+3)),Pe(1),fa(" ",r.getSectionName(t+3)," ")}}function kK(n,e){if(1&n){const t=da();G(0,"div",17)(1,"div",18)(2,"div",19),ze("click",function(){const o=Rs(t).index;return Ps(Mr().section(o+6))}),de(3),W()()()}if(2&n){const t=e.index,r=Mr();Pe(2),Fi("id","section",t+6,""),Ge("ngClass",Hh(3,qv,r.activeSection===t+6)),Pe(1),fa(" ",r.getSectionName(t+6)," ")}}function VK(n,e){if(1&n){const t=da();G(0,"div",20)(1,"div",21)(2,"img",22),ze("click",function(){const o=Rs(t).$implicit;return Ps(Mr().openModal(o))}),W()()()}if(2&n){const t=e.$implicit,r=e.index,i=Mr();Pe(2),Fi("alt","Image ",r+1,""),Ge("src","assets/img/"+i.nameAux+"/"+t,qs)}}const FK=function(){return[0,1,2]},LK=function(){return[3,4,5]},UK=function(){return[6,7,8]},BK=function(n,e){return{"w-100":n,"w-50":e}};let jK=(()=>{class n{constructor(){this.images=[],this.currentImage="",this.currentIndex=0,this.activeSection=0,this.sectionNames=["Entrada","Bosque Tropical","Bosque Templado","Aviario","Franja Costera","Pastizales","Herpentario","Desierto","Anfibios"],this.auxSection={0:{gifs:[],name:"ENTRADA",photos:2},1:{gifs:[6,15,23,30,31,36,37,38,45,46,50],name:"TROPICAL",photos:50},2:{gifs:[5,9,10,13,22,26,28],name:"TEMPLADO",photos:28},3:{gifs:[5,14,15,16,22,23,28,29,41,42,43,45,50,51],name:"AVIARIO",photos:58},4:{gifs:[9,13,14,15],name:"FRANJA",photos:24},5:{gifs:[7,8,9,12,15,17,21,24,28,31,34,37,38,39,42],name:"PASTIZALES",photos:42},6:{gifs:[3,19,20,22,25,66],name:"HERPENTARIO",photos:68},7:{gifs:[4,5,6,15,18,26,27],name:"DESIERTO",photos:27},8:{gifs:[16,20,21,34,35,50,51,52],name:"ANFIBIUM",photos:52}},this.gifsAux=[7,8,9,12,15,17,21,24,28,31,34,37,38,39,42],this.photosAux=0,this.nameAux="",this.isMobileView=!1,this.section(0)}onResize(t){this.isMobileView=window.innerWidth<768}ngOnInit(){this.isMobileView=window.innerWidth<768}start(){let t=".jpg";for(let r=1;r<=this.photosAux;r++)t=this.gifsAux.includes(r)?".gif":".jpg",this.images.push(`${this.nameAux}${r.toString().padStart(2,"0")}${t}`)}openModal(t){this.currentImage=t,this.currentIndex=this.images.indexOf(t),$(this.imageModal.nativeElement).modal("show")}previousImage(){this.currentIndex>0&&(this.currentIndex--,this.currentImage=this.images[this.currentIndex])}nextImage(){this.currentIndex<this.images.length-1&&(this.currentIndex++,this.currentImage=this.images[this.currentIndex])}section(t){this.activeSection=t,this.images=[],this.gifsAux=this.auxSection[t].gifs,this.photosAux=this.auxSection[t].photos,this.nameAux=this.auxSection[t].name,this.start()}getSectionName(t){return this.sectionNames[t]}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-tour-one"]],viewQuery:function(r,i){if(1&r&&Cy(xK,5),2&r){let o;Kh(o=Qh())&&(i.imageModal=o.first)}},hostBindings:function(r,i){1&r&&ze("resize",function(s){return i.onResize(s)},0,O_)},decls:26,vars:14,consts:[[1,"container"],[1,"row"],[1,"col-12"],[1,"path-container"],["class","col-12 col-sm-4",4,"ngFor","ngForOf"],[1,"row",2,"padding","20px"],["class","col-12 col-sm-6 col-md-3",4,"ngFor","ngForOf"],["tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],["imageModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered",3,"ngClass"],[1,"modal-content",2,"padding","20px"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-0"],["alt","Imagen grande",1,"img-fluid","w-100",3,"src"],[1,"modal-footer","justify-content-between"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"col-12","col-sm-4"],[1,"path-step"],[1,"circle",3,"id","ngClass","click"],[1,"col-12","col-sm-6","col-md-3"],[1,"card","mb-4","shadow-sm"],[1,"card-img-top",3,"src","alt","click"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",1),Ro(5,NK,4,5,"div",4),W(),G(6,"div",1),Ro(7,OK,4,5,"div",4),W(),G(8,"div",1),Ro(9,kK,4,5,"div",4),W()()()()(),G(10,"div",0)(11,"div",5),Ro(12,VK,3,2,"div",6),W()(),G(13,"div",7,8)(15,"div",9)(16,"div",10)(17,"div",11),be(18,"button",12),W(),G(19,"div",13),be(20,"img",14),W(),G(21,"div",15)(22,"button",16),ze("click",function(){return i.previousImage()}),de(23,"Anterior"),W(),G(24,"button",16),ze("click",function(){return i.nextImage()}),de(25,"Siguiente"),W()()()()()),2&r&&(Pe(5),Ge("ngForOf",zh(8,FK)),Pe(2),Ge("ngForOf",zh(9,LK)),Pe(2),Ge("ngForOf",zh(10,UK)),Pe(3),Ge("ngForOf",i.images),Pe(3),Ge("ngClass",my(11,BK,i.isMobileView,!i.isMobileView)),Pe(5),Ge("src","assets/img/"+i.nameAux+"/"+i.currentImage,qs),Pe(2),Ge("disabled",0===i.currentIndex),Pe(2),Ge("disabled",i.currentIndex===i.images.length-1))},dependencies:[ov,_f],styles:[".gview[_ngcontent-%COMP%]{border:0;display:block;width:100%;height:80vh;margin:0 auto}.home-zoo-life-hero-title-inner[_ngcontent-%COMP%]{top:20px;position:relative;width:60%}.vertical-text[_ngcontent-%COMP%]{font-size:20px;transform:rotate(-90deg);transform-origin:right 4px;position:absolute;left:-200px;color:#fff;display:block;width:205px;text-align:right;padding-right:10px}.text2[_ngcontent-%COMP%]{margin-left:40px;position:relative;top:2%;z-index:91;font-size:45px;color:#fed521;line-height:45px;font-weight:700;max-width:100%}.text1[_ngcontent-%COMP%]{margin-left:40px;position:relative;top:2%;z-index:91;font-size:45px;color:#fff;line-height:45px;font-weight:700;max-width:100%}.title2[_ngcontent-%COMP%]{min-height:170px;background-color:#022653;width:100%;margin-bottom:20px;text-align:center}.title1[_ngcontent-%COMP%]{min-height:170px;background-color:#3b105b;width:100%;margin-bottom:20px;text-align:center}.path-active[_ngcontent-%COMP%]{background-color:#007bff!important}.path-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin:20px 0}.path-step[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;cursor:pointer;text-align:center}.circle[_ngcontent-%COMP%]{width:100px;height:100px;border-radius:50%;background-color:#1c1a1a;color:#fff;display:flex;align-items:center;justify-content:center;font-size:1.2em;margin:10px 0;transition:transform .3s ease}.circle[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.path-line[_ngcontent-%COMP%]{flex-grow:1;height:5px;background-color:#1c1a1a}.path-line-active[_ngcontent-%COMP%]{background-color:#007bff!important}section[_ngcontent-%COMP%]{padding:20px;margin:20px 0;border-radius:10px;color:#fff;text-align:center}#entrada[_ngcontent-%COMP%]{background:url(bg_zoo.3fa0248f946362d6.jpeg) no-repeat center center/cover}.photo-gallery[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;margin-top:20px}.photo-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:200px;height:200px;object-fit:cover;border-radius:10px;transition:transform .3s ease}.photo-gallery[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.modal-dialog[_ngcontent-%COMP%]{width:auto;margin:3% auto}.modal-content[_ngcontent-%COMP%]{margin:0 auto}.modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto;display:block;margin:0 auto}"]})}return n})(),$K=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-tour-two"]],decls:74,vars:0,consts:[[1,"row"],["id","carouselExampleIndicators","data-bs-ride","carousel",1,"carousel","slide",2,"padding","0px"],[1,"carousel-indicators"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","0","aria-current","true","aria-label","Slide 1",1,"active"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","1","aria-label","Slide 2"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","2","aria-label","Slide 3"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide-to","3","aria-label","Slide 4"],[1,"carousel-inner"],["data-bs-interval","5000",1,"carousel-item","active"],["src","assets/img/saturno.webp","alt","...",1,"d-block","w-100"],["data-bs-interval","5000",1,"carousel-item"],["src","assets/img/galaxia.webp","alt","...",1,"d-block","w-100"],["src","assets/img/tierra.webp","alt","...",1,"d-block","w-100"],["src","assets/img/cometa.webp","alt","...",1,"d-block","w-100"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","prev",1,"carousel-control-prev"],["aria-hidden","true",1,"carousel-control-prev-icon"],[1,"visually-hidden"],["type","button","data-bs-target","#carouselExampleIndicators","data-bs-slide","next",1,"carousel-control-next"],["aria-hidden","true",1,"carousel-control-next-icon"],[1,"home-zoo-life-hero-title-inner","title1"],[2,"color","white","margin-top","20px"],[1,"text1"],[1,"list","pattern"],[1,"video-container"],["src","https://www.youtube.com/embed/DAMUAaobGV0","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"gview"],[1,"credits"],["href","https://www.youtube.com/@HistoryLA","target","_blank"],["src","https://www.youtube.com/embed/bi1bSdCEnuM","frameborder","0","allow","accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture","allowfullscreen","",1,"gview"],[1,"stellarium-container"],["id","stellariumFrame","src","https://stellarium-web.org/","allowfullscreen","",1,"gview"],["href","https://stellarium-web.org/","target","_blank"],["href","https://stellarium.org/","target","_blank"]],template:function(r,i){1&r&&(G(0,"div")(1,"div",0)(2,"div",1)(3,"div",2),be(4,"button",3)(5,"button",4)(6,"button",5)(7,"button",6),W(),G(8,"div",7)(9,"div",8),be(10,"img",9),W(),G(11,"div",10),be(12,"img",11),W(),G(13,"div",10),be(14,"img",12),W(),G(15,"div",10),be(16,"img",13),W()(),G(17,"button",14),be(18,"span",15),G(19,"span",16),de(20,"Previous"),W()(),G(21,"button",17),be(22,"span",18),G(23,"span",16),de(24,"Next"),W()()()(),G(25,"div",0)(26,"div",19)(27,"div")(28,"h2",20),de(29,"Universo"),W()(),G(30,"h3",21),de(31,"Saturno"),W()(),G(32,"section",22)(33,"div",23),be(34,"iframe",24),W(),G(35,"div",25)(36,"p"),de(37,"Video tomado de "),G(38,"a",26),de(39,"Youtube - History Latinoam\xe9rica"),W()()()()(),G(40,"div",0)(41,"div",19)(42,"div")(43,"h2",20),de(44,"Universo"),W()(),G(45,"h3",21),de(46,"Ima\u0301genes co\u0301smicas"),W()(),G(47,"section",22)(48,"div",23),be(49,"iframe",27),W(),G(50,"div",25)(51,"p"),de(52,"Video tomado de "),G(53,"a",26),de(54,"Youtube - History Latinoam\xe9rica"),W()()()()(),G(55,"div",0)(56,"div",19)(57,"div")(58,"h2",20),de(59,"Cielo nocturno"),W()(),G(60,"h3",21),de(61,"Stellarium"),W()(),G(62,"section",22)(63,"div",28),be(64,"iframe",29),W(),G(65,"div",25)(66,"p"),de(67,"Esta p\xe1gina utiliza "),G(68,"a",30),de(69,"Stellarium Web"),W(),de(70," para la visualizaci\xf3n del universo. Cr\xe9ditos a "),G(71,"a",31),de(72,"Stellarium"),W(),de(73,"."),W()()()()())},styles:[".stellarium-container[_ngcontent-%COMP%]{position:relative;width:100%;padding-bottom:56.25%;height:100%;overflow:hidden}.stellarium-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;border:0}.gview[_ngcontent-%COMP%]{border:0;display:block;width:100%;height:80vh;margin:0 auto}.home-zoo-life-hero-title-inner[_ngcontent-%COMP%]{top:20px;position:relative;width:60%}.vertical-text[_ngcontent-%COMP%]{font-size:20px;transform:rotate(-90deg);transform-origin:right 4px;position:absolute;left:-200px;color:#fff;display:block;width:205px;text-align:right;padding-right:10px}.text2[_ngcontent-%COMP%]{margin-left:40px;position:relative;top:2%;z-index:91;font-size:45px;color:#fed521;line-height:45px;font-weight:700;max-width:100%}.text1[_ngcontent-%COMP%]{position:relative;top:2%;z-index:91;font-size:45px;color:#fff;line-height:45px;font-weight:700;max-width:100%}.title2[_ngcontent-%COMP%]{min-height:170px;background-color:#022653;width:100%;margin-bottom:20px;text-align:center}.title1[_ngcontent-%COMP%]{min-height:170px;background-color:#3b105b;width:100%;margin-bottom:20px;text-align:center}.credits[_ngcontent-%COMP%]{text-align:center;margin-top:10px;background-color:#3f3565;color:#fff;font-size:large;font-weight:700}"]})}return n})();const GK=["imageModal"];function zK(n,e){if(1&n){const t=da();G(0,"div",13)(1,"div",14)(2,"img",15),ze("click",function(){const o=Rs(t).$implicit;return Ps(Mr().openModal(o))}),W()()()}if(2&n){const t=e.$implicit,r=e.index;Pe(2),Fi("alt","Image ",r+1,""),Ge("src","assets/img/JARDIN BOTANICO/"+t+".jpg",qs)}}const HK=function(n,e){return{"w-100":n,"w-50":e}};let qK=(()=>{class n{constructor(){this.images=[],this.currentImage="",this.currentIndex=0,this.isMobileView=!1;for(let t=1;t<=79;t++)this.images.push(`Botanico${t.toString().padStart(2,"0")}`)}onResize(t){this.isMobileView=window.innerWidth<768}ngOnInit(){this.isMobileView=window.innerWidth<768}openModal(t){this.currentImage=t,this.currentIndex=this.images.indexOf(t),$(this.imageModal.nativeElement).modal("show")}previousImage(){this.currentIndex>0&&(this.currentIndex--,this.currentImage=this.images[this.currentIndex])}nextImage(){this.currentIndex<this.images.length-1&&(this.currentIndex++,this.currentImage=this.images[this.currentIndex])}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-tour-three"]],viewQuery:function(r,i){if(1&r&&Cy(GK,5),2&r){let o;Kh(o=Qh())&&(i.imageModal=o.first)}},hostBindings:function(r,i){1&r&&ze("resize",function(s){return i.onResize(s)},0,O_)},decls:16,vars:8,consts:[[1,"container"],[1,"row",2,"padding","20px"],["class","col-md-3",4,"ngFor","ngForOf"],["tabindex","-1","aria-labelledby","imageModalLabel","aria-hidden","true",1,"modal","fade"],["imageModal",""],[1,"modal-dialog","modal-lg","modal-dialog-centered",3,"ngClass"],[1,"modal-content",2,"padding","20px"],[1,"modal-header"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[1,"modal-body","p-0"],["alt","Imagen grande",1,"img-fluid","w-100",3,"src"],[1,"modal-footer","justify-content-between"],[1,"btn","btn-secondary",3,"disabled","click"],[1,"col-md-3"],[1,"card","mb-4","shadow-sm"],[1,"card-img-top",3,"src","alt","click"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"div",1),Ro(2,zK,3,2,"div",2),W()(),G(3,"div",3,4)(5,"div",5)(6,"div",6)(7,"div",7),be(8,"button",8),W(),G(9,"div",9),be(10,"img",10),W(),G(11,"div",11)(12,"button",12),ze("click",function(){return i.previousImage()}),de(13,"Anterior"),W(),G(14,"button",12),ze("click",function(){return i.nextImage()}),de(15,"Siguiente"),W()()()()()),2&r&&(Pe(2),Ge("ngForOf",i.images),Pe(3),Ge("ngClass",my(5,HK,i.isMobileView,!i.isMobileView)),Pe(5),Ge("src","assets/img/JARDIN BOTANICO/"+i.currentImage+".jpg",qs),Pe(2),Ge("disabled",0===i.currentIndex),Pe(2),Ge("disabled",i.currentIndex===i.images.length-1))},dependencies:[ov,_f],styles:[".modal-dialog[_ngcontent-%COMP%]{width:auto;margin:3% auto}.modal-content[_ngcontent-%COMP%]{margin:0 auto}.modal-body[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;padding:0}.modal-body[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;height:auto;display:block;margin:0 auto}"]})}return n})();function tN(n,e,t,r,i,o,s){try{var a=n[o](s),u=a.value}catch(c){return void t(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function O(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var o=n.apply(e,t);function s(u){tN(o,r,i,s,a,"next",u)}function a(u){tN(o,r,i,s,a,"throw",u)}s(void 0)})}}const nN=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},rN={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,c=u?n[i+2]:0;let p=(15&a)<<2|c>>6,m=63&c;u||(m=64,s||(p=64)),r.push(t[o>>2],t[(3&o)<<4|a>>4],t[p],t[m])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(nN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const u=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{const o=n[t++],s=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const c=i<n.length?t[n.charAt(i)]:64;++i;const h=i<n.length?t[n.charAt(i)]:64;if(++i,null==o||null==a||null==c||null==h)throw new YK;r.push(o<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==h&&r.push(c<<6&192|h))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class YK extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Bf=function(n){return function(n){const e=nN(n);return rN.encodeByteArray(e,!0)}(n).replace(/\./g,"")},jf=function(n){try{return rN.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},$f=()=>{try{return function XK(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&jf(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},oN=()=>{var n;return null===(n=$f())||void 0===n?void 0:n.config};class sN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Sn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class Hi extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Hi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qc.prototype.create)}}class Qc{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?function mQ(n,e){return n.replace(_Q,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(o,r):"Error";return new Hi(i,`${this.serviceName}: ${s} (${i}).`,r)}}const _Q=/\{\$([^}]+)}/g;function Kv(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],s=e[i];if(uN(o)&&uN(s)){if(!Kv(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function uN(n){return null!==n&&"object"==typeof n}function cN(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class vQ{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function IQ(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=Qv),void 0===i.error&&(i.error=Qv),void 0===i.complete&&(i.complete=Qv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Qv(){}function Vr(n){return n&&n._delegate?n._delegate:n}class Uo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Bo="[DEFAULT]";class AQ{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new sN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function SQ(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Bo})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Bo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return O(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Bo){return this.instances.has(e)}getOptions(e=Bo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,s]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(o)&&s.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Bo?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=Bo){return this.component?this.component.multipleInstances?e:Bo:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class RQ{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AQ(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Jv=[];var Te=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Te||{});const lN={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},PQ=Te.INFO,MQ={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},xQ=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=MQ[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class Zv{constructor(e){this.name=e,this._logLevel=PQ,this._logHandler=xQ,this._userLogHandler=null,Jv.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?lN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const NQ=(n,e)=>e.some(t=>n instanceof t);let dN,hN;const fN=new WeakMap,Xv=new WeakMap,pN=new WeakMap,eI=new WeakMap,tI=new WeakMap;let nI={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return Xv.get(n);if("objectStoreNames"===e)return n.objectStoreNames||pN.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return qi(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function BQ(n){return"function"==typeof n?function UQ(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function kQ(){return hN||(hN=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(rI(this),e),qi(fN.get(this))}:function(...e){return qi(n.apply(rI(this),e))}:function(e,...t){const r=n.call(rI(this),e,...t);return pN.set(r,e.sort?e.sort():[e]),qi(r)}}(n):(n instanceof IDBTransaction&&function FQ(n){if(Xv.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Xv.set(n,e)}(n),NQ(n,function OQ(){return dN||(dN=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,nI):n)}function qi(n){if(n instanceof IDBRequest)return function VQ(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(qi(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&fN.set(t,n)}).catch(()=>{}),tI.set(e,n),e}(n);if(eI.has(n))return eI.get(n);const e=BQ(n);return e!==n&&(eI.set(n,e),tI.set(e,n)),e}const rI=n=>tI.get(n),$Q=["get","getKey","getAll","getAllKeys","count"],GQ=["put","add","delete","clear"],iI=new Map;function gN(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(iI.get(e))return iI.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=GQ.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!$Q.includes(t))return;const o=function(){var s=O(function*(a,...u){const c=this.transaction(a,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(yield Promise.all([d[t](...u),i&&c.done]))[0]});return function(u){return s.apply(this,arguments)}}();return iI.set(e,o),o}!function LQ(n){nI=n(nI)}(n=>({...n,get:(e,t,r)=>gN(e,t)||n.get(e,t,r),has:(e,t)=>!!gN(e,t)||n.has(e,t)}));class zQ{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function HQ(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const zf="@firebase/app",oI="0.10.10",ci=new Zv("@firebase/app"),Hf="[DEFAULT]",yY={[zf]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},jo=new Map,Yc=new Map,Jc=new Map;function mN(n,e){try{n.container.addComponent(e)}catch(t){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ma(n){const e=n.name;if(Jc.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;Jc.set(e,n);for(const t of jo.values())mN(t,n);for(const t of Yc.values())mN(t,n);return!0}function Zc(n){return void 0!==n.settings}const or=new Qc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class EY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const qf="10.13.1";function yN(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Hf,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw or.create("bad-app-name",{appName:String(i)});if(t||(t=oN()),!t)throw or.create("no-options");const o=jo.get(i);if(o){if(Kv(t,o.options)&&Kv(r,o.config))return o;throw or.create("duplicate-app",{appName:i})}const s=new RQ(i);for(const u of Jc.values())s.addComponent(u);const a=new EY(t,r,s);return jo.set(i,a),a}function vN(n=Hf){const e=jo.get(n);if(!e&&n===Hf&&oN())return yN();if(!e)throw or.create("no-app",{appName:n});return e}function IN(){return Array.from(jo.values())}function $n(n,e,t){var r;let i=null!==(r=yY[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];return o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ci.warn(a.join(" "))}Ma(new Uo(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const CY="firebase-heartbeat-database",DY=1,Xc="firebase-heartbeat-store";let aI=null;function EN(){return aI||(aI=function jQ(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(n,e),a=qi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(qi(s.result),u.oldVersion,u.newVersion,qi(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(CY,DY,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Xc)}catch(t){console.warn(t)}}}).catch(n=>{throw or.create("idb-open",{originalErrorMessage:n.message})})),aI}function uI(){return(uI=O(function*(n){try{const t=(yield EN()).transaction(Xc),r=yield t.objectStore(Xc).get(TN(n));return yield t.done,r}catch(e){if(e instanceof Hi)ci.warn(e.message);else{const t=or.create("idb-get",{originalErrorMessage:e?.message});ci.warn(t.message)}}})).apply(this,arguments)}function wN(n,e){return cI.apply(this,arguments)}function cI(){return(cI=O(function*(n,e){try{const r=(yield EN()).transaction(Xc,"readwrite");yield r.objectStore(Xc).put(e,TN(n)),yield r.done}catch(t){if(t instanceof Hi)ci.warn(t.message);else{const r=or.create("idb-set",{originalErrorMessage:t?.message});ci.warn(r.message)}}})).apply(this,arguments)}function TN(n){return`${n.name}!${n.options.appId}`}class RY{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MY(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return O(function*(){var t,r;try{const o=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=CN();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===s||e._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(e._heartbeatsCache.heartbeats.push({date:s,agent:o}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const u=new Date(a.date).valueOf();return Date.now()-u<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){ci.warn(i)}})()}getHeartbeatsHeader(){var e=this;return O(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=CN(),{heartbeatsToSend:i,unsentEntries:o}=function PY(n,e=1024){const t=[];let r=n.slice();for(const i of n){const o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),DN(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),DN(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Bf(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s}catch(r){return ci.warn(r),""}})()}}function CN(){return(new Date).toISOString().substring(0,10)}class MY{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return O(function*(){return!!function fQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function pQ(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e((null===(o=i.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return O(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function AY(n){return uI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return O(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return wN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return O(function*(){var r;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return wN(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function DN(n){return Bf(JSON.stringify({version:2,heartbeats:n})).length}!function xY(n){Ma(new Uo("platform-logger",e=>new zQ(e),"PRIVATE")),Ma(new Uo("heartbeat",e=>new RY(e),"PRIVATE")),$n(zf,oI,n),$n(zf,oI,"esm2017"),$n("fire-js","")}(""),$n("firebase","10.13.1","app");class kY extends In{constructor(e,t){super()}schedule(e,t=0){return this}}const Wf={setInterval(n,e,...t){const{delegate:r}=Wf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Wf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class AN extends kY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,o=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Wf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Wf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,_s(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const bN={now:()=>(bN.delegate||Date).now(),delegate:void 0};class el{constructor(e,t=el.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}el.now=bN.now;class SN extends el{constructor(e,t=el.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const LY=new class FY extends SN{}(class VY extends AN{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),UY=new SN(AN),lI=new Zs("ANGULARFIRE2_VERSION");const dI=(n,e)=>{const t=e?[e]:IN(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r};class BY{constructor(){return dI(jY)}}const jY="app-check";function xa(){}class PN{zone;delegate;constructor(e,t=LY){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(s){i.runGuarded(()=>{e.apply(this,[s])})},t,r)}}class $Y{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa)),t.pipe(zt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let MN=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new PN(Zone.current)),this.insideAngular=t.run(()=>new PN(Zone.current,UY)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(re(Ve))};static \u0275prov=ie({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Na(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function $o(n){return Na().ngZone.run(()=>n())}function zY(n){return function HY(n){return function(t){return(t=t.lift(new $Y(n.ngZone))).pipe(Dd(n.outsideAngular),Cd(n.insideAngular))}}(Na())(n)}const qY=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),$o(()=>n.apply(void 0,r))},tl=(n,e)=>function(){let t;const r=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof r[o]&&(e&&(t||=$o(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",xa,{},xa,xa))),r[o]=qY(r[o],t));const i=function GY(n){return Na().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof ut){const o=Na();return i.pipe(Dd(o.outsideAngular),Cd(o.insideAngular))}return $o(()=>i)}return i instanceof ut?i.pipe(zY):i instanceof Promise?$o(()=>new Promise((o,s)=>i.then(a=>$o(()=>o(a)),a=>$o(()=>s(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:$o(()=>i)};class nl{constructor(e){return e}}class xN{constructor(){return IN()}}const hI=new Z("angularfire2._apps"),KY={provide:nl,useFactory:function WY(n){return n&&1===n.length?n[0]:new nl(vN())},deps:[[new Xn,hI]]},QY={provide:xN,deps:[[new Xn,hI]]};function YY(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new nl(r)}}let JY=(()=>{class n{constructor(t){$n("angularfire",lI.full,"core"),$n("angularfire",lI.full,"app"),$n("angular",z0.full,t.toString())}static \u0275fac=function(r){return new(r||n)(re(bo))};static \u0275mod=Qn({type:n});static \u0275inj=On({providers:[KY,QY]})}return n})();function ZY(n,...e){return{ngModule:JY,providers:[{provide:hI,useFactory:YY(n),multi:!0,deps:[Ve,fn,MN,...e]}]}}const XY=tl(yN,!0);const eJ=function NN(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ON=new Qc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kf=new Zv("@firebase/auth");function Qf(n,...e){Kf.logLevel<=Te.ERROR&&Kf.error(`Auth (${qf}): ${n}`,...e)}function Rn(n,...e){throw pI(n,...e)}function sr(n,...e){return pI(n,...e)}function fI(n,e,t){const r=Object.assign(Object.assign({},eJ()),{[e]:t});return new Qc("auth","Firebase",r).create(e,{appName:n.name})}function kt(n){return fI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function pI(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ON.create(n,...e)}function z(n,e,...t){if(!n)throw pI(e,...t)}function Fr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Qf(e),new Error(e)}function Wi(n,e){n||Fr(e)}function kN(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function nJ(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function gI(){return"http:"===kN()||"https:"===kN()}()||function lQ(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class il{constructor(e,t){this.shortDelay=e,this.longDelay=t,Wi(t>e,"Short delay should be less than long delay!"),this.isMobile=function aQ(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}()||function dQ(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return nJ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class VN{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Fr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Fr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Fr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iJ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},oJ=new il(3e4,6e4);function Xe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function et(n,e,t,r){return _I.apply(this,arguments)}function _I(){return(_I=O(function*(n,e,t,r,i={}){return FN(n,i,O(function*(){let o={},s={};r&&("GET"===e?s=r:o={body:JSON.stringify(r)});const a=cN(Object.assign({key:n.config.apiKey},s)).slice(1),u=yield n._getAdditionalHeaders();return u["Content-Type"]="application/json",n.languageCode&&(u["X-Firebase-Locale"]=n.languageCode),VN.fetch()(LN(n,n.config.apiHost,t,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function FN(n,e,t){return yI.apply(this,arguments)}function yI(){return(yI=O(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},iJ),e);try{const i=new aJ(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw ol(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[u,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===u)throw ol(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===u)throw ol(n,"email-already-in-use",s);if("USER_DISABLED"===u)throw ol(n,"user-disabled",s);const d=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw fI(n,d,c);Rn(n,d)}}catch(i){if(i instanceof Hi)throw i;Rn(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function LN(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function mI(n,e){Wi(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class aJ{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(sr(this.auth,"network-request-failed")),oJ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ol(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=sr(n,e,r);return i.customData._tokenResponse=t,i}function wI(){return(wI=O(function*(n,e){return et(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function GN(n,e){return CI.apply(this,arguments)}function CI(){return(CI=O(function*(n,e){return et(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function sl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function DI(){return(DI=O(function*(n,e=!1){const t=Vr(n),r=yield t.getIdToken(e),i=Yf(r);z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:sl(AI(i.auth_time)),issuedAtTime:sl(AI(i.iat)),expirationTime:sl(AI(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function AI(n){return 1e3*Number(n)}function Yf(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Qf("JWT malformed, contained fewer than 3 sections"),null;try{const i=jf(t);return i?JSON.parse(i):(Qf("Failed to decode base64 JWT payload"),null)}catch(i){return Qf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function zN(n){const e=Yf(n);return z(e,"internal-error"),z(typeof e.exp<"u","internal-error"),z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function di(n,e){return bI.apply(this,arguments)}function bI(){return(bI=O(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Hi&&function hJ({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class fJ{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(O(function*(){yield t.iteration()}),r)}iteration(){var e=this;return O(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class SI{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=sl(this.lastLoginAt),this.creationTime=sl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function al(n){return RI.apply(this,arguments)}function RI(){return(RI=O(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield di(n,GN(t,{idToken:r}));z(i?.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?HN(o.providerUserInfo):[],a=function gJ(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,s),d=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new SI(o.createdAt,o.lastLoginAt),isAnonymous:d};Object.assign(n,h)})).apply(this,arguments)}function PI(){return(PI=O(function*(n){const e=Vr(n);yield al(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function HN(n){return n.map(e=>{var{providerId:t}=e,r=Qg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function MI(){return(MI=O(function*(n,e){const t=yield FN(n,{},O(function*(){const r=cN({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=LN(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",VN.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function xI(){return(xI=O(function*(n,e){return et(n,"POST","/v2/accounts:revokeToken",Xe(n,e))})).apply(this,arguments)}class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){z(e.idToken,"internal-error"),z(typeof e.idToken<"u","internal-error"),z(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):zN(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){z(0!==e.length,"internal-error");const t=zN(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return O(function*(){return t||!r.accessToken||r.isExpired?(z(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return O(function*(){const{accessToken:i,refreshToken:o,expiresIn:s}=yield function mJ(n,e){return MI.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,o,Number(s))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new ka;return r&&(z("string"==typeof r,"internal-error",{appName:e}),s.refreshToken=r),i&&(z("string"==typeof i,"internal-error",{appName:e}),s.accessToken=i),o&&(z("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Fr("not implemented")}}function Ki(n,e){z("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class hi{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Qg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fJ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new SI(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return O(function*(){const r=yield di(t,t.stsTokenManager.getToken(t.auth,e));return z(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function dJ(n){return DI.apply(this,arguments)}(this,e)}reload(){return function pJ(n){return PI.apply(this,arguments)}(this)}_assign(e){this!==e&&(z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return O(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield al(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return O(function*(){if(Zc(e.auth.app))return Promise.reject(kt(e.auth));const t=yield e.getIdToken();return yield di(e,function cJ(n,e){return wI.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,c,d;const h=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,m=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,y=null!==(s=t.photoURL)&&void 0!==s?s:void 0,I=null!==(a=t.tenantId)&&void 0!==a?a:void 0,E=null!==(u=t._redirectEventId)&&void 0!==u?u:void 0,P=null!==(c=t.createdAt)&&void 0!==c?c:void 0,D=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:k,emailVerified:j,isAnonymous:Y,providerData:ne,stsTokenManager:C}=t;z(k&&C,e,"internal-error");const v=ka.fromJSON(this.name,C);z("string"==typeof k,e,"internal-error"),Ki(h,e.name),Ki(p,e.name),z("boolean"==typeof j,e,"internal-error"),z("boolean"==typeof Y,e,"internal-error"),Ki(m,e.name),Ki(y,e.name),Ki(I,e.name),Ki(E,e.name),Ki(P,e.name),Ki(D,e.name);const w=new hi({uid:k,auth:e,email:p,emailVerified:j,displayName:h,isAnonymous:Y,photoURL:y,phoneNumber:m,tenantId:I,stsTokenManager:v,createdAt:P,lastLoginAt:D});return ne&&Array.isArray(ne)&&(w.providerData=ne.map(A=>Object.assign({},A))),E&&(w._redirectEventId=E),w}static _fromIdTokenResponse(e,t,r=!1){return O(function*(){const i=new ka;i.updateFromServerResponse(t);const o=new hi({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield al(o),o})()}static _fromGetAccountInfoResponse(e,t,r){return O(function*(){const i=t.users[0];z(void 0!==i.localId,"internal-error");const o=void 0!==i.providerUserInfo?HN(i.providerUserInfo):[],s=!(i.email&&i.passwordHash||o?.length),a=new ka;a.updateFromIdToken(r);const u=new hi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new SI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||o?.length)};return Object.assign(u,c),u})()}}const qN=new Map;function fi(n){Wi(n instanceof Function,"Expected a class definition");let e=qN.get(n);return e?(Wi(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qN.set(n,e),e)}const WN=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return O(function*(){return!0})()}_set(t,r){var i=this;return O(function*(){i.storage[t]=r})()}_get(t){var r=this;return O(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return O(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function Jf(n,e,t){return`firebase:${n}:${e}:${t}`}class Va{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jf(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return O(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?hi._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return O(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return O(function*(){if(!t.length)return new Va(fi(WN),e,r);const i=(yield Promise.all(t.map(function(){var c=O(function*(d){if(yield d._isAvailable())return d});return function(d){return c.apply(this,arguments)}}()))).filter(c=>c);let o=i[0]||fi(WN);const s=Jf(r,e.config.apiKey,e.name);let a=null;for(const c of t)try{const d=yield c._get(s);if(d){const h=hi._fromJSON(e,d);c!==o&&(a=h),o=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&u.length?(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=O(function*(d){if(d!==o)try{yield d._remove(s)}catch{}});return function(d){return c.apply(this,arguments)}}())),new Va(o,e,r)):new Va(o,e,r)})()}}function KN(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function ZN(n=Sn()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function QN(n=Sn()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function eO(n=Sn()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function tO(n=Sn()){return/webos/i.test(n)}(e))return"Webos";if(function YN(n=Sn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function JN(n=Sn()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function XN(n=Sn()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nO(n,e=[]){let t;switch(n){case"Browser":t=KN(Sn());break;case"Worker":t=`${KN(Sn())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qf}/${r}`}class IJ{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((s,a)=>{try{s(e(o))}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return O(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const o of r)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function OI(){return(OI=O(function*(n,e={}){return et(n,"GET","/v2/passwordPolicy",Xe(n,e))})).apply(this,arguments)}class TJ{constructor(e){var t,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=null===(t=u.meetsMinPasswordLength)||void 0===t||t),u.isValid&&(u.isValid=null===(r=u.meetsMaxPasswordLength)||void 0===r||r),u.isValid&&(u.isValid=null===(i=u.containsLowercaseLetter)||void 0===i||i),u.isValid&&(u.isValid=null===(o=u.containsUppercaseLetter)||void 0===o||o),u.isValid&&(u.isValid=null===(s=u.containsNumericCharacter)||void 0===s||s),u.isValid&&(u.isValid=null===(a=u.containsNonAlphanumericCharacter)||void 0===a||a),u}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class CJ{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rO(this),this.idTokenSubscription=new rO(this),this.beforeStateQueue=new IJ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ON,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=fi(t)),this._initializationPromise=this.queue(O(function*(){var i,o;if(!r._deleted&&(r.persistenceManager=yield Va.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(o=r.currentUser)||void 0===o?void 0:o.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return O(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return O(function*(){try{const r=yield GN(t,{idToken:e}),i=yield hi._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return O(function*(){var r;if(Zc(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(u=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(u,u))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let o=i,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,u=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===u)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return z(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return O(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return O(function*(){try{yield al(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function rJ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return O(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return O(function*(){if(Zc(t.app))return Promise.reject(kt(t));const r=e?Vr(e):null;return r&&z(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return O(function*(){if(!r._deleted)return e&&z(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(O(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return O(function*(){return Zc(e.app)?Promise.reject(kt(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Zc(this.app)?Promise.reject(kt(this)):this.queue(O(function*(){yield t.assertedPersistence.setPersistence(fi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return O(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return O(function*(){const t=yield function EJ(n){return OI.apply(this,arguments)}(e),r=new TJ(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qc("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return O(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function _J(n,e){return xI.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return O(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return O(function*(){if(!t.redirectPersistenceManager){const r=e&&fi(e)||t._popupRedirectResolver;z(r,t,"argument-error"),t.redirectPersistenceManager=yield Va.create(t,[fi(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return O(function*(){var r,i;return t._isInitialized&&(yield t.queue(O(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return O(function*(){if(e===t.currentUser)return t.queue(O(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const u=e.addObserver(t,r,i);return()=>{s=!0,u()}}{const u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){var t=this;return O(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nO(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return O(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const o=yield e._getAppCheckToken();return o&&(r["X-Firebase-AppCheck"]=o),r})()}_getAppCheckToken(){var e=this;return O(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function tJ(n,...e){Kf.logLevel<=Te.WARN&&Kf.warn(`Auth (${qf}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}class rO{constructor(e){this.auth=e,this.observer=null,this.addObserver=function yQ(n,e){const t=new vQ(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ul={loadJS:()=>O(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};(function iO(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new il(3e4,6e4),new il(2e3,1e4),new il(3e4,6e4),new il(5e3,15e3),encodeURIComponent("fac");var kO="@firebase/auth";class bX{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return O(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}$f(),function DJ(n){ul=n}({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=sr("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",function NX(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function RX(n){Ma(new Uo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nO(n)},c=new CJ(r,i,o,u);return function NJ(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(fi);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ma(new Uo("auth-internal",e=>{const t=function It(n){return Vr(n)}(e.getProvider("auth").getImmediate());return new bX(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(kO,"1.7.8",function SX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),$n(kO,"1.7.8","esm2017")}("Browser");class UO{constructor(){return dI("auth")}}var qo,$O,BO=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},jO={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(C,v,w){w||(w=0);var A=Array(16);if("string"==typeof v)for(var b=0;16>b;++b)A[b]=v.charCodeAt(w++)|v.charCodeAt(w++)<<8|v.charCodeAt(w++)<<16|v.charCodeAt(w++)<<24;else for(b=0;16>b;++b)A[b]=v[w++]|v[w++]<<8|v[w++]<<16|v[w++]<<24;var M=C.g[3],T=(v=C.g[0])+(M^(w=C.g[1])&((b=C.g[2])^M))+A[0]+3614090360&4294967295;T=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=(w=(b=(M=(v=w+(T<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[1]+3905402710&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[2]+606105819&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[3]+3250441966&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[4]+4118548399&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[5]+1200080426&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[6]+2821735955&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[7]+4249261313&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[8]+1770035416&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[9]+2336552879&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[10]+4294925233&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[11]+2304563134&4294967295)<<22&4294967295|T>>>10))+((T=v+(M^w&(b^M))+A[12]+1804603682&4294967295)<<7&4294967295|T>>>25))+((T=M+(b^v&(w^b))+A[13]+4254626195&4294967295)<<12&4294967295|T>>>20))+((T=b+(w^M&(v^w))+A[14]+2792965006&4294967295)<<17&4294967295|T>>>15))+((T=w+(v^b&(M^v))+A[15]+1236535329&4294967295)<<22&4294967295|T>>>10))+((T=v+(b^M&(w^b))+A[1]+4129170786&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[6]+3225465664&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[11]+643717713&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[0]+3921069994&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[5]+3593408605&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[10]+38016083&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[15]+3634488961&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[4]+3889429448&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[9]+568446438&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[14]+3275163606&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[3]+4107603335&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[8]+1163531501&4294967295)<<20&4294967295|T>>>12))+((T=v+(b^M&(w^b))+A[13]+2850285829&4294967295)<<5&4294967295|T>>>27))+((T=M+(w^b&(v^w))+A[2]+4243563512&4294967295)<<9&4294967295|T>>>23))+((T=b+(v^w&(M^v))+A[7]+1735328473&4294967295)<<14&4294967295|T>>>18))+((T=w+(M^v&(b^M))+A[12]+2368359562&4294967295)<<20&4294967295|T>>>12))+((T=v+(w^b^M)+A[5]+4294588738&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[8]+2272392833&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[11]+1839030562&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[14]+4259657740&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[1]+2763975236&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[4]+1272893353&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[7]+4139469664&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[10]+3200236656&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[13]+681279174&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[0]+3936430074&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[3]+3572445317&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[6]+76029189&4294967295)<<23&4294967295|T>>>9))+((T=v+(w^b^M)+A[9]+3654602809&4294967295)<<4&4294967295|T>>>28))+((T=M+(v^w^b)+A[12]+3873151461&4294967295)<<11&4294967295|T>>>21))+((T=b+(M^v^w)+A[15]+530742520&4294967295)<<16&4294967295|T>>>16))+((T=w+(b^M^v)+A[2]+3299628645&4294967295)<<23&4294967295|T>>>9))+((T=v+(b^(w|~M))+A[0]+4096336452&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[7]+1126891415&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[14]+2878612391&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[5]+4237533241&4294967295)<<21&4294967295|T>>>11))+((T=v+(b^(w|~M))+A[12]+1700485571&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[3]+2399980690&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[10]+4293915773&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[1]+2240044497&4294967295)<<21&4294967295|T>>>11))+((T=v+(b^(w|~M))+A[8]+1873313359&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[15]+4264355552&4294967295)<<10&4294967295|T>>>22))+((T=b+(v^(M|~w))+A[6]+2734768916&4294967295)<<15&4294967295|T>>>17))+((T=w+(M^(b|~v))+A[13]+1309151649&4294967295)<<21&4294967295|T>>>11))+((M=(v=w+((T=v+(b^(w|~M))+A[4]+4149444226&4294967295)<<6&4294967295|T>>>26))+((T=M+(w^(v|~b))+A[11]+3174756917&4294967295)<<10&4294967295|T>>>22))^((b=M+((T=b+(v^(M|~w))+A[2]+718787259&4294967295)<<15&4294967295|T>>>17))|~v))+A[9]+3951481745&4294967295,C.g[0]=C.g[0]+v&4294967295,C.g[1]=C.g[1]+(b+(T<<21&4294967295|T>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+M&4294967295}function s(C,v){this.h=v;for(var w=[],A=!0,b=C.length-1;0<=b;b--){var M=0|C[b];A&&M==v||(w[b]=M,A=!1)}this.g=w}(function e(C,v){function w(){}w.prototype=v.prototype,C.D=v.prototype,C.prototype=new w,C.prototype.constructor=C,C.C=function(A,b,M){for(var T=Array(arguments.length-2),Ti=2;Ti<arguments.length;Ti++)T[Ti-2]=arguments[Ti];return v.prototype[b].apply(A,T)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(C,v){void 0===v&&(v=C.length);for(var w=v-this.blockSize,A=this.B,b=this.h,M=0;M<v;){if(0==b)for(;M<=w;)i(this,C,M),M+=this.blockSize;if("string"==typeof C){for(;M<v;)if(A[b++]=C.charCodeAt(M++),b==this.blockSize){i(this,A),b=0;break}}else for(;M<v;)if(A[b++]=C[M++],b==this.blockSize){i(this,A),b=0;break}}this.h=b,this.o+=v},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var v=1;v<C.length-8;++v)C[v]=0;var w=8*this.o;for(v=C.length-8;v<C.length;++v)C[v]=255&w,w/=256;for(this.u(C),C=Array(16),v=w=0;4>v;++v)for(var A=0;32>A;A+=8)C[w++]=this.g[v]>>>A&255;return C};var a={};function u(C){return-128<=C&&128>C?function o(C,v){var w=a;return Object.prototype.hasOwnProperty.call(w,C)?w[C]:w[C]=v(C)}(C,function(v){return new s([0|v],0>v?-1:0)}):new s([0|C],0>C?-1:0)}function c(C){if(isNaN(C)||!isFinite(C))return h;if(0>C)return E(c(-C));for(var v=[],w=1,A=0;C>=w;A++)v[A]=C/w|0,w*=4294967296;return new s(v,0)}var h=u(0),p=u(1),m=u(16777216);function y(C){if(0!=C.h)return!1;for(var v=0;v<C.g.length;v++)if(0!=C.g[v])return!1;return!0}function I(C){return-1==C.h}function E(C){for(var v=C.g.length,w=[],A=0;A<v;A++)w[A]=~C.g[A];return new s(w,~C.h).add(p)}function P(C,v){return C.add(E(v))}function D(C,v){for(;(65535&C[v])!=C[v];)C[v+1]+=C[v]>>>16,C[v]&=65535,v++}function k(C,v){this.g=C,this.h=v}function j(C,v){if(y(v))throw Error("division by zero");if(y(C))return new k(h,h);if(I(C))return v=j(E(C),v),new k(E(v.g),E(v.h));if(I(v))return v=j(C,E(v)),new k(E(v.g),v.h);if(30<C.g.length){if(I(C)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var w=p,A=v;0>=A.l(C);)w=Y(w),A=Y(A);var b=ne(w,1),M=ne(A,1);for(A=ne(A,2),w=ne(w,2);!y(A);){var T=M.add(A);0>=T.l(C)&&(b=b.add(w),M=T),A=ne(A,1),w=ne(w,1)}return v=P(C,b.j(v)),new k(b,v)}for(b=h;0<=C.l(v);){for(w=Math.max(1,Math.floor(C.m()/v.m())),A=48>=(A=Math.ceil(Math.log(w)/Math.LN2))?1:Math.pow(2,A-48),T=(M=c(w)).j(v);I(T)||0<T.l(C);)T=(M=c(w-=A)).j(v);y(M)&&(M=p),b=b.add(M),C=P(C,T)}return new k(b,C)}function Y(C){for(var v=C.g.length+1,w=[],A=0;A<v;A++)w[A]=C.i(A)<<1|C.i(A-1)>>>31;return new s(w,C.h)}function ne(C,v){var w=v>>5;v%=32;for(var A=C.g.length-w,b=[],M=0;M<A;M++)b[M]=0<v?C.i(M+w)>>>v|C.i(M+w+1)<<32-v:C.i(M+w);return new s(b,C.h)}(n=s.prototype).m=function(){if(I(this))return-E(this).m();for(var C=0,v=1,w=0;w<this.g.length;w++){var A=this.i(w);C+=(0<=A?A:4294967296+A)*v,v*=4294967296}return C},n.toString=function(C){if(2>(C=C||10)||36<C)throw Error("radix out of range: "+C);if(y(this))return"0";if(I(this))return"-"+E(this).toString(C);for(var v=c(Math.pow(C,6)),w=this,A="";;){var b=j(w,v).g,M=((0<(w=P(w,b.j(v))).g.length?w.g[0]:w.h)>>>0).toString(C);if(y(w=b))return M+A;for(;6>M.length;)M="0"+M;A=M+A}},n.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h},n.l=function(C){return I(C=P(this,C))?-1:y(C)?0:1},n.abs=function(){return I(this)?E(this):this},n.add=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],A=0,b=0;b<=v;b++){var M=A+(65535&this.i(b))+(65535&C.i(b)),T=(M>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);A=T>>>16,w[b]=(T&=65535)<<16|(M&=65535)}return new s(w,-2147483648&w[w.length-1]?-1:0)},n.j=function(C){if(y(this)||y(C))return h;if(I(this))return I(C)?E(this).j(E(C)):E(E(this).j(C));if(I(C))return E(this.j(E(C)));if(0>this.l(m)&&0>C.l(m))return c(this.m()*C.m());for(var v=this.g.length+C.g.length,w=[],A=0;A<2*v;A++)w[A]=0;for(A=0;A<this.g.length;A++)for(var b=0;b<C.g.length;b++){var M=this.i(A)>>>16,T=65535&this.i(A),Ti=C.i(b)>>>16,td=65535&C.i(b);w[2*A+2*b]+=T*td,D(w,2*A+2*b),w[2*A+2*b+1]+=M*td,D(w,2*A+2*b+1),w[2*A+2*b+1]+=T*Ti,D(w,2*A+2*b+1),w[2*A+2*b+2]+=M*Ti,D(w,2*A+2*b+2)}for(A=0;A<v;A++)w[A]=w[2*A+1]<<16|w[2*A];for(A=v;A<2*v;A++)w[A]=0;return new s(w,0)},n.A=function(C){return j(this,C).h},n.and=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)&C.i(A);return new s(w,this.h&C.h)},n.or=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)|C.i(A);return new s(w,this.h|C.h)},n.xor=function(C){for(var v=Math.max(this.g.length,C.g.length),w=[],A=0;A<v;A++)w[A]=this.i(A)^C.i(A);return new s(w,this.h^C.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,$O=jO.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=function d(C,v){if(0==C.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==C.charAt(0))return E(d(C.substring(1),v));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=c(Math.pow(v,8)),A=h,b=0;b<C.length;b+=8){var M=Math.min(8,C.length-b),T=parseInt(C.substring(b,b+M),v);8>M?(M=c(Math.pow(v,M)),A=A.j(M).add(c(T))):A=(A=A.j(w)).add(c(T))}return A},qo=jO.Integer=s}).apply(typeof BO<"u"?BO:typeof self<"u"?self:typeof window<"u"?window:{});var GO,zO,pl,HO,lp,Aw,qO,WO,KO,cp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gi={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,f,g){return l==Array.prototype||l==Object.prototype||(l[f]=g.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof cp&&cp];for(var f=0;f<l.length;++f){var g=l[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}(this);!function i(l,f){if(f)e:{var g=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var S=l[_];if(!(S in g))break e;g=g[S]}(f=f(_=g[l=l[l.length-1]]))!=_&&null!=f&&e(g,l,{configurable:!0,writable:!0,value:f})}}("Array.prototype.values",function(l){return l||function(){return function o(l,f){l instanceof String&&(l+="");var g=0,_=!1,S={next:function(){if(!_&&g<l.length){var N=g++;return{value:f(N,l[N]),done:!1}}return _=!0,{done:!0,value:void 0}}};return S[Symbol.iterator]=function(){return S},S}(this,function(f,g){return g})}});var s=s||{},a=this||self;function u(l){var f=typeof l;return"array"==(f="object"!=f?f:l?Array.isArray(l)?"array":f:"null")||"object"==f&&"number"==typeof l.length}function c(l){var f=typeof l;return"object"==f&&null!=l||"function"==f}function d(l,f,g){return l.call.apply(l.bind,arguments)}function h(l,f,g){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var S=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(S,_),l.apply(f,S)}}return function(){return l.apply(f,arguments)}}function p(l,f,g){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:h).apply(null,arguments)}function m(l,f){var g=Array.prototype.slice.call(arguments,1);return function(){var _=g.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,f){function g(){}g.prototype=f.prototype,l.aa=f.prototype,l.prototype=new g,l.prototype.constructor=l,l.Qb=function(_,S,N){for(var q=Array(arguments.length-2),qe=2;qe<arguments.length;qe++)q[qe-2]=arguments[qe];return f.prototype[S].apply(_,q)}}function I(l){const f=l.length;if(0<f){const g=Array(f);for(let _=0;_<f;_++)g[_]=l[_];return g}return[]}function E(l,f){for(let g=1;g<arguments.length;g++){const _=arguments[g];if(u(_)){const S=l.length||0,N=_.length||0;l.length=S+N;for(let q=0;q<N;q++)l[S+q]=_[q]}else l.push(_)}}function D(l){return/^[\s\xa0]*$/.test(l)}function k(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function j(l){return j[" "](l),l}j[" "]=function(){};var Y=!(-1==k().indexOf("Gecko")||-1!=k().toLowerCase().indexOf("webkit")&&-1==k().indexOf("Edge")||-1!=k().indexOf("Trident")||-1!=k().indexOf("MSIE")||-1!=k().indexOf("Edge"));function ne(l,f,g){for(const _ in l)f.call(g,l[_],_,l)}function v(l){const f={};for(const g in l)f[g]=l[g];return f}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(l,f){let g,_;for(let S=1;S<arguments.length;S++){for(g in _=arguments[S],_)l[g]=_[g];for(let N=0;N<w.length;N++)g=w[N],Object.prototype.hasOwnProperty.call(_,g)&&(l[g]=_[g])}}function b(l){var f=1;l=l.split(":");const g=[];for(;0<f&&l.length;)g.push(l.shift()),f--;return l.length&&g.push(l.join(":")),g}function M(l){a.setTimeout(()=>{throw l},0)}function T(){var l=hD;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}var td=new class P{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}(()=>new Hie,l=>l.reset());class Hie{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let nd,rd=!1,hD=new class Ti{constructor(){this.h=this.g=null}add(f,g){const _=td.get();_.set(f,g),this.h?this.h.next=_:this.g=_,this.h=_}},k2=()=>{const l=a.Promise.resolve(void 0);nd=()=>{l.then(qie)}};var qie=()=>{for(var l;l=T();){try{l.h.call(l.g)}catch(g){M(g)}var f=td;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}rd=!1};function po(){this.s=this.s,this.C=this.C}function rn(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}po.prototype.s=!1,po.prototype.ma=function(){this.s||(this.s=!0,this.N())},po.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},rn.prototype.h=function(){this.defaultPrevented=!0};var Wie=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return l}();function id(l,f){if(rn.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var g=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(Y){e:{try{j(f.nodeName);var S=!0;break e}catch{}S=!1}S||(f=null)}}else"mouseover"==g?f=l.fromElement:"mouseout"==g&&(f=l.toElement);this.relatedTarget=f,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Kie[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&id.aa.h.call(this)}}y(id,rn);var Kie={2:"touch",3:"pen",4:"mouse"};id.prototype.h=function(){id.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var od="closure_listenable_"+(1e6*Math.random()|0),Qie=0;function Yie(l,f,g,_,S){this.listener=l,this.proxy=null,this.src=f,this.type=g,this.capture=!!_,this.ha=S,this.key=++Qie,this.da=this.fa=!1}function Cg(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Dg(l){this.src=l,this.g={},this.h=0}function fD(l,f){var g=f.type;if(g in l.g){var N,_=l.g[g],S=Array.prototype.indexOf.call(_,f,void 0);(N=0<=S)&&Array.prototype.splice.call(_,S,1),N&&(Cg(f),0==l.g[g].length&&(delete l.g[g],l.h--))}}function pD(l,f,g,_){for(var S=0;S<l.length;++S){var N=l[S];if(!N.da&&N.listener==f&&N.capture==!!g&&N.ha==_)return S}return-1}Dg.prototype.add=function(l,f,g,_,S){var N=l.toString();(l=this.g[N])||(l=this.g[N]=[],this.h++);var q=pD(l,f,_,S);return-1<q?(f=l[q],g||(f.fa=!1)):((f=new Yie(f,this.src,N,!!_,S)).fa=g,l.push(f)),f};var gD="closure_lm_"+(1e6*Math.random()|0),mD={};function V2(l,f,g,_,S){if(_&&_.once)return L2(l,f,g,_,S);if(Array.isArray(f)){for(var N=0;N<f.length;N++)V2(l,f[N],g,_,S);return null}return g=ID(g),l&&l[od]?l.K(f,g,c(_)?!!_.capture:!!_,S):F2(l,f,g,!1,_,S)}function F2(l,f,g,_,S,N){if(!f)throw Error("Invalid event type");var q=c(S)?!!S.capture:!!S,qe=yD(l);if(qe||(l[gD]=qe=new Dg(l)),(g=qe.add(f,g,_,q,N)).proxy)return g;if(_=function Jie(){const f=Zie;return function l(g){return f.call(l.src,l.listener,g)}}(),g.proxy=_,_.src=l,_.listener=g,l.addEventListener)Wie||(S=q),void 0===S&&(S=!1),l.addEventListener(f.toString(),_,S);else if(l.attachEvent)l.attachEvent(B2(f.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return g}function L2(l,f,g,_,S){if(Array.isArray(f)){for(var N=0;N<f.length;N++)L2(l,f[N],g,_,S);return null}return g=ID(g),l&&l[od]?l.L(f,g,c(_)?!!_.capture:!!_,S):F2(l,f,g,!0,_,S)}function U2(l,f,g,_,S){if(Array.isArray(f))for(var N=0;N<f.length;N++)U2(l,f[N],g,_,S);else _=c(_)?!!_.capture:!!_,g=ID(g),l&&l[od]?(l=l.i,(f=String(f).toString())in l.g&&-1<(g=pD(N=l.g[f],g,_,S))&&(Cg(N[g]),Array.prototype.splice.call(N,g,1),0==N.length&&(delete l.g[f],l.h--))):l&&(l=yD(l))&&(f=l.g[f.toString()],l=-1,f&&(l=pD(f,g,_,S)),(g=-1<l?f[l]:null)&&_D(g))}function _D(l){if("number"!=typeof l&&l&&!l.da){var f=l.src;if(f&&f[od])fD(f.i,l);else{var g=l.type,_=l.proxy;f.removeEventListener?f.removeEventListener(g,_,l.capture):f.detachEvent?f.detachEvent(B2(g),_):f.addListener&&f.removeListener&&f.removeListener(_),(g=yD(f))?(fD(g,l),0==g.h&&(g.src=null,f[gD]=null)):Cg(l)}}}function B2(l){return l in mD?mD[l]:mD[l]="on"+l}function Zie(l,f){if(l.da)l=!0;else{f=new id(f,this);var g=l.listener,_=l.ha||l.src;l.fa&&_D(l),l=g.call(_,f)}return l}function yD(l){return(l=l[gD])instanceof Dg?l:null}var vD="__closure_events_fn_"+(1e9*Math.random()>>>0);function ID(l){return"function"==typeof l?l:(l[vD]||(l[vD]=function(f){return l.handleEvent(f)}),l[vD])}function on(){po.call(this),this.i=new Dg(this),this.M=this,this.F=null}function yn(l,f){var g,_=l.F;if(_)for(g=[];_;_=_.F)g.push(_);if(l=l.M,_=f.type||f,"string"==typeof f)f=new rn(f,l);else if(f instanceof rn)f.target=f.target||l;else{var S=f;A(f=new rn(_,l),S)}if(S=!0,g)for(var N=g.length-1;0<=N;N--){var q=f.g=g[N];S=Ag(q,_,!0,f)&&S}if(S=Ag(q=f.g=l,_,!0,f)&&S,S=Ag(q,_,!1,f)&&S,g)for(N=0;N<g.length;N++)S=Ag(q=f.g=g[N],_,!1,f)&&S}function Ag(l,f,g,_){if(!(f=l.i.g[String(f)]))return!0;f=f.concat();for(var S=!0,N=0;N<f.length;++N){var q=f[N];if(q&&!q.da&&q.capture==g){var qe=q.listener,Kt=q.ha||q.src;q.fa&&fD(l.i,q),S=!1!==qe.call(Kt,_)&&S}}return S&&!_.defaultPrevented}function j2(l,f,g){if("function"==typeof l)g&&(l=p(l,g));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(f)?-1:a.setTimeout(l,f||0)}function $2(l){l.g=j2(()=>{l.g=null,l.i&&(l.i=!1,$2(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}y(on,po),on.prototype[od]=!0,on.prototype.removeEventListener=function(l,f,g,_){U2(this,l,f,g,_)},on.prototype.N=function(){if(on.aa.N.call(this),this.i){var f,l=this.i;for(f in l.g){for(var g=l.g[f],_=0;_<g.length;_++)Cg(g[_]);delete l.g[f],l.h--}}this.F=null},on.prototype.K=function(l,f,g,_){return this.i.add(String(l),f,!1,g,_)},on.prototype.L=function(l,f,g,_){return this.i.add(String(l),f,!0,g,_)};class Xie extends po{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:$2(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sd(l){po.call(this),this.h=l,this.g={}}y(sd,po);var G2=[];function z2(l){ne(l.g,function(f,g){this.g.hasOwnProperty(g)&&_D(f)},l),l.g={}}sd.prototype.N=function(){sd.aa.N.call(this),z2(this)},sd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ED=a.JSON.stringify,eoe=a.JSON.parse,toe=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function wD(){}function q2(){}wD.prototype.h=null;var ad={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function TD(){rn.call(this,"d")}function CD(){rn.call(this,"c")}y(TD,rn),y(CD,rn);var fs={},W2=null;function bg(){return W2=W2||new on}function K2(l){rn.call(this,fs.La,l)}function ud(l){const f=bg();yn(f,new K2(f))}function Q2(l,f){rn.call(this,fs.STAT_EVENT,l),this.stat=f}function vn(l){const f=bg();yn(f,new Q2(f,l))}function Y2(l,f){rn.call(this,fs.Ma,l),this.size=f}function cd(l,f){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},f)}function ld(){this.g=!0}function Cu(l,f,g,_){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+function ooe(l,f){if(!l.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g)for(l=0;l<g.length;l++)if(Array.isArray(g[l])){var _=g[l];if(!(2>_.length)){var S=_[1];if(Array.isArray(S)&&!(1>S.length)){var N=S[0];if("noop"!=N&&"stop"!=N&&"close"!=N)for(var q=1;q<S.length;q++)S[q]=""}}}return ED(g)}catch{return f}}(l,g)+(_?" "+_:"")})}fs.La="serverreachability",y(K2,rn),fs.STAT_EVENT="statevent",y(Q2,rn),fs.Ma="timingevent",y(Y2,rn),ld.prototype.xa=function(){this.g=!1},ld.prototype.info=function(){};var DD,Sg={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},J2={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Rg(){}function go(l,f,g,_){this.j=l,this.i=f,this.l=g,this.R=_||1,this.U=new sd(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Z2}function Z2(){this.i=null,this.g="",this.h=!1}y(Rg,wD),Rg.prototype.g=function(){return new XMLHttpRequest},Rg.prototype.i=function(){return{}},DD=new Rg;var X2={},AD={};function bD(l,f,g){l.L=1,l.v=Ng(Ci(f)),l.m=g,l.P=!0,eU(l,null)}function eU(l,f){l.F=Date.now(),Pg(l),l.A=Ci(l.v);var g=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),pU(g.i,"t",_),l.C=0,g=l.j.J,l.h=new Z2,l.g=xU(l.j,g?f:null,!l.m),0<l.O&&(l.M=new Xie(p(l.Y,l,l.g),l.O)),f=l.U,g=l.g,_=l.ca;var S="readystatechange";Array.isArray(S)||(S&&(G2[0]=S.toString()),S=G2);for(var N=0;N<S.length;N++){var q=V2(g,S[N],_||f.handleEvent,!1,f.h||f);if(!q)break;f.g[q.key]=q}f=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),ud(),function noe(l,f,g,_,S,N){l.info(function(){if(l.g)if(N)for(var q="",qe=N.split("&"),Kt=0;Kt<qe.length;Kt++){var Re=qe[Kt].split("=");if(1<Re.length){var sn=Re[0];Re=Re[1];var an=sn.split("_");q=2<=an.length&&"type"==an[1]?q+(sn+"=")+Re+"&":q+(sn+"=redacted&")}}else q=null;else q=N;return"XMLHTTP REQ ("+_+") [attempt "+S+"]: "+f+"\n"+g+"\n"+q})}(l.i,l.u,l.A,l.l,l.R,l.m)}function tU(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function soe(l,f){var g=l.C,_=f.indexOf("\n",g);return-1==_?AD:(g=Number(f.substring(g,_)),isNaN(g)?X2:(_+=1)+g>f.length?AD:(f=f.slice(_,_+g),l.C=_+g,f))}function Pg(l){l.S=Date.now()+l.I,nU(l,l.I)}function nU(l,f){if(null!=l.B)throw Error("WatchDog timer not null");l.B=cd(p(l.ba,l),f)}function SD(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function dd(l){0==l.j.G||l.J||SU(l.j,l)}function ps(l){SD(l);var f=l.M;f&&"function"==typeof f.ma&&f.ma(),l.M=null,z2(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function RD(l,f){try{var g=l.j;if(0!=g.G&&(g.g==l||PD(g.h,l)))if(!l.K&&PD(g.h,l)&&3==g.G){try{var _=g.Da.g.parse(f)}catch{_=null}if(Array.isArray(_)&&3==_.length){var S=_;if(0==S[0]){e:if(!g.u){if(g.g){if(!(g.g.F+3e3<l.F))break e;Lg(g),Vg(g)}OD(g),vn(18)}}else g.za=S[1],0<g.za-g.T&&37500>S[2]&&g.F&&0==g.v&&!g.C&&(g.C=cd(p(g.Za,g),6e3));if(1>=oU(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ms(g,11)}else if((l.K||g.g==l)&&Lg(g),!D(f))for(S=g.Da.g.parse(f),f=0;f<S.length;f++){let Re=S[f];if(g.T=Re[0],Re=Re[1],2==g.G)if("c"==Re[0]){g.K=Re[1],g.ia=Re[2];const sn=Re[3];null!=sn&&(g.la=sn,g.j.info("VER="+g.la));const an=Re[4];null!=an&&(g.Aa=an,g.j.info("SVER="+g.Aa));const bu=Re[5];null!=bu&&"number"==typeof bu&&0<bu&&(g.L=_=1.5*bu,g.j.info("backChannelRequestTimeoutMs_="+_)),_=g;const vr=l.g;if(vr){const Bg=vr.g?vr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bg){var N=_.h;N.g||-1==Bg.indexOf("spdy")&&-1==Bg.indexOf("quic")&&-1==Bg.indexOf("h2")||(N.j=N.l,N.g=new Set,N.h&&(MD(N,N.h),N.h=null))}if(_.D){const VD=vr.g?vr.g.getResponseHeader("X-HTTP-Session-Id"):null;VD&&(_.ya=VD,nt(_.I,_.D,VD))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-l.F,g.j.info("Handshake RTT: "+g.R+"ms"));var q=l;if((_=g).qa=MU(_,_.J?_.ia:null,_.W),q.K){sU(_.h,q);var qe=q,Kt=_.L;Kt&&(qe.I=Kt),qe.B&&(SD(qe),Pg(qe)),_.g=q}else AU(_);0<g.i.length&&Fg(g)}else"stop"!=Re[0]&&"close"!=Re[0]||ms(g,7);else 3==g.G&&("stop"==Re[0]||"close"==Re[0]?"stop"==Re[0]?ms(g,7):ND(g):"noop"!=Re[0]&&g.l&&g.l.ta(Re),g.v=0)}ud()}catch{}}function rU(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function iU(l){return!!l.h||!!l.g&&l.g.size>=l.j}function oU(l){return l.h?1:l.g?l.g.size:0}function PD(l,f){return l.h?l.h==f:!!l.g&&l.g.has(f)}function MD(l,f){l.g?l.g.add(f):l.h=f}function sU(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}function aU(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let f=l.i;for(const g of l.g.values())f=f.concat(g.D);return f}return I(l.i)}function uU(l,f){if(l.forEach&&"function"==typeof l.forEach)l.forEach(f,void 0);else if(u(l)||"string"==typeof l)Array.prototype.forEach.call(l,f,void 0);else for(var g=function coe(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(u(l)||"string"==typeof l){var f=[];l=l.length;for(var g=0;g<l;g++)f.push(g);return f}f=[],g=0;for(const _ in l)f[g++]=_;return f}}}(l),_=function uoe(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(u(l)){for(var f=[],g=l.length,_=0;_<g;_++)f.push(l[_]);return f}for(_ in f=[],g=0,l)f[g++]=l[_];return f}(l),S=_.length,N=0;N<S;N++)f.call(void 0,_[N],g&&g[N],l)}go.prototype.ca=function(l){l=l.target;const f=this.M;f&&3==Di(l)?f.j():this.Y(l)},go.prototype.Y=function(l){try{if(l==this.g)e:{const an=Di(this.g);var f=this.g.Ba();if(this.g.Z(),!(3>an)&&(3!=an||this.g&&(this.h.h||this.g.oa()||EU(this.g)))){this.J||4!=an||7==f||ud(),SD(this);var g=this.g.Z();this.X=g;t:if(tU(this)){var _=EU(this.g);l="";var S=_.length,N=4==Di(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){ps(this),dd(this);var q="";break t}this.h.i=new a.TextDecoder}for(f=0;f<S;f++)this.h.h=!0,l+=this.h.i.decode(_[f],{stream:!(N&&f==S-1)});_.length=0,this.h.g+=l,this.C=0,q=this.h.g}else q=this.g.oa();if(this.o=200==g,function roe(l,f,g,_,S,N,q){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+S+"]: "+f+"\n"+g+"\n"+N+" "+q})}(this.i,this.u,this.A,this.l,this.R,an,g),this.o){if(this.T&&!this.K){t:{if(this.g){var qe,Kt=this.g;if((qe=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(qe)){var Re=qe;break t}}Re=null}if(!(g=Re)){this.o=!1,this.s=3,vn(12),ps(this),dd(this);break e}Cu(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RD(this,g)}if(this.P){let vr;for(g=!0;!this.J&&this.C<q.length;){if(vr=soe(this,q),vr==AD){4==an&&(this.s=4,vn(14),g=!1),Cu(this.i,this.l,null,"[Incomplete Response]");break}if(vr==X2){this.s=4,vn(15),Cu(this.i,this.l,q,"[Invalid Chunk]"),g=!1;break}Cu(this.i,this.l,vr,null),RD(this,vr)}if(tU(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=an||0!=q.length||this.h.h||(this.s=1,vn(16),g=!1),this.o=this.o&&g,g){if(0<q.length&&!this.W){this.W=!0;var sn=this.j;sn.g==this&&sn.ba&&!sn.M&&(sn.j.info("Great, no buffering proxy detected. Bytes received: "+q.length),kD(sn),sn.M=!0,vn(11))}}else Cu(this.i,this.l,q,"[Invalid Chunked Response]"),ps(this),dd(this)}else Cu(this.i,this.l,q,null),RD(this,q);4==an&&ps(this),this.o&&!this.J&&(4==an?SU(this.j,this):(this.o=!1,Pg(this)))}else(function Toe(l){const f={};l=(l.g&&2<=Di(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(D(l[_]))continue;var g=b(l[_]);const S=g[0];if("string"!=typeof(g=g[1]))continue;g=g.trim();const N=f[S]||[];f[S]=N,N.push(g)}!function C(l,f){for(const g in l)f.call(void 0,l[g],g,l)}(f,function(_){return _.join(", ")})})(this.g),400==g&&0<q.indexOf("Unknown SID")?(this.s=3,vn(12)):(this.s=0,vn(13)),ps(this),dd(this)}}}catch{}},go.prototype.cancel=function(){this.J=!0,ps(this)},go.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function ioe(l,f){l.info(function(){return"TIMEOUT: "+f})}(this.i,this.A),2!=this.L&&(ud(),vn(17)),ps(this),this.s=2,dd(this)):nU(this,this.S-l)},rU.prototype.cancel=function(){if(this.i=aU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var cU=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gs(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof gs){this.h=l.h,Mg(this,l.j),this.o=l.o,this.g=l.g,xg(this,l.s),this.l=l.l;var f=l.i,g=new pd;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),lU(this,g),this.m=l.m}else l&&(f=String(l).match(cU))?(this.h=!1,Mg(this,f[1]||"",!0),this.o=hd(f[2]||""),this.g=hd(f[3]||"",!0),xg(this,f[4]),this.l=hd(f[5]||"",!0),lU(this,f[6]||"",!0),this.m=hd(f[7]||"")):(this.h=!1,this.i=new pd(null,this.h))}function Ci(l){return new gs(l)}function Mg(l,f,g){l.j=g?hd(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function xg(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function lU(l,f,g){f instanceof pd?(l.i=f,function moe(l,f){f&&!l.j&&(mo(l),l.i=null,l.g.forEach(function(g,_){var S=_.toLowerCase();_!=S&&(hU(this,_),pU(this,S,g))},l)),l.j=f}(l.i,l.h)):(g||(f=fd(f,poe)),l.i=new pd(f,l.h))}function nt(l,f,g){l.i.set(f,g)}function Ng(l){return nt(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hd(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function fd(l,f,g){return"string"==typeof l?(l=encodeURI(l).replace(f,doe),g&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function doe(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}gs.prototype.toString=function(){var l=[],f=this.j;f&&l.push(fd(f,dU,!0),":");var g=this.g;return(g||"file"==f)&&(l.push("//"),(f=this.o)&&l.push(fd(f,dU,!0),"@"),l.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(g=this.s)&&l.push(":",String(g))),(g=this.l)&&(this.g&&"/"!=g.charAt(0)&&l.push("/"),l.push(fd(g,"/"==g.charAt(0)?foe:hoe,!0))),(g=this.i.toString())&&l.push("?",g),(g=this.m)&&l.push("#",fd(g,goe)),l.join("")};var l,dU=/[#\/\?@]/g,hoe=/[#\?:]/g,foe=/[#\?]/g,poe=/[#\?@]/g,goe=/#/g;function pd(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function mo(l){l.g||(l.g=new Map,l.h=0,l.i&&function loe(l,f){if(l){l=l.split("&");for(var g=0;g<l.length;g++){var _=l[g].indexOf("="),S=null;if(0<=_){var N=l[g].substring(0,_);S=l[g].substring(_+1)}else N=l[g];f(N,S?decodeURIComponent(S.replace(/\+/g," ")):"")}}}(l.i,function(f,g){l.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}function hU(l,f){mo(l),f=Du(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function fU(l,f){return mo(l),f=Du(l,f),l.g.has(f)}function pU(l,f,g){hU(l,f),0<g.length&&(l.i=null,l.g.set(Du(l,f),I(g)),l.h+=g.length)}function Du(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function _o(l,f,g,_,S){try{S&&(S.onload=null,S.onerror=null,S.onabort=null,S.ontimeout=null),_(g)}catch{}}function voe(){this.g=new toe}function Ioe(l,f,g){const _=g||"";try{uU(l,function(S,N){let q=S;c(S)&&(q=ED(S)),f.push(_+N+"="+encodeURIComponent(q))})}catch(S){throw f.push(_+"type="+encodeURIComponent("_badmap")),S}}function gd(l){this.l=l.Ub||null,this.j=l.eb||!1}function Og(l,f){on.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function gU(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function md(l){l.readyState=4,l.l=null,l.j=null,l.v=null,_d(l)}function _d(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function mU(l){let f="";return ne(l,function(g,_){f+=_,f+=":",f+=g,f+="\r\n"}),f}function xD(l,f,g){e:{for(_ in g){var _=!1;break e}_=!0}_||(g=mU(g),"string"==typeof l?null!=g&&encodeURIComponent(String(g)):nt(l,f,g))}function mt(l){on.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=pd.prototype).add=function(l,f){mo(this),this.i=null,l=Du(this,l);var g=this.g.get(l);return g||this.g.set(l,g=[]),g.push(f),this.h+=1,this},n.forEach=function(l,f){mo(this),this.g.forEach(function(g,_){g.forEach(function(S){l.call(f,S,_,this)},this)},this)},n.na=function(){mo(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let _=0;_<f.length;_++){const S=l[_];for(let N=0;N<S.length;N++)g.push(f[_])}return g},n.V=function(l){mo(this);let f=[];if("string"==typeof l)fU(this,l)&&(f=f.concat(this.g.get(Du(this,l))));else{l=Array.from(this.g.values());for(let g=0;g<l.length;g++)f=f.concat(l[g])}return f},n.set=function(l,f){return mo(this),this.i=null,fU(this,l=Du(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},n.get=function(l,f){return l&&0<(l=this.V(l)).length?String(l[0]):f},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var _=f[g];const N=encodeURIComponent(String(_)),q=this.V(_);for(_=0;_<q.length;_++){var S=N;""!==q[_]&&(S+="="+encodeURIComponent(String(q[_]))),l.push(S)}}return this.i=l.join("&")},y(gd,wD),gd.prototype.g=function(){return new Og(this.l,this.j)},gd.prototype.i=(l={},function(){return l}),y(Og,on),(n=Og.prototype).open=function(l,f){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,_d(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,md(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,_d(this)),this.g&&(this.readyState=3,_d(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gU(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?md(this):_d(this),3==this.readyState&&gU(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,md(this))},n.Qa=function(l){this.g&&(this.response=l,md(this))},n.ga=function(){this.g&&md(this)},n.setRequestHeader=function(l,f){this.u.append(l,f)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var g=f.next();!g.done;)l.push((g=g.value)[0]+": "+g[1]),g=f.next();return l.join("\r\n")},Object.defineProperty(Og.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(mt,on);var Eoe=/^https?$/i,woe=["POST","PUT"];function _U(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,yU(l),kg(l)}function yU(l){l.A||(l.A=!0,yn(l,"complete"),yn(l,"error"))}function vU(l){if(l.h&&typeof s<"u"&&(!l.v[1]||4!=Di(l)||2!=l.Z()))if(l.u&&4==Di(l))j2(l.Ea,0,l);else if(yn(l,"readystatechange"),4==Di(l)){l.h=!1;try{const q=l.Z();e:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var _;if(_=0===q){var S=String(l.D).match(cU)[1]||null;!S&&a.self&&a.self.location&&(S=a.self.location.protocol.slice(0,-1)),_=!Eoe.test(S?S.toLowerCase():"")}g=_}if(g)yn(l,"complete"),yn(l,"success");else{l.m=6;try{var N=2<Di(l)?l.g.statusText:""}catch{N=""}l.l=N+" ["+l.Z()+"]",yU(l)}}finally{kg(l)}}}function kg(l,f){if(l.g){IU(l);const g=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||yn(l,"ready");try{g.onreadystatechange=_}catch{}}}function IU(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function Di(l){return l.g?l.g.readyState:0}function EU(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function yd(l,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[l]||f}function wU(l){this.Aa=0,this.i=[],this.j=new ld,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yd("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yd("baseRetryDelayMs",5e3,l),this.cb=yd("retryDelaySeedMs",1e4,l),this.Wa=yd("forwardChannelMaxRetries",2,l),this.wa=yd("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new rU(l&&l.concurrentRequestLimit),this.Da=new voe,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function ND(l){if(TU(l),3==l.G){var f=l.U++,g=Ci(l.I);if(nt(g,"SID",l.K),nt(g,"RID",f),nt(g,"TYPE","terminate"),vd(l,g),(f=new go(l,l.j,f)).L=2,f.v=Ng(Ci(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&((new Image).src=f.v,g=!0),g||(f.g=xU(f.j,null),f.g.ea(f.v)),f.F=Date.now(),Pg(f)}PU(l)}function Vg(l){l.g&&(kD(l),l.g.cancel(),l.g=null)}function TU(l){Vg(l),l.u&&(a.clearTimeout(l.u),l.u=null),Lg(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function Fg(l){if(!iU(l.h)&&!l.s){l.s=!0;var f=l.Ga;nd||k2(),rd||(nd(),rd=!0),hD.add(f,l),l.B=0}}function CU(l,f){var g;g=f?f.l:l.U++;const _=Ci(l.I);nt(_,"SID",l.K),nt(_,"RID",g),nt(_,"AID",l.T),vd(l,_),l.m&&l.o&&xD(_,l.m,l.o),g=new go(l,l.j,g,l.B+1),null===l.m&&(g.H=l.o),f&&(l.i=f.D.concat(l.i)),f=DU(l,g,1e3),g.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),MD(l.h,g),bD(g,_,f)}function vd(l,f){l.H&&ne(l.H,function(g,_){nt(f,_,g)}),l.l&&uU({},function(g,_){nt(f,_,g)})}function DU(l,f,g){g=Math.min(l.i.length,g);var _=l.l?p(l.l.Na,l.l,l):null;e:{var S=l.i;let N=-1;for(;;){const q=["count="+g];-1==N?0<g?(N=S[0].g,q.push("ofs="+N)):N=0:q.push("ofs="+N);let qe=!0;for(let Kt=0;Kt<g;Kt++){let Re=S[Kt].g;const sn=S[Kt].map;if(Re-=N,0>Re)N=Math.max(0,S[Kt].g-100),qe=!1;else try{Ioe(sn,q,"req"+Re+"_")}catch{_&&_(sn)}}if(qe){_=q.join("&");break e}}}return l=l.i.splice(0,g),f.D=l,_}function AU(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;nd||k2(),rd||(nd(),rd=!0),hD.add(f,l),l.v=0}}function OD(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=cd(p(l.Fa,l),RU(l,l.v)),l.v++,0))}function kD(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function bU(l){l.g=new go(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var f=Ci(l.qa);nt(f,"RID","rpc"),nt(f,"SID",l.K),nt(f,"AID",l.T),nt(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&nt(f,"TO",l.ja),nt(f,"TYPE","xmlhttp"),vd(l,f),l.m&&l.o&&xD(f,l.m,l.o),l.L&&(l.g.I=l.L);var g=l.g;l=l.ia,g.L=1,g.v=Ng(Ci(f)),g.m=null,g.P=!0,eU(g,l)}function Lg(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function SU(l,f){var g=null;if(l.g==f){Lg(l),kD(l),l.g=null;var _=2}else{if(!PD(l.h,f))return;g=f.D,sU(l.h,f),_=1}if(0!=l.G)if(f.o)if(1==_){g=f.m?f.m.length:0,f=Date.now()-f.F;var S=l.B;yn(_=bg(),new Y2(_,g)),Fg(l)}else AU(l);else if(3==(S=f.s)||0==S&&0<f.X||!(1==_&&function Coe(l,f){return!(oU(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=f.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=cd(p(l.Ga,l,f),RU(l,l.B)),l.B++,0)))}(l,f)||2==_&&OD(l)))switch(g&&0<g.length&&(f=l.h,f.i=f.i.concat(g)),S){case 1:ms(l,5);break;case 4:ms(l,10);break;case 3:ms(l,6);break;default:ms(l,2)}}function RU(l,f){let g=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(g*=2),g*f}function ms(l,f){if(l.j.info("Error code "+f),2==f){var g=p(l.fb,l),_=l.Xa;const S=!_;_=new gs(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||Mg(_,"https"),Ng(_),S?function _oe(l,f){const g=new ld;if(a.Image){const _=new Image;_.onload=m(_o,g,"TestLoadImage: loaded",!0,f,_),_.onerror=m(_o,g,"TestLoadImage: error",!1,f,_),_.onabort=m(_o,g,"TestLoadImage: abort",!1,f,_),_.ontimeout=m(_o,g,"TestLoadImage: timeout",!1,f,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else f(!1)}(_.toString(),g):function yoe(l,f){new ld;const _=new AbortController,S=setTimeout(()=>{_.abort(),_o(0,0,!1,f)},1e4);fetch(l,{signal:_.signal}).then(N=>{clearTimeout(S),_o(0,0,!!N.ok,f)}).catch(()=>{clearTimeout(S),_o(0,0,!1,f)})}(_.toString(),g)}else vn(2);l.G=0,l.l&&l.l.sa(f),PU(l),TU(l)}function PU(l){if(l.G=0,l.ka=[],l.l){const f=aU(l.h);(0!=f.length||0!=l.i.length)&&(E(l.ka,f),E(l.ka,l.i),l.h.i.length=0,I(l.i),l.i.length=0),l.l.ra()}}function MU(l,f,g){var _=g instanceof gs?Ci(g):new gs(g);if(""!=_.g)f&&(_.g=f+"."+_.g),xg(_,_.s);else{var S=a.location;_=S.protocol,f=f?f+"."+S.hostname:S.hostname,S=+S.port;var N=new gs(null);_&&Mg(N,_),f&&(N.g=f),S&&xg(N,S),g&&(N.l=g),_=N}return f=l.ya,(g=l.D)&&f&&nt(_,g,f),nt(_,"VER",l.la),vd(l,_),_}function xU(l,f,g){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(f=new mt(l.Ca&&!l.pa?new gd({eb:g}):l.pa)).Ha(l.J),f}function NU(){}function Ug(){}function qn(l,f){on.call(this),this.g=new wU(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!D(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!D(f)&&(this.g.D=f,null!==(l=this.h)&&f in l&&f in(l=this.h)&&delete l[f]),this.j=new Au(this)}function OU(l){TD.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const g in f){l=g;break e}l=void 0}(this.i=l)&&(l=this.i,f=null!==f&&l in f?f[l]:void 0),this.data=f}else this.data=l}function kU(){CD.call(this),this.status=1}function Au(l){this.g=l}(n=mt.prototype).Ha=function(l){this.J=l},n.ea=function(l,f,g,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():DD.g(),this.v=function H2(l){return l.h||(l.h=l.i())}(this.o?this.o:DD),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(N){return void _U(this,N)}if(l=g||"",g=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var S in _)g.set(S,_[S]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const N of _.keys())g.set(N,_.get(N))}_=Array.from(g.keys()).find(N=>"content-type"==N.toLowerCase()),S=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(woe,f,void 0))||_||S||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[N,q]of g)this.g.setRequestHeader(N,q);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{IU(this),this.u=!0,this.g.send(l),this.u=!1}catch(N){_U(this,N)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,yn(this,"complete"),yn(this,"abort"),kg(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),kg(this,!0)),mt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vU(this):this.bb())},n.bb=function(){vU(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<Di(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&0==f.indexOf(l)&&(f=f.substring(l.length)),eoe(f)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=wU.prototype).la=8,n.G=1,n.connect=function(l,f,g,_){vn(0),this.W=l,this.H=f||{},g&&void 0!==_&&(this.H.OSID=g,this.H.OAID=_),this.F=this.X,this.I=MU(this,null,this.W),Fg(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const S=new go(this,this.j,l);let N=this.o;if(this.S&&(N?(N=v(N),A(N,this.S)):N=this.S),null!==this.m||this.O||(S.H=N,N=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){var _=this.i[g];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(f+=_)){f=g;break e}if(4096===f||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=DU(this,S,f),nt(g=Ci(this.I),"RID",l),nt(g,"CVER",22),this.D&&nt(g,"X-HTTP-Session-Id",this.D),vd(this,g),N&&(this.O?f="headers="+encodeURIComponent(String(mU(N)))+"&"+f:this.m&&xD(g,this.m,N)),MD(this.h,S),this.Ua&&nt(g,"TYPE","init"),this.P?(nt(g,"$req",f),nt(g,"SID","null"),S.T=!0,bD(S,g,null)):bD(S,g,f),this.G=2}}else 3==this.G&&(l?CU(this,l):0==this.i.length||iU(this.h)||CU(this))},n.Fa=function(){if(this.u=null,bU(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=cd(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vn(10),Vg(this),bU(this))},n.Za=function(){null!=this.C&&(this.C=null,Vg(this),OD(this),vn(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),vn(2)):(this.j.info("Failed to ping google.com"),vn(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=NU.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},Ug.prototype.g=function(l,f){return new qn(l,f)},y(qn,on),qn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qn.prototype.close=function(){ND(this.g)},qn.prototype.o=function(l){var f=this.g;if("string"==typeof l){var g={};g.__data__=l,l=g}else this.u&&((g={}).__data__=ED(l),l=g);f.i.push(new class{constructor(l,f){this.g=l,this.map=f}}(f.Ya++,l)),3==f.G&&Fg(f)},qn.prototype.N=function(){this.g.l=null,delete this.j,ND(this.g),delete this.g,qn.aa.N.call(this)},y(OU,TD),y(kU,CD),y(Au,NU),Au.prototype.ua=function(){yn(this.g,"a")},Au.prototype.ta=function(l){yn(this.g,new OU(l))},Au.prototype.sa=function(l){yn(this.g,new kU)},Au.prototype.ra=function(){yn(this.g,"b")},Ug.prototype.createWebChannel=Ug.prototype.g,qn.prototype.send=qn.prototype.o,qn.prototype.open=qn.prototype.m,qn.prototype.close=qn.prototype.close,KO=gi.createWebChannelTransport=function(){return new Ug},WO=gi.getStatEventTarget=function(){return bg()},qO=gi.Event=fs,Aw=gi.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Sg.NO_ERROR=0,Sg.TIMEOUT=8,Sg.HTTP_ERROR=6,lp=gi.ErrorCode=Sg,J2.COMPLETE="complete",HO=gi.EventType=J2,q2.EventType=ad,ad.OPEN="a",ad.CLOSE="b",ad.ERROR="c",ad.MESSAGE="d",on.prototype.listen=on.prototype.K,pl=gi.WebChannel=q2,zO=gi.FetchXmlHttpFactory=gd,mt.prototype.listenOnce=mt.prototype.L,mt.prototype.getLastError=mt.prototype.Ka,mt.prototype.getLastErrorCode=mt.prototype.Ba,mt.prototype.getStatus=mt.prototype.Z,mt.prototype.getResponseJson=mt.prototype.Oa,mt.prototype.getResponseText=mt.prototype.oa,mt.prototype.send=mt.prototype.ea,mt.prototype.setWithCredentials=mt.prototype.Ha,GO=gi.XhrIo=mt}).apply(typeof cp<"u"?cp:typeof self<"u"?self:typeof window<"u"?window:{});const QO="@firebase/firestore";class Vt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Vt.UNAUTHENTICATED=new Vt(null),Vt.GOOGLE_CREDENTIALS=new Vt("google-credentials-uid"),Vt.FIRST_PARTY=new Vt("first-party-uid"),Vt.MOCK_USER=new Vt("mock-user");let Fa="10.13.1";const Qi=new Zv("@firebase/firestore");function La(){return Qi.logLevel}function F(n,...e){if(Qi.logLevel<=Te.DEBUG){const t=e.map(bw);Qi.debug(`Firestore (${Fa}): ${n}`,...t)}}function Et(n,...e){if(Qi.logLevel<=Te.ERROR){const t=e.map(bw);Qi.error(`Firestore (${Fa}): ${n}`,...t)}}function Gn(n,...e){if(Qi.logLevel<=Te.WARN){const t=e.map(bw);Qi.warn(`Firestore (${Fa}): ${n}`,...t)}}function bw(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function J(n="Unexpected state"){const e=`FIRESTORE (${Fa}) INTERNAL ASSERTION FAILED: `+n;throw Et(e),new Error(e)}function ee(n,e){n||J()}function H(n,e){return n}const x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Hi{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xt{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class YO{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Vt.UNAUTHENTICATED))}shutdown(){}}class LX{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class UX{constructor(e){this.t=e,this.currentUser=Vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=c=>this.i!==i?(i=this.i,t(c)):Promise.resolve();let s=new xt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new xt,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(O(function*(){yield c.promise,yield o(r.currentUser)}))},u=c=>{F("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>u(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(F("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new xt)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(F("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ee("string"==typeof r.accessToken),new YO(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ee(null===e||"string"==typeof e),new Vt(e)}}class BX{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jX{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new BX(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class JO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $X{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const r=o=>{null!=o.error&&F("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,F("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{F("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):F("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ee("string"==typeof t.token),this.R=t.token,new JO(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GX(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class ZO{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=GX(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%62))}return r}}function ce(n,e){return n<e?-1:n>e?1:0}function Ua(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class lt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return lt.fromMillis(Date.now())}static fromDate(e){return lt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new lt(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class te{constructor(e){this.timestamp=e}static fromTimestamp(e){return new te(e)}static min(){return new te(new lt(0,0))}static max(){return new te(new lt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class gl{constructor(e,t,r){void 0===t?t=0:t>e.length&&J(),void 0===r?r=e.length-t:r>e.length-t&&J(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===gl.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gl?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ee extends gl{construct(e,t,r){return new Ee(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new L(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ee(t)}static emptyPath(){return new Ee([])}}const zX=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ot extends gl{construct(e,t,r){return new ot(e,t,r)}static isValidIdentifier(e){return zX.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ot.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new ot(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new L(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new L(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new L(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new L(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ot(t)}static emptyPath(){return new ot([])}}class K{constructor(e){this.path=e}static fromPath(e){return new K(Ee.fromString(e))}static fromName(e){return new K(Ee.fromString(e).popFirst(5))}static empty(){return new K(Ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ee.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ee.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new K(new Ee(e.slice()))}}function tk(n){return new zn(n.readTime,n.key,-1)}class zn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new zn(te.min(),K.empty(),-1)}static max(){return new zn(te.max(),K.empty(),-1)}}function Rw(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=K.comparator(n.documentKey,e.documentKey),0!==t?t:ce(n.largestBatchId,e.largestBatchId))}const nk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Yi(n){return Pw.apply(this,arguments)}function Pw(){return Pw=O(function*(n){if(n.code!==x.FAILED_PRECONDITION||n.message!==nk)throw n;F("LocalStore","Unexpectedly lost primary lease")}),Pw.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&J(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof R?t:R.resolve(t)}catch(t){return R.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):R.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):R.reject(t)}static resolve(e){return new R((t,r)=>{t(e)})}static reject(e){return new R((t,r)=>{r(e)})}static waitFor(e){return new R((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=R.resolve(!1);for(const r of e)t=t.next(i=>i?R.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new R((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let u=0;u<o;u++){const c=u;t(e[c]).next(d=>{s[c]=d,++a,a===o&&r(s)},d=>i(d))}})}static doWhile(e,t){return new R((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}function Ji(n){return"IndexedDbTransactionError"===n.name}let Hn=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function _l(n){return null==n}function yl(n){return 0===n&&1/n==-1/0}function fk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function gk(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Ze{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new Ze(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fp(this.root,e,this.comparator,!1)}getReverseIterator(){return new fp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fp(this.root,e,this.comparator,!0)}}class fp{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=i??Ht.EMPTY,this.right=o??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Ht(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Ht.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw J();const e=this.left.check();if(e!==this.right.check())throw J();return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1,Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw J()}get value(){throw J()}get color(){throw J()}get left(){throw J()}get right(){throw J()}copy(e,t,r,i,o){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mk(this.data.getIterator())}getIteratorFrom(e){return new mk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof je)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new je(this.comparator);return t.data=e,t}}class mk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Pn{constructor(e){this.fields=e,e.sort(ot.comparator)}static empty(){return new Pn([])}unionWith(e){let t=new je(ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Pn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ua(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class _k extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class gt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new _k("Invalid base64 string: "+o):o}}(e);return new gt(t)}static fromUint8Array(e){const t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new gt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}gt.EMPTY_BYTE_STRING=new gt("");const _ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mi(n){if(ee(!!n),"string"==typeof n){let e=0;const t=_ee.exec(n);if(ee(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:st(n.seconds),nanos:st(n.nanos)}}function st(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function _i(n){return"string"==typeof n?gt.fromBase64String(n):gt.fromUint8Array(n)}function pp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function gp(n){const e=n.mapValue.fields.__previous_value__;return pp(e)?gp(e):e}function vl(n){const e=mi(n.mapValue.fields.__local_write_time__.timestampValue);return new lt(e.seconds,e.nanos)}class yee{constructor(e,t,r,i,o,s,a,u,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class Yo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Yo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Yo&&e.projectId===this.projectId&&e.database===this.database}}const Xi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function eo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?pp(n)?4:wk(n)?9007199254740991:vp(n)?10:11:J()}function Br(n,e){if(n===e)return!0;const t=eo(n);if(t!==eo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return vl(n).isEqual(vl(e));case 3:return function(i,o){if("string"==typeof i.timestampValue&&"string"==typeof o.timestampValue&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=mi(i.timestampValue),a=mi(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,_i(n.bytesValue).isEqual(_i(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return st(i.geoPointValue.latitude)===st(o.geoPointValue.latitude)&&st(i.geoPointValue.longitude)===st(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return st(i.integerValue)===st(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=st(i.doubleValue),a=st(o.doubleValue);return s===a?yl(s)===yl(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Ua(n.arrayValue.values||[],e.arrayValue.values||[],Br);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(fk(s)!==fk(a))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(void 0===a[u]||!Br(s[u],a[u])))return!1;return!0}(n,e);default:return J()}var o}function Il(n,e){return void 0!==(n.values||[]).find(t=>Br(t,e))}function to(n,e){if(n===e)return 0;const t=eo(n),r=eo(e);if(t!==r)return ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ce(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=st(o.integerValue||o.doubleValue),u=st(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return yk(n.timestampValue,e.timestampValue);case 4:return yk(vl(n),vl(e));case 5:return ce(n.stringValue,e.stringValue);case 6:return function(o,s){const a=_i(o),u=_i(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),u=s.split("/");for(let c=0;c<a.length&&c<u.length;c++){const d=ce(a[c],u[c]);if(0!==d)return d}return ce(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ce(st(o.latitude),st(s.latitude));return 0!==a?a:ce(st(o.longitude),st(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return vk(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,c,d;const m=null===(a=(o.fields||{}).value)||void 0===a?void 0:a.arrayValue,y=null===(u=(s.fields||{}).value)||void 0===u?void 0:u.arrayValue,I=ce((null===(c=m?.values)||void 0===c?void 0:c.length)||0,(null===(d=y?.values)||void 0===d?void 0:d.length)||0);return 0!==I?I:vk(m,y)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===Xi.mapValue&&s===Xi.mapValue)return 0;if(o===Xi.mapValue)return 1;if(s===Xi.mapValue)return-1;const a=o.fields||{},u=Object.keys(a),c=s.fields||{},d=Object.keys(c);u.sort(),d.sort();for(let h=0;h<u.length&&h<d.length;++h){const p=ce(u[h],d[h]);if(0!==p)return p;const m=to(a[u[h]],c[d[h]]);if(0!==m)return m}return ce(u.length,d.length)}(n.mapValue,e.mapValue);default:throw J()}}function yk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ce(n,e);const t=mi(n),r=mi(e),i=ce(t.seconds,r.seconds);return 0!==i?i:ce(t.nanos,r.nanos)}function vk(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=to(t[i],r[i]);if(o)return o}return ce(t.length,r.length)}function Ga(n){return Nw(n)}function Nw(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?_i(n.bytesValue).toBase64():"referenceValue"in n?K.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=Nw(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Nw(t.fields[s])}`;return i+"}"}(n.mapValue):J()}function Ow(n){return!!n&&"integerValue"in n}function El(n){return!!n&&"arrayValue"in n}function Ik(n){return!!n&&"nullValue"in n}function Ek(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yp(n){return!!n&&"mapValue"in n}function vp(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function wl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Zi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=wl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=wl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class qt{constructor(e){this.value=e}static empty(){return new qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wl(t)}setAll(e){let t=ot.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=wl(s):i.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());yp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Br(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zi(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new qt(wl(this.value))}}function Ak(n){const e=[];return Zi(n.fields,(t,r)=>{const i=new ot([t]);if(yp(r)){const o=Ak(r.mapValue).fields;if(0===o.length)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new Pn(e)}class tt{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new tt(e,0,te.min(),te.min(),te.min(),qt.empty(),0)}static newFoundDocument(e,t,r,i){return new tt(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new tt(e,2,t,te.min(),te.min(),qt.empty(),0)}static newUnknownDocument(e,t){return new tt(e,3,t,te.min(),te.min(),qt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class no{constructor(e,t){this.position=e,this.inclusive=t}}function bk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],s=n.position[i];if(r=o.field.isKeyField()?K.comparator(K.fromName(s.referenceValue),t.key):to(s,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Sk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Br(n.position[t],e.position[t]))return!1;return!0}class Tl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Eee(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Rk{}class we extends Rk{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new wee(e,t,r):"array-contains"===t?new Dee(e,r):"in"===t?new kk(e,r):"not-in"===t?new Aee(e,r):"array-contains-any"===t?new bee(e,r):new we(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Tee(e,r):new Cee(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(to(t,this.value)):null!==t&&eo(this.value)===eo(t)&&this.matchesComparison(to(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return J()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ue extends Rk{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Ue(e,t)}matches(e){return za(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function za(n){return"and"===n.op}function Vw(n){return function Pk(n){for(const e of n.filters)if(e instanceof Ue)return!1;return!0}(n)&&za(n)}function Fw(n){if(n instanceof we)return n.field.canonicalString()+n.op.toString()+Ga(n.value);if(Vw(n))return n.filters.map(e=>Fw(e)).join(",");{const e=n.filters.map(t=>Fw(t)).join(",");return`${n.op}(${e})`}}function Mk(n,e){return n instanceof we?(r=n,(i=e)instanceof we&&r.op===i.op&&r.field.isEqual(i.field)&&Br(r.value,i.value)):n instanceof Ue?function(r,i){return i instanceof Ue&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((o,s,a)=>o&&Mk(s,i.filters[a]),!0)}(n,e):void J();var r,i}function Nk(n){return n instanceof we?`${(t=n).field.canonicalString()} ${t.op} ${Ga(t.value)}`:n instanceof Ue?function(t){return t.op.toString()+" {"+t.getFilters().map(Nk).join(" ,")+"}"}(n):"Filter";var t}class wee extends we{constructor(e,t,r){super(e,t,r),this.key=K.fromName(r.referenceValue)}matches(e){const t=K.comparator(e.key,this.key);return this.matchesComparison(t)}}class Tee extends we{constructor(e,t){super(e,"in",t),this.keys=Ok(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Cee extends we{constructor(e,t){super(e,"not-in",t),this.keys=Ok(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ok(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>K.fromName(r.referenceValue))}class Dee extends we{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return El(t)&&Il(t.arrayValue,this.value)}}class kk extends we{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Il(this.value.arrayValue,t)}}class Aee extends we{constructor(e,t){super(e,"not-in",t)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Il(this.value.arrayValue,t)}}class bee extends we{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!El(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Il(this.value.arrayValue,r))}}class See{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function Lw(n,e=null,t=[],r=[],i=null,o=null,s=null){return new See(n,e,t,r,i,o,s)}function Zo(n){const e=H(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Fw(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),_l(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Ga(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Ga(r)).join(",")),e.ue=t}return e.ue}function Cl(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Eee(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mk(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Sk(n.startAt,e.startAt)&&Sk(n.endAt,e.endAt)}function Ip(n){return K.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class yi{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null}}function Ha(n){return new yi(n)}function Uk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qa(n){const e=H(n);if(null===e.ce){e.ce=[];const t=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new je(ot.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Tl(o,r))}),t.has(ot.keyField().canonicalString())||e.ce.push(new Tl(ot.keyField(),r))}return e.ce}function Xt(n){const e=H(n);return e.le||(e.le=function jk(n,e){if("F"===n.limitType)return Lw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Tl(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new no(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new no(n.startAt.position,n.startAt.inclusive):null;return Lw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,qa(n))),e.le}function wp(n,e,t){return new yi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Dl(n,e){return Cl(Xt(n),Xt(e))&&n.limitType===e.limitType}function $k(n){return`${Zo(Xt(n))}|lt:${n.limitType}`}function Wa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Nk(i)).join(", ")}]`),_l(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(s=i).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Ga(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Ga(i)).join(",")),`Target(${r})`}(Xt(n))}; limitType=${n.limitType})`}function Al(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):K.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of qa(r))if(!o.field.isKeyField()&&null===i.data.field(o.field))return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(s,a,u){const c=bk(s,a,u);return s.inclusive?c<=0:c<0}(r.startAt,qa(r),i)||r.endAt&&!function(s,a,u){const c=bk(s,a,u);return s.inclusive?c>=0:c>0}(r.endAt,qa(r),i)));var r,i}function zk(n){return(e,t)=>{let r=!1;for(const i of qa(n)){const o=Ree(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function Ree(n,e,t){const r=n.field.isKeyField()?K.comparator(e.key,t.key):function(o,s,a){const u=s.data.field(o),c=a.data.field(o);return null!==u&&null!==c?to(u,c):J()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return J()}}class vi{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return gk(this.inner)}size(){return this.innerSize}}const Pee=new Ze(K.comparator);function Mn(){return Pee}const Hk=new Ze(K.comparator);function bl(...n){let e=Hk;for(const t of n)e=e.insert(t.key,t);return e}function qk(n){let e=Hk;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function jr(){return Sl()}function Wk(){return Sl()}function Sl(){return new vi(n=>n.toString(),(n,e)=>n.isEqual(e))}const Mee=new Ze(K.comparator),xee=new je(K.comparator);function _e(...n){let e=xee;for(const t of n)e=e.add(t);return e}const Nee=new je(ce);function $w(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yl(e)?"-0":e}}function Kk(n){return{integerValue:""+n}}function Qk(n,e){return function ok(n){return"number"==typeof n&&Number.isInteger(n)&&!yl(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?Kk(e):$w(n,e)}class Tp{constructor(){this._=void 0}}function Oee(n,e,t){return n instanceof Ka?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&pp(o)&&(o=gp(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Xo?Jk(n,e):n instanceof es?Zk(n,e):function(i,o){const s=Yk(i,o),a=Xk(s)+Xk(i.Pe);return Ow(s)&&Ow(i.Pe)?Kk(a):$w(i.serializer,a)}(n,e)}function kee(n,e,t){return n instanceof Xo?Jk(n,e):n instanceof es?Zk(n,e):t}function Yk(n,e){return n instanceof Qa?Ow(r=e)||(o=r)&&"doubleValue"in o?e:{integerValue:0}:null;var r,o}class Ka extends Tp{}class Xo extends Tp{constructor(e){super(),this.elements=e}}function Jk(n,e){const t=eV(e);for(const r of n.elements)t.some(i=>Br(i,r))||t.push(r);return{arrayValue:{values:t}}}class es extends Tp{constructor(e){super(),this.elements=e}}function Zk(n,e){let t=eV(e);for(const r of n.elements)t=t.filter(i=>!Br(i,r));return{arrayValue:{values:t}}}class Qa extends Tp{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Xk(n){return st(n.integerValue||n.doubleValue)}function eV(n){return El(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Fee{constructor(e,t){this.version=e,this.transformResults=t}}class at{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new at}static exists(e){return new at(void 0,e)}static updateTime(e){return new at(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cp(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Dp{}function tV(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ja(n.key,at.none()):new Ya(n.key,n.data,at.none());{const t=n.data,r=qt.empty();let i=new je(ot.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?r.delete(o):r.set(o,s),i=i.add(o)}return new Ii(n.key,r,new Pn(i.toArray()),at.none())}}function Lee(n,e,t){n instanceof Ya?function(i,o,s){const a=i.value.clone(),u=iV(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Ii?function(i,o,s){if(!Cp(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=iV(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(rV(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Pl(n,e,t,r){return n instanceof Ya?function(o,s,a,u){if(!Cp(o.precondition,s))return a;const c=o.value.clone(),d=oV(o.fieldTransforms,u,s);return c.setAll(d),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ii?function(o,s,a,u){if(!Cp(o.precondition,s))return a;const c=oV(o.fieldTransforms,u,s),d=s.data;return d.setAll(rV(o)),d.setAll(c),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(h=>h.field))}(n,e,t,r):(a=t,Cp(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function Uee(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Yk(r.transform,i||null);null!=o&&(null===t&&(t=qt.empty()),t.set(r.field,o))}return t||null}function nV(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Ua(r,i,(o,s)=>function Vee(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof Xo&&i instanceof Xo||r instanceof es&&i instanceof es?Ua(r.elements,i.elements,Br):r instanceof Qa&&i instanceof Qa?Br(r.Pe,i.Pe):r instanceof Ka&&i instanceof Ka);var r,i}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class Ya extends Dp{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ii extends Dp{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function rV(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function iV(n,e,t){const r=new Map;ee(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,kee(s,a,t[i]))}return r}function oV(n,e,t){const r=new Map;for(const i of n){const o=i.transform,s=t.data.field(i.field);r.set(i.field,Oee(o,s,e))}return r}class Ja extends Dp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Gw extends Dp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zw{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Lee(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Pl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Wk();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;const u=tV(s,a);null!==u&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),_e())}isEqual(e){return this.batchId===e.batchId&&Ua(this.mutations,e.mutations,(t,r)=>nV(t,r))&&Ua(this.baseMutations,e.baseMutations,(t,r)=>nV(t,r))}}class Hw{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ee(e.mutations.length===r.length);let i=Mee;const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Hw(e,t,r,i)}}class qw{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bee{constructor(e,t){this.count=e,this.unchangedNames=t}}var bt,Ae;function uV(n){if(void 0===n)return Et("GRPC error has no .code"),x.UNKNOWN;switch(n){case bt.OK:return x.OK;case bt.CANCELLED:return x.CANCELLED;case bt.UNKNOWN:return x.UNKNOWN;case bt.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case bt.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case bt.INTERNAL:return x.INTERNAL;case bt.UNAVAILABLE:return x.UNAVAILABLE;case bt.UNAUTHENTICATED:return x.UNAUTHENTICATED;case bt.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case bt.NOT_FOUND:return x.NOT_FOUND;case bt.ALREADY_EXISTS:return x.ALREADY_EXISTS;case bt.PERMISSION_DENIED:return x.PERMISSION_DENIED;case bt.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case bt.ABORTED:return x.ABORTED;case bt.OUT_OF_RANGE:return x.OUT_OF_RANGE;case bt.UNIMPLEMENTED:return x.UNIMPLEMENTED;case bt.DATA_LOSS:return x.DATA_LOSS;default:return J()}}(Ae=bt||(bt={}))[Ae.OK=0]="OK",Ae[Ae.CANCELLED=1]="CANCELLED",Ae[Ae.UNKNOWN=2]="UNKNOWN",Ae[Ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ae[Ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ae[Ae.NOT_FOUND=5]="NOT_FOUND",Ae[Ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ae[Ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ae[Ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ae[Ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ae[Ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ae[Ae.ABORTED=10]="ABORTED",Ae[Ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ae[Ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ae[Ae.INTERNAL=13]="INTERNAL",Ae[Ae.UNAVAILABLE=14]="UNAVAILABLE",Ae[Ae.DATA_LOSS=15]="DATA_LOSS";const jee=new qo([4294967295,4294967295],0);function lV(n){const e=function cV(){return new TextEncoder}().encode(n),t=new $O;return t.update(e),new Uint8Array(t.digest())}function dV(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new qo([t,r],0),new qo([i,o],0)]}class Ww{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Ml(`Invalid padding: ${t}`);if(r<0)throw new Ml(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Ml(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Ml(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qo.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(qo.fromNumber(r)));return 1===i.compare(jee)&&(i=new qo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=lV(e),[r,i]=dV(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ww(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Ie)return;const t=lV(e),[r,i]=dV(t);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Ml extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class xl{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Nl.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new xl(te.min(),i,new Ze(ce),Mn(),_e())}}class Nl{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Nl(r,t,_e(),_e(),_e())}}class bp{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class hV{constructor(e,t){this.targetId=e,this.me=t}}class fV{constructor(e,t,r=gt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class pV{constructor(){this.fe=0,this.ge=mV(),this.pe=gt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=_e(),t=_e(),r=_e();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:J()}}),new Nl(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=mV()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ee(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $ee{constructor(e){this.Le=e,this.Be=new Map,this.ke=Mn(),this.qe=gV(),this.Qe=new Ze(ce)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:J()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const o=i.target;if(Ip(o))if(0===r){const s=new K(o.path);this.Ue(t,s,tt.newNoDocument(s,te.min()))}else ee(1===r);else{const s=this.Ye(t);if(s!==r){const a=this.Ze(e),u=a?this.Xe(a,e,s):1;0!==u&&(this.je(t),this.Qe=this.Qe.insert(t,2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let s,a;try{s=_i(r).toUint8Array()}catch(u){if(u instanceof _k)return Gn("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new Ww(s,i,o)}catch(u){return Gn(u instanceof Ml?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&Ip(a.target)){const u=new K(a.target.path);null!==this.ke.get(u)||this.it(s,u)||this.Ue(s,u,tt.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=_e();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{const c=this.Je(u);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new xl(e,t,this.Qe,this.ke,r);return this.ke=Mn(),this.qe=gV(),this.Qe=new Ze(ce),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new pV,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new je(ce),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||F("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new pV),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function gV(){return new Ze(K.comparator)}function mV(){return new Ze(K.comparator)}const Gee={asc:"ASCENDING",desc:"DESCENDING"},zee={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hee={and:"AND",or:"OR"};class qee{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kw(n,e){return n.useProto3Json||_l(e)?e:{value:e}}function Za(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _V(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Wee(n,e){return Za(n,e.toTimestamp())}function wt(n){return ee(!!n),te.fromTimestamp(function(t){const r=mi(t);return new lt(r.seconds,r.nanos)}(n))}function Qw(n,e){return Yw(n,e).canonicalString()}function Yw(n,e){const t=(i=n,new Ee(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function yV(n){const e=Ee.fromString(n);return ee(RV(e)),e}function Ol(n,e){return Qw(n.databaseId,e.path)}function $r(n,e){const t=yV(e);if(t.get(1)!==n.databaseId.projectId)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new L(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new K(EV(t))}function vV(n,e){return Qw(n.databaseId,e)}function Jw(n){return new Ee(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EV(n){return ee(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wV(n,e,t){return{name:Ol(n,e),fields:t.value.mapValue.fields}}function CV(n,e){return{documents:[vV(n,e.path)]}}function Sp(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=vV(n,i);const o=function(c){if(0!==c.length)return SV(Ue.create(c,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const s=function(c){if(0!==c.length)return c.map(d=>{return{field:ro((p=d).field),direction:Zee(p.dir)};var p})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const a=Kw(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(c=e.startAt).inclusive,values:c.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:t,parent:i};var c}function AV(n){let e=function IV(n){const e=yV(n);return 4===e.length?Ee.emptyPath():EV(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){ee(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let o=[];t.where&&(o=function(h){const p=bV(h);return p instanceof Ue&&Vw(p)?p.getFilters():[p]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(p=>{return new Tl(Xa((y=p).field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(h){let p;return p="object"==typeof h?h.value:h,_l(p)?null:p}(t.limit));let u=null;var h;t.startAt&&(u=new no((h=t.startAt).values||[],!!h.before));let c=null;return t.endAt&&(c=function(h){return new no(h.values||[],!h.before)}(t.endAt)),function Lk(n,e,t,r,i,o,s,a){return new yi(n,e,t,r,i,o,s,a)}(e,i,s,o,a,"F",u,c)}function bV(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xa(t.unaryFilter.field);return we.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Xa(t.unaryFilter.field);return we.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Xa(t.unaryFilter.field);return we.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Xa(t.unaryFilter.field);return we.create(s,"!=",{nullValue:"NULL_VALUE"});default:return J()}}(n):void 0!==n.fieldFilter?we.create(Xa((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return J()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Ue.create(t.compositeFilter.filters.map(r=>bV(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return J()}}(t.compositeFilter.op))}(n):J();var t}function Zee(n){return Gee[n]}function Xee(n){return zee[n]}function ete(n){return Hee[n]}function ro(n){return{fieldPath:n.canonicalString()}}function Xa(n){return ot.fromServerFormat(n.fieldPath)}function SV(n){return n instanceof we?function(t){if("=="===t.op){if(Ek(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NAN"}};if(Ik(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ek(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NAN"}};if(Ik(t.value))return{unaryFilter:{field:ro(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(t.field),op:Xee(t.op),value:t.value}}}(n):n instanceof Ue?function(t){const r=t.getFilters().map(i=>SV(i));return 1===r.length?r[0]:{compositeFilter:{op:ete(t.op),filters:r}}}(n):J()}function tte(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function RV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Ei{constructor(e,t,r,i,o=te.min(),s=te.min(),a=gt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class PV{constructor(e){this.ct=e}}function Xw(n){const e=AV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?wp(e,e.limit,"L"):e}class is{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(st(e.integerValue));else if("doubleValue"in e){const r=st(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),yl(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=mi(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(_i(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?wk(e)?this.dt(t,Number.MAX_SAFE_INTEGER):vp(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):J()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const o=e.fields||{};this.dt(t,53);const s="value",a=(null===(i=null===(r=o[s].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(st(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),K.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}is.vt=new is;class lte{constructor(){this.un=new oT}addToCollectionParentIndex(e,t){return this.un.add(t),R.resolve()}getCollectionParents(e,t){return R.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return R.resolve()}deleteFieldIndex(e,t){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,t){return R.resolve()}getDocumentsMatchingTarget(e,t){return R.resolve(null)}getIndexType(e,t){return R.resolve(0)}getFieldIndexes(e,t){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,t){return R.resolve(zn.min())}getMinOffsetFromCollectionGroup(e,t){return R.resolve(zn.min())}updateCollectionGroup(e,t,r){return R.resolve()}updateIndexEntries(e,t){return R.resolve()}}class oT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new je(Ee.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new je(Ee.comparator)).toArray()}}new Uint8Array(0);class en{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new en(e,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}en.DEFAULT_COLLECTION_PERCENTILE=10,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,en.DEFAULT=new en(41943040,en.DEFAULT_COLLECTION_PERCENTILE,en.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),en.DISABLED=new en(-1,0,0);class ss{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ss(0)}static kn(){return new ss(-1)}}class mte{constructor(){this.changes=new vi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?R.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class vte{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class rF{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&Pl(r.mutation,i,Pn.empty(),lt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,t,r=_e()){const i=jr();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=bl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const r=jr();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,_e()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Mn();const s=Sl(),a=Sl();return t.forEach((u,c)=>{const d=r.get(c.key);i.has(c.key)&&(void 0===d||d.mutation instanceof Ii)?o=o.insert(c.key,c):void 0!==d?(s.set(c.key,d.mutation.getFieldMask()),Pl(d.mutation,c,d.mutation.getFieldMask(),lt.now())):s.set(c.key,Pn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((c,d)=>s.set(c,d)),t.forEach((c,d)=>{var h;return a.set(c,new vte(d,null!==(h=s.get(c))&&void 0!==h?h:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Sl();let i=new Ze((s,a)=>s-a),o=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(u=>{const c=t.get(u);if(null===c)return;let d=r.get(u)||Pn.empty();d=a.applyToLocalView(c,d),r.set(u,d);const h=(i.get(a.batchId)||_e()).add(u);i=i.insert(a.batchId,h)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,d=u.value,h=Wk();d.forEach(p=>{if(!o.has(p)){const m=tV(t.get(p),r.get(p));null!==m&&h.set(p,m),o=o.add(p)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,h))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return K.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Uw(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var s}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):R.resolve(jr());let a=-1,u=o;return s.next(c=>R.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),o.get(d)?R.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{u=u.insert(d,p)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,u,c,_e())).next(d=>({batchId:a,changes:qk(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new K(t)).next(r=>{let i=bl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let s=bl();return this.indexManager.getCollectionParents(e,o).next(a=>R.forEach(a,u=>{const c=(h=t,p=u.child(o),new yi(p,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt));var h,p;return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,p)=>{s=s.insert(h,p)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,c)=>{const d=c.getKey();null===s.get(d)&&(s=s.insert(d,tt.newInvalidDocument(d)))});let a=bl();return s.forEach((u,c)=>{const d=o.get(u);void 0!==d&&Pl(d.mutation,c,Pn.empty(),lt.now()),Al(t,c)&&(a=a.insert(u,c))}),a})}}class Ite{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return R.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:wt(i.createTime)}),R.resolve();var i}getNamedQuery(e,t){return R.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:Xw(i.bundledQuery),readTime:wt(i.readTime)}),R.resolve();var i}}class Ete{constructor(){this.overlays=new Ze(K.comparator),this.Ir=new Map}getOverlay(e,t){return R.resolve(this.overlays.get(t))}getOverlays(e,t){const r=jr();return R.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),R.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,t,r){const i=jr(),o=t.length+1,s=new K(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ze((c,d)=>c-d);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>r){let d=o.get(c.largestBatchId);null===d&&(d=jr(),o=o.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=jr(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return R.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new qw(t,r));let o=this.Ir.get(t);void 0===o&&(o=_e(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}}class wte{constructor(){this.sessionToken=gt.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,R.resolve()}}class sT{constructor(){this.Tr=new je(Ft.Er),this.dr=new je(Ft.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Ft(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new K(new Ee([])),r=new Ft(t,e),i=new Ft(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new K(new Ee([])),r=new Ft(t,e),i=new Ft(t,e+1);let o=_e();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Ft(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return K.comparator(e.key,t.key)||ce(e.wr,t.wr)}static Ar(e,t){return ce(e.wr,t.wr)||K.comparator(e.key,t.key)}}class Tte{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new je(Ft.Er)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.Sr;this.Sr++;const s=new zw(o,t,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new Ft(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,t){return R.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),i=new Ft(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new je(ce);return t.forEach(i=>{const o=new Ft(i,0),s=new Ft(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;K.isDocumentKey(o)||(o=o.child(""));const s=new Ft(new K(o),0);let a=new je(ce);return this.br.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(u.wr)),!0)},s),R.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){ee(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return R.forEach(t.mutations,i=>{const o=new Ft(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Ft(t,0),i=this.br.firstAfterOrEqual(r);return R.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Cte{constructor(e){this.Mr=e,this.docs=new Ze(K.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return R.resolve(r?r.document.mutableCopy():tt.newInvalidDocument(t))}getEntries(e,t){let r=Mn();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():tt.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Mn();const s=t.path,a=new K(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:d}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||Rw(tk(d),r)<=0||(i.has(d.key)||Al(t,d))&&(o=o.insert(d.key,d.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,t,r,i){J()}Or(e,t){return R.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Dte(this)}getSize(e){return R.resolve(this.size)}}class Dte extends mte{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ate{constructor(e){this.persistence=e,this.Nr=new vi(t=>Zo(t),Cl),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sT,this.targetCount=0,this.kr=ss.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),R.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ss(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,R.resolve()}updateTargetData(e,t){return this.Kn(t),R.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return R.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),R.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),R.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return R.resolve(r)}containsKey(e,t){return R.resolve(this.Br.containsKey(t))}}class aT{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Hn(0),this.Kr=!1,this.Kr=!0,this.$r=new wte,this.referenceDelegate=e(this),this.Ur=new Ate(this),this.indexManager=new lte,this.remoteDocumentCache=new Cte(r=>this.referenceDelegate.Wr(r)),this.serializer=new PV(t),this.Gr=new Ite(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ete,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Tte(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){F("MemoryPersistence","Starting transaction:",e);const i=new bte(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class bte extends WX{constructor(e){super(),this.currentSequenceNumber=e}}class Vp{constructor(e){this.persistence=e,this.Jr=new sT,this.Yr=null}static Zr(e){return new Vp(e)}get Xr(){if(this.Yr)return this.Yr;throw J()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),R.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{const i=K.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return R.or([()=>R.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class dT{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=_e(),i=_e();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new dT(e,t.fromCache,r,i)}}class Rte{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class oF{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function hQ(){return!function uQ(){var n;const e=null===(n=$f())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function rk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(Sn())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Rte;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(La()<=Te.DEBUG&&F("QueryEngine","SDK will not create cache indexes for query:",Wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(La()<=Te.DEBUG&&F("QueryEngine","Query:",Wa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(La()<=Te.DEBUG&&F("QueryEngine","The SDK decides to create cache indexes for query:",Wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Xt(t))):R.resolve())}Yi(e,t){if(Uk(t))return R.resolve(null);let r=Xt(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=wp(t,null,"F"),r=Xt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=_e(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ts(t,a);return this.ns(t,c,s,u.readTime)?this.Yi(e,wp(t,null,"F")):this.rs(e,c,t,u)}))})))}Zi(e,t,r,i){return Uk(t)||i.isEqual(te.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(t,o);return this.ns(t,s,r,i)?R.resolve(null):(La()<=Te.DEBUG&&F("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wa(t)),this.rs(e,s,t,function ek(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(1e9===r?new lt(t+1,0):new lt(t,r));return new zn(i,K.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new je(zk(e));return t.forEach((i,o)=>{Al(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return La()<=Te.DEBUG&&F("QueryEngine","Using full collection scan to execute query:",Wa(t)),this.Ji.getDocumentsMatchingQuery(e,t,zn.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class Pte{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new Ze(ce),this._s=new vi(o=>Zo(o),Cl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rF(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function aF(n,e){return hT.apply(this,arguments)}function hT(){return hT=O(function*(n,e){const t=H(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let u=_e();for(const c of i){s.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}for(const c of o){a.push(c.batchId);for(const d of c.mutations)u=u.add(d.key)}return t.localDocuments.getDocuments(r,u).next(c=>({hs:c,removedBatchIds:s,addedBatchIds:a}))})})}),hT.apply(this,arguments)}function uF(n){const e=H(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function Nte(n,e){const t=H(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function ou(n,e,t){return fT.apply(this,arguments)}function fT(){return fT=O(function*(n,e,t){const r=H(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Ji(s))throw s;F("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}),fT.apply(this,arguments)}function Up(n,e,t){const r=H(n);let i=te.min(),o=_e();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,d){const h=H(u),p=h._s.get(d);return void 0!==p?R.resolve(h.os.get(p)):h.Ur.getTargetData(c,d)}(r,s,Xt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:_e())).next(a=>(function hF(n,e,t){let r=n.us.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}(r,function Gk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:o})))}class yT{constructor(){this.activeTargetIds=function jw(){return Nee}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gF{constructor(){this.so=new yT,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new yT,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Vte{_o(e){}shutdown(){}}class mF{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){F("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){F("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let $p=null;function IT(){return null===$p?$p=268435456+Math.round(2147483648*Math.random()):$p++,"0x"+$p.toString(16)}const Fte={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Lte{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const tn="WebChannelConnection";class Ute extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){const a=IT(),u=this.xo(t,r.toUriEncodedString());F("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);const c={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(c,o,s),this.No(t,u,c,i).then(d=>(F("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw Gn("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",u,"request:",i),d})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Fa,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){return`${this.Do}/v1/${r}:${Fte[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const o=IT();return new Promise((s,a)=>{const u=new GO;u.setWithCredentials(!0),u.listenOnce(HO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case lp.NO_ERROR:const d=u.getResponseJson();F(tn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(d)),s(d);break;case lp.TIMEOUT:F(tn,`RPC '${e}' ${o} timed out`),a(new L(x.DEADLINE_EXCEEDED,"Request time out"));break;case lp.HTTP_ERROR:const h=u.getStatus();if(F(tn,`RPC '${e}' ${o} failed with status:`,h,"response text:",u.getResponseText()),h>0){let p=u.getResponseJson();Array.isArray(p)&&(p=p[0]);const m=p?.error;if(m&&m.status&&m.message){const y=function(E){const P=E.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(P)>=0?P:x.UNKNOWN}(m.status);a(new L(y,m.message))}else a(new L(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new L(x.UNAVAILABLE,"Connection failed."));break;default:J()}}finally{F(tn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(i);F(tn,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",c,r,15)})}Bo(e,t,r){const i=IT(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=KO(),a=WO(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new zO({})),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;const d=o.join("");F(tn,`Creating RPC '${e}' stream ${i}: ${d}`,u);const h=s.createWebChannel(d,u);let p=!1,m=!1;const y=new Lte({Io:E=>{m?F(tn,`Not sending because RPC '${e}' stream ${i} is closed:`,E):(p||(F(tn,`Opening RPC '${e}' stream ${i} transport.`),h.open(),p=!0),F(tn,`RPC '${e}' stream ${i} sending:`,E),h.send(E))},To:()=>h.close()}),I=(E,P,D)=>{E.listen(P,k=>{try{D(k)}catch(j){setTimeout(()=>{throw j},0)}})};return I(h,pl.EventType.OPEN,()=>{m||(F(tn,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),I(h,pl.EventType.CLOSE,()=>{m||(m=!0,F(tn,`RPC '${e}' stream ${i} transport closed`),y.So())}),I(h,pl.EventType.ERROR,E=>{m||(m=!0,Gn(tn,`RPC '${e}' stream ${i} transport errored:`,E),y.So(new L(x.UNAVAILABLE,"The operation could not be completed")))}),I(h,pl.EventType.MESSAGE,E=>{var P;if(!m){const D=E.data[0];ee(!!D);const j=D.error||(null===(P=D[0])||void 0===P?void 0:P.error);if(j){F(tn,`RPC '${e}' stream ${i} received error:`,j);const Y=j.status;let ne=function(w){const A=bt[w];if(void 0!==A)return uV(A)}(Y),C=j.message;void 0===ne&&(ne=x.INTERNAL,C="Unknown error status: "+Y+" with message "+j.message),m=!0,y.So(new L(ne,C)),h.close()}else F(tn,`RPC '${e}' stream ${i} received:`,D),y.bo(D)}}),I(a,qO.STAT_EVENT,E=>{E.stat===Aw.PROXY?F(tn,`RPC '${e}' stream ${i} detected buffering proxy`):E.stat===Aw.NOPROXY&&F(tn,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Gp(){return typeof document<"u"?document:null}function Gl(n){return new qee(n,!0)}class ET{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&F("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class yF{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new ET(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return O(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return O(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return O(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===x.RESOURCE_EXHAUSTED?(Et(t.toString()),Et("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===x.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new L(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go(O(function*(){e.state=0,e.start()}))}I_(e){return F("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(F("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Bte extends yF{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function Qee(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:J(),i=e.targetChange.targetIds||[],o=function(c,d){return c.useProto3Json?(ee(void 0===d||"string"==typeof d),gt.fromBase64String(d||"")):(ee(void 0===d||d instanceof Buffer||d instanceof Uint8Array),gt.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const d=void 0===c.code?x.UNKNOWN:uV(c.code);return new L(d,c.message||"")}(s);t=new fV(r,i,o,a||null)}else if("documentChange"in e){const r=e.documentChange,i=$r(n,r.document.name),o=wt(r.document.updateTime),s=r.document.createTime?wt(r.document.createTime):te.min(),a=new qt({mapValue:{fields:r.document.fields}}),u=tt.newFoundDocument(i,o,s,a);t=new bp(r.targetIds||[],r.removedTargetIds||[],u.key,u)}else if("documentDelete"in e){const r=e.documentDelete,i=$r(n,r.document),o=r.readTime?wt(r.readTime):te.min(),s=tt.newNoDocument(i,o);t=new bp([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const r=e.documentRemove,i=$r(n,r.document);t=new bp([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return J();{const r=e.filter,{count:i=0,unchangedNames:o}=r,s=new Bee(i,o);t=new hV(r.targetId,s)}}var c;return t}(this.serializer,e),r=function(o){if(!("targetChange"in o))return te.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?wt(s.readTime):te.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=Jw(this.serializer),t.addTarget=function(o,s){let a;const u=s.target;if(a=Ip(u)?{documents:CV(o,u)}:{query:Sp(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=_V(o,s.resumeToken);const c=Kw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=Za(o,s.snapshotVersion.toTimestamp());const c=Kw(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const r=function Jee(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return J()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=Jw(this.serializer),t.removeTarget=e,this.a_(t)}}class jte extends yF{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return ee(!!e.streamToken),this.lastStreamToken=e.streamToken,ee(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){ee(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function Yee(n,e){return n&&n.length>0?(ee(void 0!==e),n.map(t=>function(i,o){let s=wt(i.updateTime?i.updateTime:o);return s.isEqual(te.min())&&(s=wt(o)),new Fee(s,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=wt(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=Jw(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function kl(n,e){let t;if(e instanceof Ya)t={update:wV(n,e.key,e.value)};else if(e instanceof Ja)t={delete:Ol(n,e.key)};else if(e instanceof Ii)t={update:wV(n,e.key,e.data),updateMask:tte(e.fieldMask)};else{if(!(e instanceof Gw))return J();t={verify:Ol(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof Ka)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Qa)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw J()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Wee(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:J()),t;var o}(this.serializer,r))};this.a_(t)}}class $te extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Yw(t,r),i,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new L(x.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,Yw(t,r),i,s,a,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new L(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class Gte{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Et(t),this.D_=!1):F("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class zte{constructor(e,t,r,i,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(O(function*(){var u;ao(s)&&(F("RemoteStore","Restarting streams for network reachability change."),yield(u=O(function*(d){const h=H(d);h.L_.add(4),yield su(h),h.q_.set("Unknown"),h.L_.delete(4),yield zl(h)}),function c(d){return u.apply(this,arguments)})(s))}))}),this.q_=new Gte(r,i)}}function zl(n){return wT.apply(this,arguments)}function wT(){return wT=O(function*(n){if(ao(n))for(const e of n.B_)yield e(!0)}),wT.apply(this,arguments)}function su(n){return TT.apply(this,arguments)}function TT(){return TT=O(function*(n){for(const e of n.B_)yield e(!1)}),TT.apply(this,arguments)}function zp(n,e){const t=H(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),AT(t)?DT(t):cu(t).r_()&&CT(t,e))}function au(n,e){const t=H(n),r=cu(t);t.N_.delete(e),r.r_()&&vF(t,e),0===t.N_.size&&(r.r_()?r.o_():ao(t)&&t.q_.set("Unknown"))}function CT(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}cu(n).A_(e)}function vF(n,e){n.Q_.xe(e),cu(n).R_(e)}function DT(n){n.Q_=new $ee({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),cu(n).start(),n.q_.v_()}function AT(n){return ao(n)&&!cu(n).n_()&&n.N_.size>0}function ao(n){return 0===H(n).L_.size}function IF(n){n.Q_=void 0}function Hte(n){return bT.apply(this,arguments)}function bT(){return bT=O(function*(n){n.q_.set("Online")}),bT.apply(this,arguments)}function qte(n){return ST.apply(this,arguments)}function ST(){return ST=O(function*(n){n.N_.forEach((e,t)=>{CT(n,e)})}),ST.apply(this,arguments)}function Wte(n,e){return RT.apply(this,arguments)}function RT(){return RT=O(function*(n,e){IF(n),AT(n)?(n.q_.M_(e),DT(n)):n.q_.set("Unknown")}),RT.apply(this,arguments)}function Kte(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=O(function*(n,e,t){if(n.q_.set("Online"),e instanceof fV&&2===e.state&&e.cause)try{yield(r=O(function*(o,s){const a=s.cause;for(const u of s.targetIds)o.N_.has(u)&&(yield o.remoteSyncer.rejectListen(u,a),o.N_.delete(u),o.Q_.removeTarget(u))}),function i(o,s){return r.apply(this,arguments)})(n,e)}catch(r){F("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Hp(n,r)}else if(e instanceof bp?n.Q_.Ke(e):e instanceof hV?n.Q_.He(e):n.Q_.We(e),!t.isEqual(te.min()))try{const r=yield uF(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const d=o.N_.get(c);d&&o.N_.set(c,d.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,c)=>{const d=o.N_.get(u);if(!d)return;o.N_.set(u,d.withResumeToken(gt.EMPTY_BYTE_STRING,d.snapshotVersion)),vF(o,u);const h=new Ei(d.target,u,c,d.sequenceNumber);CT(o,h)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){F("RemoteStore","Failed to raise snapshot:",r),yield Hp(n,r)}var r}),PT.apply(this,arguments)}function Hp(n,e,t){return MT.apply(this,arguments)}function MT(){return MT=O(function*(n,e,t){if(!Ji(e))throw e;n.L_.add(1),yield su(n),n.q_.set("Offline"),t||(t=()=>uF(n.localStore)),n.asyncQueue.enqueueRetryable(O(function*(){F("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield zl(n)}))}),MT.apply(this,arguments)}function EF(n,e){return e().catch(t=>Hp(n,t,e))}function uu(n){return xT.apply(this,arguments)}function xT(){return xT=O(function*(n){const e=H(n),t=uo(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Qte(e);)try{const i=yield Nte(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,Yte(e,i)}catch(i){yield Hp(e,i)}wF(e)&&TF(e)}),xT.apply(this,arguments)}function Qte(n){return ao(n)&&n.O_.length<10}function Yte(n,e){n.O_.push(e);const t=uo(n);t.r_()&&t.V_&&t.m_(e.mutations)}function wF(n){return ao(n)&&!uo(n).n_()&&n.O_.length>0}function TF(n){uo(n).start()}function Jte(n){return NT.apply(this,arguments)}function NT(){return NT=O(function*(n){uo(n).p_()}),NT.apply(this,arguments)}function Zte(n){return OT.apply(this,arguments)}function OT(){return OT=O(function*(n){const e=uo(n);for(const t of n.O_)e.m_(t.mutations)}),OT.apply(this,arguments)}function Xte(n,e,t){return kT.apply(this,arguments)}function kT(){return kT=O(function*(n,e,t){const r=n.O_.shift(),i=Hw.from(r,e,t);yield EF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield uu(n)}),kT.apply(this,arguments)}function ene(n,e){return VT.apply(this,arguments)}function VT(){return VT=O(function*(n,e){var t;e&&uo(n).V_&&(yield(t=O(function*(i,o){if(function aV(n){switch(n){default:return J();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}(a=o.code)&&a!==x.ABORTED){const s=i.O_.shift();uo(i).s_(),yield EF(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield uu(i)}var a}),function r(i,o){return t.apply(this,arguments)})(n,e)),wF(n)&&TF(n)}),VT.apply(this,arguments)}function CF(n,e){return FT.apply(this,arguments)}function FT(){return FT=O(function*(n,e){const t=H(n);t.asyncQueue.verifyOperationInProgress(),F("RemoteStore","RemoteStore received new credentials");const r=ao(t);t.L_.add(3),yield su(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield zl(t)}),FT.apply(this,arguments)}function UT(){return UT=O(function*(n,e){const t=H(n);e?(t.L_.delete(2),yield zl(t)):e||(t.L_.add(2),yield su(t),t.q_.set("Unknown"))}),UT.apply(this,arguments)}function cu(n){return n.K_||(n.K_=function(t,r,i){const o=H(t);return o.w_(),new Bte(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:Hte.bind(null,n),Ro:qte.bind(null,n),mo:Wte.bind(null,n),d_:Kte.bind(null,n)}),n.B_.push(function(){var e=O(function*(t){t?(n.K_.s_(),AT(n)?DT(n):n.q_.set("Unknown")):(yield n.K_.stop(),IF(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function uo(n){return n.U_||(n.U_=function(t,r,i){const o=H(t);return o.w_(),new jte(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Jte.bind(null,n),mo:ene.bind(null,n),f_:Zte.bind(null,n),g_:Xte.bind(null,n)}),n.B_.push(function(){var e=O(function*(t){t?(n.U_.s_(),yield uu(n)):(yield n.U_.stop(),n.O_.length>0&&(F("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class BT{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new xt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const s=Date.now()+r,a=new BT(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lu(n,e){if(Et("AsyncQueue",`${e}: ${n}`),Ji(n))return new L(x.UNAVAILABLE,`${e}: ${n}`);throw n}class du{constructor(e){this.comparator=e?(t,r)=>e(t,r)||K.comparator(t.key,r.key):(t,r)=>K.comparator(t.key,r.key),this.keyedMap=bl(),this.sortedSet=new Ze(this.comparator)}static emptySet(e){return new du(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof du)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new du;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class DF{constructor(){this.W_=new Ze(K.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):J():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class hu{constructor(e,t,r,i,o,s,a,u,c){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,t,r,i,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new hu(e,t,du.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class tne{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class nne{constructor(){this.queries=AF(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=H(t),o=i.queries;i.queries=AF(),o.forEach((s,a)=>{for(const u of a.j_)u.onError(r)})}(this,new L(x.ABORTED,"Firestore shutting down"))}}function AF(){return new vi(n=>$k(n),Dl)}function $T(){return $T=O(function*(n,e){const t=H(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new tne,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){const a=lu(s,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&HT(t)}),$T.apply(this,arguments)}function zT(){return zT=O(function*(n,e){const t=H(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),0===o.j_.length?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}),zT.apply(this,arguments)}function rne(n,e){const t=H(n);let r=!1;for(const i of e){const s=t.queries.get(i.query);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&HT(t)}function ine(n,e,t){const r=H(n),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(t);r.queries.delete(e)}function HT(n){n.Y_.forEach(e=>{e.next()})}var qT,bF;(bF=qT||(qT={})).ea="default",bF.Cache="cache";class WT{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new hu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=hu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==qT.Cache}}class PF{constructor(e){this.key=e}}class MF{constructor(e){this.key=e}}class xF{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=_e(),this.mutatedKeys=_e(),this.Aa=zk(e),this.Ra=new du(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new DF,i=t?t.Ra:this.Ra;let o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1;const u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const p=i.get(d),m=Al(this.query,h)?h:null,y=!!p&&this.mutatedKeys.has(p.key),I=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let E=!1;p&&m?p.data.isEqual(m.data)?y!==I&&(r.track({type:3,doc:m}),E=!0):this.ga(p,m)||(r.track({type:2,doc:m}),E=!0,(u&&this.Aa(m,u)>0||c&&this.Aa(m,c)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),E=!0):p&&!m&&(r.track({type:1,doc:p}),E=!0,(u||c)&&(a=!0)),E&&(m?(s=s.add(m),o=I?o.add(d):o.delete(d)):(s=s.delete(d),o=o.delete(d)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const d="F"===this.query.limitType?s.last():s.first();s=s.delete(d.key),o=o.delete(d.key),r.track({type:1,doc:d})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((d,h)=>function(m,y){const I=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return J()}};return I(m)-I(y)}(d.type,h.type)||this.Aa(d.doc,h.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],u=0===this.da.size&&this.current&&!i?1:0,c=u!==this.Ea;return this.Ea=u,0!==s.length||c?{snapshot:new hu(this.query,e.Ra,o,s,e.mutatedKeys,0===u,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new DF,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=_e(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new MF(r))}),this.da.forEach(r=>{e.has(r)||t.push(new PF(r))}),t}ba(e){this.Ta=e.Ts,this.da=_e();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return hu.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class ane{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class une{constructor(e){this.key=e,this.va=!1}}class cne{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new vi(a=>$k(a),Dl),this.Ma=new Map,this.xa=new Set,this.Oa=new Ze(K.comparator),this.Na=new Map,this.La=new sT,this.Ba={},this.ka=new Map,this.qa=ss.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function lne(n,e){return KT.apply(this,arguments)}function KT(){return KT=O(function*(n,e,t=!0){const r=qp(n);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield NF(r,e,t,!0),i}),KT.apply(this,arguments)}function dne(n,e){return QT.apply(this,arguments)}function QT(){return QT=O(function*(n,e){const t=qp(n);yield NF(t,e,!0,!1)}),QT.apply(this,arguments)}function NF(n,e,t,r){return YT.apply(this,arguments)}function YT(){return YT=O(function*(n,e,t,r){const i=yield function iu(n,e){const t=H(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,R.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new Ei(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,Xt(e)),o=i.targetId,s=t?n.sharedClientState.addLocalQueryTarget(o):"not-current";let a;return r&&(a=yield function JT(n,e,t,r,i){return ZT.apply(this,arguments)}(n,e,o,"current"===s,i.resumeToken)),n.isPrimaryClient&&t&&zp(n.remoteStore,i),a}),YT.apply(this,arguments)}function ZT(){return ZT=O(function*(n,e,t,r,i){n.Ka=(h,p,m)=>{return(y=O(function*(E,P,D,k){let j=P.view.ma(D);j.ns&&(j=yield Up(E.localStore,P.query,!1).then(({documents:v})=>P.view.ma(v,j)));const Y=k&&k.targetChanges.get(P.targetId),ne=k&&null!=k.targetMismatches.get(P.targetId),C=P.view.applyChanges(j,E.isPrimaryClient,Y,ne);return cC(E,P.targetId,C.wa),C.snapshot}),function I(E,P,D,k){return y.apply(this,arguments)})(n,h,p,m);var y};const o=yield Up(n.localStore,e,!0),s=new xF(e,o.Ts),a=s.ma(o.documents),u=Nl.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),c=s.applyChanges(a,n.isPrimaryClient,u);cC(n,t,c.wa);const d=new ane(e,t,s);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),c.snapshot}),ZT.apply(this,arguments)}function hne(n,e,t){return XT.apply(this,arguments)}function XT(){return XT=O(function*(n,e,t){const r=H(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Dl(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ou(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&au(r.remoteStore,i.targetId),fu(r,i.targetId)}).catch(Yi))):(fu(r,i.targetId),yield ou(r.localStore,i.targetId,!0))}),XT.apply(this,arguments)}function fne(n,e){return eC.apply(this,arguments)}function eC(){return eC=O(function*(n,e){const t=H(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),au(t.remoteStore,r.targetId))}),eC.apply(this,arguments)}function tC(){return tC=O(function*(n,e,t){const r=function IC(n){const e=H(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mne.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_ne.bind(null,e),e}(n);try{const i=yield function(s,a){const u=H(s),c=lt.now(),d=a.reduce((m,y)=>m.add(y.key),_e());let h,p;return u.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Mn(),I=_e();return u.cs.getEntries(m,d).next(E=>{y=E,y.forEach((P,D)=>{D.isValidDocument()||(I=I.add(P))})}).next(()=>u.localDocuments.getOverlayedDocuments(m,y)).next(E=>{h=E;const P=[];for(const D of a){const k=Uee(D,h.get(D.key).overlayedDocument);null!=k&&P.push(new Ii(D.key,k,Ak(k.value.mapValue),at.exists(!0)))}return u.mutationQueue.addMutationBatch(m,c,P,a)}).next(E=>{p=E;const P=E.applyToLocalDocumentSet(h,I);return u.documentOverlayCache.saveOverlays(m,E.batchId,P)})}).then(()=>({batchId:p.batchId,changes:qk(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let c=s.Ba[s.currentUser.toKey()];c||(c=new Ze(ce)),c=c.insert(a,u),s.Ba[s.currentUser.toKey()]=c}(r,i.batchId,t),yield wi(r,i.changes),yield uu(r.remoteStore)}catch(i){const o=lu(i,"Failed to persist write");t.reject(o)}}),tC.apply(this,arguments)}function OF(n,e){return nC.apply(this,arguments)}function nC(){return nC=O(function*(n,e){const t=H(n);try{const r=yield function xte(n,e){const t=H(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((d,h)=>{const p=i.get(h);if(!p)return;a.push(t.Ur.removeMatchingKeys(o,d.removedDocuments,h).next(()=>t.Ur.addMatchingKeys(o,d.addedDocuments,h)));let m=p.withSequenceNumber(o.currentSequenceNumber);var I,E,P;null!==e.targetMismatches.get(h)?m=m.withResumeToken(gt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),E=m,P=d,(0===(I=p).resumeToken.approximateByteSize()||E.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=3e8||P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(o,m))});let u=Mn(),c=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,d))}),a.push(function cF(n,e,t){let r=_e(),i=_e();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Mn();return t.forEach((a,u)=>{const c=o.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||0===u.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):F("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{Ps:s,Is:i}})}(o,s,e.documentUpdates).next(d=>{u=d.Ps,c=d.Is})),!r.isEqual(te.min())){const d=t.Ur.getLastRemoteSnapshotVersion(o).next(h=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(d)}return R.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,c)).next(()=>u)}).then(o=>(t.os=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const s=t.Na.get(o);s&&(ee(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ee(s.va):i.removedDocuments.size>0&&(ee(s.va),s.va=!1))}),yield wi(t,r,e)}catch(r){yield Yi(r)}}),nC.apply(this,arguments)}function kF(n,e,t){const r=H(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const u=H(s);u.onlineState=a;let c=!1;u.queries.forEach((d,h)=>{for(const p of h.j_)p.Z_(a)&&(c=!0)}),c&&HT(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gne(n,e,t){return rC.apply(this,arguments)}function rC(){return rC=O(function*(n,e,t){const r=H(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ze(K.comparator);s=s.insert(o,tt.newNoDocument(o,te.min()));const a=_e().add(o),u=new xl(te.min(),new Map,new Ze(ce),s,a);yield OF(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),lC(r)}else yield ou(r.localStore,e,!1).then(()=>fu(r,e,t)).catch(Yi)}),rC.apply(this,arguments)}function mne(n,e){return iC.apply(this,arguments)}function iC(){return iC=O(function*(n,e){const t=H(n),r=e.batch.batchId;try{const i=yield function Mte(n,e){const t=H(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,c,d){const h=c.batch,p=h.keys();let m=R.resolve();return p.forEach(y=>{m=m.next(()=>d.getEntry(u,y)).next(I=>{const E=c.docVersions.get(y);ee(null!==E),I.version.compareTo(E)<0&&(h.applyToRemoteDocument(I,c),I.isValidDocument()&&(I.setReadTime(c.commitVersion),d.addEntry(I)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(u,h))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=_e();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(u=u.add(a.batch.mutations[c].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);uC(t,r,null),aC(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wi(t,i)}catch(i){yield Yi(i)}}),iC.apply(this,arguments)}function _ne(n,e,t){return oC.apply(this,arguments)}function oC(){return oC=O(function*(n,e,t){const r=H(n);try{const i=yield function(s,a){const u=H(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return u.mutationQueue.lookupMutationBatch(c,a).next(h=>(ee(null!==h),d=h.keys(),u.mutationQueue.removeMutationBatch(c,h))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>u.localDocuments.getDocuments(c,d))})}(r.localStore,e);uC(r,e,t),aC(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wi(r,i)}catch(i){yield Yi(i)}}),oC.apply(this,arguments)}function aC(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function uC(n,e,t){const r=H(n);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function fu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||VF(n,r)})}function VF(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(au(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),lC(n))}function cC(n,e,t){for(const r of t)r instanceof PF?(n.La.addReference(r.key,e),vne(n,r)):r instanceof MF?(F("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||VF(n,r.key)):J()}function vne(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(F("SyncEngine","New document in limbo: "+t),n.xa.add(r),lC(n))}function lC(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new K(Ee.fromString(e)),r=n.qa.next();n.Na.set(r,new une(t)),n.Oa=n.Oa.insert(t,r),zp(n.remoteStore,new Ei(Xt(Ha(t.path)),r,"TargetPurposeLimboResolution",Hn.oe))}}function wi(n,e,t){return dC.apply(this,arguments)}function dC(){return dC=O(function*(n,e,t){const r=H(n),i=[],o=[],s=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(c=>{var d;if((c||t)&&r.isPrimaryClient){const h=c?!c.fromCache:null===(d=t?.targetChanges.get(u.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(u.targetId,h?"current":"not-current")}if(c){i.push(c);const h=dT.Wi(u.targetId,c);o.push(h)}}))}),yield Promise.all(s),r.Ca.d_(i),yield(a=O(function*(c,d){const h=H(c);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>R.forEach(d,m=>R.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>R.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Ji(p))throw p;F("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const m=p.targetId;if(!p.fromCache){const y=h.os.get(m),E=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);h.os=h.os.insert(m,E)}}}),function u(c,d){return a.apply(this,arguments)})(r.localStore,o))}),dC.apply(this,arguments)}function Ine(n,e){return hC.apply(this,arguments)}function hC(){return hC=O(function*(n,e){const t=H(n);if(!t.currentUser.isEqual(e)){F("SyncEngine","User change. New user:",e.toKey());const r=yield aF(t.localStore,e);t.currentUser=e,(o=t).ka.forEach(a=>{a.forEach(u=>{u.reject(new L(x.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wi(t,r.hs)}var o}),hC.apply(this,arguments)}function Ene(n,e){const t=H(n),r=t.Na.get(e);if(r&&r.va)return _e().add(r.key);{let i=_e();const o=t.Ma.get(e);if(!o)return i;for(const s of o){const a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function qp(n){const e=H(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=OF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ene.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gne.bind(null,e),e.Ca.d_=rne.bind(null,e.eventManager),e.Ca.$a=ine.bind(null,e.eventManager),e}class Wp{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return O(function*(){t.serializer=Gl(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function sF(n,e,t,r){return new Pte(n,e,t,r)}(this.persistence,new oF,e.initialUser,this.serializer)}createPersistence(e){return new aT(Vp.Zr,this.serializer)}createSharedClientState(e){return new gF}terminate(){var e=this;return O(function*(){var t,r;null===(t=e.gcScheduler)||void 0===t||t.stop(),null===(r=e.indexBackfillerScheduler)||void 0===r||r.stop(),e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pu{initialize(e,t){var r=this;return O(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>kF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=Ine.bind(null,r.syncEngine),yield function LT(n,e){return UT.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new nne}createDatastore(e){const t=Gl(e.databaseInfo.databaseId),r=new Ute(e.databaseInfo);return new $te(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return r=this.localStore,i=this.datastore,o=e.asyncQueue,s=t=>kF(this.syncEngine,t,0),a=mF.D()?new mF:new Vte,new zte(r,i,o,s,a);var r,i,o,s,a}createSyncEngine(e,t){return function(i,o,s,a,u,c,d){const h=new cne(i,o,s,a,u,c);return d&&(h.Qa=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){var e=this;return O(function*(){var t,r,i;yield(i=O(function*(s){const a=H(s);F("RemoteStore","RemoteStore shutting down."),a.L_.add(5),yield su(a),a.k_.shutdown(),a.q_.set("Unknown")}),function o(s){return i.apply(this,arguments)})(e.remoteStore),null===(t=e.datastore)||void 0===t||t.terminate(),null===(r=e.eventManager)||void 0===r||r.terminate()})()}}class Kp{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):Et("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class One{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Vt.UNAUTHENTICATED,this.clientId=ZO.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var s=O(function*(a){F("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(r,s=>(F("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(O(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=lu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function Qp(n,e){return EC.apply(this,arguments)}function EC(){return EC=O(function*(n,e){n.asyncQueue.verifyOperationInProgress(),F("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=O(function*(o){r.isEqual(o)||(yield aF(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),EC.apply(this,arguments)}function wC(n,e){return TC.apply(this,arguments)}function TC(){return TC=O(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function CC(n){return DC.apply(this,arguments)}(n);F("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>CF(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>CF(e.remoteStore,i)),n._onlineComponents=e}),TC.apply(this,arguments)}function DC(){return DC=O(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){F("FirestoreClient","Using user provided OfflineComponentProvider");try{yield Qp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function $F(n){return"FirebaseError"===n.name?n.code===x.FAILED_PRECONDITION||n.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;Gn("Error using user provided cache. Falling back to memory cache: "+t),yield Qp(n,new Wp)}}else F("FirestoreClient","Using default OfflineComponentProvider"),yield Qp(n,new Wp);return n._offlineComponents}),DC.apply(this,arguments)}function Yp(n){return AC.apply(this,arguments)}function AC(){return AC=O(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(F("FirestoreClient","Using user provided OnlineComponentProvider"),yield wC(n,n._uninitializedComponentsProvider._online)):(F("FirestoreClient","Using default OnlineComponentProvider"),yield wC(n,new pu))),n._onlineComponents}),AC.apply(this,arguments)}function mu(n){return SC.apply(this,arguments)}function SC(){return SC=O(function*(n){const e=yield Yp(n),t=e.eventManager;return t.onListen=lne.bind(null,e.syncEngine),t.onUnlisten=hne.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dne.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=fne.bind(null,e.syncEngine),t}),SC.apply(this,arguments)}function KF(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const QF=new Map;function RC(n,e,t){if(!t)throw new L(x.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function YF(n){if(!K.isDocumentKey(n))throw new L(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function JF(n){if(K.isDocumentKey(n))throw new L(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jp(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":J()}function ye(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new L(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jp(n);throw new L(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class XF{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new L(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new L(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function qne(n,e,t,r){if(!0===e&&!0===r)throw new L(x.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=KF(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new L(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hl{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XF(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new FX;switch(r.type){case"firstParty":return new jX(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new L(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=QF.get(t);r&&(F("ComponentProvider","Removing Datastore"),QF.delete(t),r.terminate())}(this),Promise.resolve()}}class Wt{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wt(this.firestore,e,this._query)}}class Tt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tt(this.firestore,e,this._key)}}class Gr extends Wt{constructor(e,t,r){super(e,t,Ha(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tt(this.firestore,null,new K(e))}withConverter(e){return new Gr(this.firestore,e,this._path)}}function Kne(n,e,...t){if(n=Vr(n),RC("collection","path",e),n instanceof Hl){const r=Ee.fromString(e,...t);return JF(r),new Gr(n,null,r)}{if(!(n instanceof Tt||n instanceof Gr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return JF(r),new Gr(n.firestore,null,r)}}class Yne{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new ET(this,"async_queue_retry"),this.Eu=()=>{const t=Gp();t&&F("AsyncQueue","Visibility state changed to "+t.visibilityState),this.t_.jo()};const e=Gp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const t=Gp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const t=new xt;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){var e=this;return O(function*(){if(0!==e.uu.length){try{yield e.uu[0](),e.uu.shift(),e.t_.reset()}catch(t){if(!Ji(t))throw t;F("AsyncQueue","Operation failed with retryable error: "+t)}e.uu.length>0&&e.t_.Go(()=>e.Ru())}})()}Au(e){const t=this.au.then(()=>(this.Pu=!0,e().catch(r=>{throw this.hu=r,this.Pu=!1,Et("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(r)),r}).then(r=>(this.Pu=!1,r))));return this.au=t,t}enqueueAfterDelay(e,t,r){this.du(),this.Tu.indexOf(e)>-1&&(t=0);const i=BT.createAndSchedule(this,e,t,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&J()}verifyOperationInProgress(){}mu(){var e=this;return O(function*(){let t;do{t=e.au,yield t}while(t!==e.au)})()}fu(e){for(const t of this.lu)if(t.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.lu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const t=this.lu.indexOf(e);this.lu.splice(t,1)}}function PC(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const o of["next","error","complete"])if(o in i&&"function"==typeof i[o])return!0;return!1}(n)}class $e extends Hl{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Yne,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||tL(this),this._firestoreClient.terminate()}}function Zne(n,e){const r="string"==typeof n?n:e||"(default)",i=function _N(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}("object"==typeof n?n:vN(),"firestore").getImmediate({identifier:r});if(!i._initialized){const o=(n=>{const e=(n=>{var e,t;return null===(t=null===(e=$f())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]})(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]})("firestore");o&&function Wne(n,e,t,r={}){var i;const o=(n=ye(n,Hl))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&Gn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if("string"==typeof r.mockUserToken)a=r.mockUserToken,u=Vt.MOCK_USER;else{a=function sQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bf(JSON.stringify({alg:"none",type:"JWT"})),Bf(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new L(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Vt(c)}n._authCredentials=new LX(new YO(a,u))}}(i,...o)}return i}function dt(n){return n._firestoreClient||tL(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function tL(n){var e,t,r;const i=n._freezeSettings(),o=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new yee(n._databaseId,u,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,KF(d.experimentalLongPollingOptions),d.useFetchStreams));var u,d;n._firestoreClient=new One(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.localCache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class us{constructor(e){this._byteString=e}static fromBase64String(e){try{return new us(gt.fromBase64String(e))}catch(t){throw new L(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new us(gt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _u{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new L(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class iL{constructor(e){this._methodName=e}}class MC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}}class Zp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}const ere=/^__.*__$/;class tre{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Ii(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ya(e,this.data,t,this.fieldTransforms)}}function sL(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J()}}class Xp{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new Xp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return tg(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(0===e.length)throw this.Mu("Document fields must not be empty");if(sL(this.wu)&&ere.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}}class nre{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Gl(e)}Nu(e,t,r,i=!1){return new Xp({wu:e,methodName:t,Ou:r,path:ot.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yu(n){const e=n._freezeSettings(),t=Gl(n._databaseId);return new nre(n._databaseId,!!e.ignoreUndefinedProperties,t)}function xC(n,e,t,r,i,o={}){const s=n.Nu(o.merge||o.mergeFields?2:0,e,t,i);FC("Data must be an object, but it was:",s,r);const a=dL(r,s);let u,c;if(o.merge)u=new Pn(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const d=[];for(const h of o.mergeFields){const p=Kl(e,h,t);if(!s.contains(p))throw new L(x.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);fL(d,p)||d.push(p)}u=new Pn(d),c=s.fieldTransforms.filter(h=>u.covers(h.field))}else u=null,c=s.fieldTransforms;return new tre(new qt(a),u,c)}function cs(n,e){if(hL(n=Vr(n)))return FC("Unsupported field value:",e,n),dL(n,e);if(n instanceof iL)return function(r,i){if(!sL(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Du&&4!==e.wu)throw e.Mu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let u=cs(a,i.Fu(s));null==u&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if(null===(r=Vr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Qk(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const o=lt.fromDate(r);return{timestampValue:Za(i.serializer,o)}}if(r instanceof lt){const o=new lt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Za(i.serializer,o)}}if(r instanceof MC)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof us)return{bytesValue:_V(i.serializer,r._byteString)};if(r instanceof Tt){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Qw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Zp)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(u=>{if("number"!=typeof u)throw a.Mu("VectorValues must only contain numeric values.");return $w(a.serializer,u)})}}}}};var a;throw i.Mu(`Unsupported field value: ${Jp(r)}`)}(n,e)}function dL(n,e){const t={};return gk(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(n,(r,i)=>{const o=cs(i,e.bu(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function hL(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof lt||n instanceof MC||n instanceof us||n instanceof Tt||n instanceof iL||n instanceof Zp)}function FC(n,e,t){if(!hL(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=Jp(t);throw e.Mu("an object"===r?n+" a custom object":n+" "+r)}var i}function Kl(n,e,t){if((e=Vr(e))instanceof _u)return e._internalPath;if("string"==typeof e)return eg(n,e);throw tg("Field path arguments must be of type string or ",n,!1,void 0,t)}const rre=new RegExp("[~\\*/\\[\\]]");function eg(n,e,t){if(e.search(rre)>=0)throw tg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new _u(...e.split("."))._internalPath}catch{throw tg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function tg(n,e,t,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new L(x.INVALID_ARGUMENT,a+n+u)}function fL(n,e){return n.some(t=>t.isEqual(e))}class LC{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new ire(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class ire extends LC{data(){return super.data()}}function ng(n,e){return"string"==typeof e?eg(n,e):e instanceof _u?e._internalPath:e._delegate._internalPath}class sre{convertValue(e,t="none"){switch(eo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return st(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_i(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw J()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Zi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(s=>st(s.doubleValue));return new Zp(o)}convertGeoPoint(e){return new MC(st(e.latitude),st(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=gp(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(vl(e));default:return null}}convertTimestamp(e){const t=mi(e);return new lt(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ee.fromString(e);ee(RV(r));const i=new Yo(r.get(1),r.get(3)),o=new K(r.popFirst(5));return i.isEqual(t)||Et(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class ls{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Iu extends LC{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(ng("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class sg extends Iu{data(e={}){return super.data(e)}}class Eu{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new sg(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new sg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:s++}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const u=new sg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),d=s.indexOf(a.doc.key)),{type:ure(a.type),doc:u,oldIndex:c,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ure(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J()}}class co extends sre{constructor(e){super(),this.firestore=e}convertBytes(e){return new us(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tt(this.firestore,null,t)}}function cre(n,e){const t=ye(n.firestore,$e),r=function Qne(n,e,...t){if(n=Vr(n),1===arguments.length&&(e=ZO.newId()),RC("doc","path",e),n instanceof Hl){const r=Ee.fromString(e,...t);return YF(r),new Tt(n,null,new K(r))}{if(!(n instanceof Tt||n instanceof Gr))throw new L(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ee.fromString(e,...t));return YF(r),new Tt(n.firestore,n instanceof Gr?n.converter:null,new K(r))}}(n),i=function BC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Yl(n,e){return function(r,i){const o=new xt;return r.asyncQueue.enqueueAndForget(O(function*(){return function pne(n,e,t){return tC.apply(this,arguments)}(yield function bC(n){return Yp(n).then(e=>e.syncEngine)}(r),i,o)})),o.promise}(dt(n),e)}(t,[xC(yu(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,at.exists(!1))]).then(()=>r)}!function(e,t=!0){Fa=qf,Ma(new Uo("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new $e(new UX(r.getProvider("auth-internal")),new $X(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new L(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yo(c.options.projectId,d)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$n(QO,"4.7.1",e),$n(QO,"4.7.1","esm2017")}();var cg=function(){return cg=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var o in t=arguments[r])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},cg.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var Tre={includeMetadataChanges:!1};function zC(n,e){return void 0===e&&(e=Tre),new ut(function(t){var r=function lre(n,...e){var t,r,i;n=Vr(n);let o={includeMetadataChanges:!1,source:"default"},s=0;"object"!=typeof e[s]||PC(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(PC(e[s])){const h=e[s];e[s]=null===(t=h.next)||void 0===t?void 0:t.bind(h),e[s+1]=null===(r=h.error)||void 0===r?void 0:r.bind(h),e[s+2]=null===(i=h.complete)||void 0===i?void 0:i.bind(h)}let u,c,d;if(n instanceof Tt)c=ye(n.firestore,$e),d=Ha(n._key.path),u={next:h=>{e[s]&&e[s](function jC(n,e,t){const r=t.docs.get(e._key),i=new co(n);return new Iu(n,i,e._key,r,new ls(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,h))},error:e[s+1],complete:e[s+2]};else{const h=ye(n,Wt);c=ye(h.firestore,$e),d=h._query;const p=new co(c);u={next:m=>{e[s]&&e[s](new Eu(c,p,h,m))},error:e[s+1],complete:e[s+2]},function pL(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new L(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(p,m,y,I){const E=new Kp(I),P=new WT(m,E,y);return p.asyncQueue.enqueueAndForget(O(function*(){return function jT(n,e){return $T.apply(this,arguments)}(yield mu(p),P)})),()=>{E.za(),p.asyncQueue.enqueueAndForget(O(function*(){return function GT(n,e){return zT.apply(this,arguments)}(yield mu(p),P)}))}}(dt(c),d,a,u)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function Pre(n,e){return void 0===e&&(e={}),function Rre(n){return zC(n,{includeMetadataChanges:!0}).pipe(Oe(function(e){return e.docs}))}(n).pipe(Oe(function(t){return t.map(function(r){return function TL(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?cg(cg({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}class lg{constructor(e){return e}}const bL="firestore",WC=new Z("angularfire2.firestore-instances");function Ore(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new lg(r)}}const kre={provide:class xre{constructor(){return dI(bL)}},deps:[[new Xn,WC]]},Vre={provide:lg,useFactory:function Nre(n,e){const t=function RN(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(bL,n,e);return t&&new lg(t)},deps:[[new Xn,WC],nl]};let Fre=(()=>{class n{constructor(){$n("angularfire",lI.full,"fst")}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Qn({type:n});static \u0275inj=On({providers:[Vre,kre]})}return n})();function Lre(n,...e){return{ngModule:Fre,providers:[{provide:WC,useFactory:Ore(n),multi:!0,deps:[Ve,fn,MN,xN,[new Xn,UO],[new Xn,BY],...e]}]}}const Ure=tl(Pre,!0),Bre=tl(cre,!0),SL=tl(Kne,!0),jre=tl(Zne,!0);let RL=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Zr),B(Ln))};static#t=this.\u0275dir=ue({type:n})}return n})(),ds=(()=>{class n extends RL{static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,features:[Fe]})}return n})();const zr=new Z("NgValueAccessor"),zre={provide:zr,useExisting:We(()=>dg),multi:!0},qre=new Z("CompositionEventMode");let dg=(()=>{class n extends RL{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hre(){const n=Bi()?Bi().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(Zr),B(Ln),B(qre,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&ze("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[it([zre]),Fe]})}return n})();const nn=new Z("NgValidators"),ho=new Z("NgAsyncValidators");function OL(n){return function lo(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}(n.value)?{required:!0}:null}function hg(n){return null}function BL(n){return null!=n}function jL(n){return mc(n)?Ot(n):n}function $L(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function GL(n,e){return e.map(t=>t(n))}function zL(n){return n.map(e=>function Kre(n){return!n.validate}(e)?e:t=>e.validate(t))}function KC(n){return null!=n?function HL(n){if(!n)return null;const e=n.filter(BL);return 0==e.length?null:function(t){return $L(GL(t,e))}}(zL(n)):null}function QC(n){return null!=n?function qL(n){if(!n)return null;const e=n.filter(BL);return 0==e.length?null:function(t){return function $re(...n){const e=oA(n),{args:t,keys:r}=qx(n),i=new ut(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let u=s,c=s;for(let d=0;d<s;d++){let h=!1;xn(t[d]).subscribe(Ct(o,p=>{h||(h=!0,c--),a[d]=p},()=>u--,void 0,()=>{(!u||!h)&&(c||o.next(r?Kx(r,a):a),o.complete())}))}});return e?i.pipe(Wx(e)):i}(GL(t,e).map(jL)).pipe(Oe($L))}}(zL(n)):null}function WL(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function YC(n){return n?Array.isArray(n)?n:[n]:[]}function fg(n,e){return Array.isArray(n)?n.includes(e):n===e}function YL(n,e){const t=YC(e);return YC(n).forEach(i=>{fg(t,i)||t.push(i)}),t}function JL(n,e){return YC(e).filter(t=>!fg(n,t))}class ZL{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=KC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=QC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class _n extends ZL{get formDirective(){return null}get path(){return null}}class fo extends ZL{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XL{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let e2=(()=>{class n extends XL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(fo,2))};static#t=this.\u0275dir=ue({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Fe]})}return n})(),t2=(()=>{class n extends XL{constructor(t){super(t)}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n,10))};static#t=this.\u0275dir=ue({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Fe]})}return n})();const Jl="VALID",gg="INVALID",wu="PENDING",Zl="DISABLED";function XC(n){return(mg(n)?n.validators:n)||null}function eD(n,e){return(mg(e)?e.asyncValidators:n)||null}function mg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class o2{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Jl}get invalid(){return this.status===gg}get pending(){return this.status==wu}get disabled(){return this.status===Zl}get enabled(){return this.status!==Zl}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(YL(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(YL(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(JL(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(JL(e,this._rawAsyncValidators))}hasValidator(e){return fg(this._rawValidators,e)}hasAsyncValidator(e){return fg(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=wu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Zl,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Jl,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Jl||this.status===wu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zl:Jl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=wu,this._hasOwnPendingAsyncValidator=!0;const t=jL(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ft,this.statusChanges=new ft}_calculateStatus(){return this._allControlsDisabled()?Zl:this.errors?gg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wu)?wu:this._anyControlsHaveStatus(gg)?gg:Jl}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mg(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Zre(n){return Array.isArray(n)?KC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Xre(n){return Array.isArray(n)?QC(n):n||null}(this._rawAsyncValidators)}}class tD extends o2{constructor(e,t,r){super(XC(t),eD(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function i2(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new U(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function r2(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new U(1e3,"");if(!r[t])throw new U(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Tu=new Z("CallSetDisabledState",{providedIn:"root",factory:()=>_g}),_g="always";function Xl(n,e,t=_g){nD(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function nie(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&s2(n,e)})}(n,e),function iie(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function rie(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&s2(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function tie(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ig(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function nD(n,e){const t=function KL(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(WL(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function QL(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(WL(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ig(e._rawValidators,i),Ig(e._rawAsyncValidators,i)}function s2(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const cie={provide:_n,useExisting:We(()=>wg)},ed=(()=>Promise.resolve())();let wg=(()=>{class n extends _n{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ft,this.form=new tD({},KC(t),QC(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){ed.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Xl(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){ed.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){ed.then(()=>{const r=this._findContainer(t.path),i=new tD({});(function a2(n,e){nD(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){ed.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){ed.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function u2(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(r){return new(r||n)(B(nn,10),B(ho,10),B(Tu,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&ze("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[it([cie]),Fe]})}return n})();function c2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function l2(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const d2=class extends o2{constructor(e=null,t,r){super(XC(t),eD(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mg(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=l2(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){c2(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){c2(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){l2(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},hie={provide:fo,useExisting:We(()=>sD)},p2=(()=>Promise.resolve())();let sD=(()=>{class n extends fo{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new d2,this._registered=!1,this.name="",this.update=new ft,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function oD(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===dg?t=o:function aie(n){return Object.getPrototypeOf(n.constructor)===ds}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function iD(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xl(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){p2.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&va(r);p2.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function yg(n,e){return[...e.path,n]}(t,this._parent):[t]}static#e=this.\u0275fac=function(r){return new(r||n)(B(_n,9),B(nn,10),B(ho,10),B(zr,10),B(ef,8),B(Tu,8))};static#t=this.\u0275dir=ue({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[it([hie]),Fe,Jn]})}return n})(),g2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),_2=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({})}return n})(),hs=(()=>{class n{constructor(){this._validator=hg}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):hg,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275dir=ue({type:n,features:[Jn]})}return n})();const Pie={provide:nn,useExisting:We(()=>Tg),multi:!0};let Tg=(()=>{class n extends hs{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=va,this.createValidator=t=>OL}enabled(t){return t}static#e=this.\u0275fac=function(){let t;return function(i){return(t||(t=Gt(n)))(i||n)}}();static#t=this.\u0275dir=ue({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&Pr("required",i._enabled?"":null)},inputs:{required:"required"},features:[it([Pie]),Fe]})}return n})(),Vie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({imports:[_2]})}return n})(),Lie=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Tu,useValue:t.callSetDisabledState??_g}]}}static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({imports:[Vie]})}return n})();function Uie(n,e){if(1&n&&(G(0,"div",10)(1,"h5"),de(2),W(),G(3,"p"),de(4),W(),be(5,"hr"),W()),2&n){const t=e.$implicit;Pe(2),Uh(t.name),Pe(2),Uh(t.comment)}}const Bie=[{path:"",component:MK},{path:"tourOne",component:jK},{path:"tourTwo",component:$K},{path:"jardinBotanico",component:qK},{path:"comments",component:(()=>{class n{constructor(t){this.firestore=t,this.newComment={name:"",comment:""};const r=SL(this.firestore,"comments");this.comments=Ure(r,{idField:"id"})}ngOnInit(){}addComment(){const t=SL(this.firestore,"comments");this.newComment.name&&this.newComment.comment&&Bre(t,this.newComment).then(()=>{this.newComment={name:"",comment:""}}).catch(r=>{console.error("Error al agregar comentario: ",r)})}static#e=this.\u0275fac=function(r){return new(r||n)(B(lg))};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-comments"]],decls:18,vars:5,consts:[[1,"container",2,"background-color","white","padding","20px","border-radius","5px"],[3,"submit"],[1,"form-group"],["for","name"],["id","name","type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["for","comment"],["id","comment","name","comment","rows","3","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary","mt-2"],[1,"comment-list"],["class","comment",4,"ngFor","ngForOf"],[1,"comment"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"h2"),de(2,"Comentarios"),W(),G(3,"form",1),ze("submit",function(){return i.addComment()}),G(4,"div",2)(5,"label",3),de(6,"Nombre"),W(),G(7,"input",4),ze("ngModelChange",function(s){return i.newComment.name=s}),W()(),G(8,"div",2)(9,"label",5),de(10,"Comentario"),W(),G(11,"textarea",6),ze("ngModelChange",function(s){return i.newComment.comment=s}),W()(),G(12,"button",7),de(13,"Agregar comentario"),W()(),be(14,"hr"),G(15,"div",8),Ro(16,Uie,6,2,"div",9),function $P(n,e){const t=De();let r;const i=n+Ie;t.firstCreatePass?(r=function Aq(n,e){if(e)for(let t=e.length-1;t>=0;t--){const r=e[t];if(n===r.name)return r}}(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=wo(r.type)),a=En(B);try{const u=Hd(!1),c=o();return Hd(u),function aH(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}(t,V(),i,c),c}finally{En(a)}}(17,"async"),W()()),2&r&&(Pe(7),Ge("ngModel",i.newComment.name),Pe(4),Ge("ngModel",i.newComment.comment),Pe(5),Ge("ngForOf",GP(17,3,i.comments)))},dependencies:[_f,g2,dg,e2,t2,Tg,sD,wg,Ex],styles:[".comment-list[_ngcontent-%COMP%]{max-height:400px;overflow-y:auto;padding:10px;background-color:#f9f9f9;border:1px solid #ddd;border-radius:5px}"]})}return n})()}];let jie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n});static#n=this.\u0275inj=On({imports:[X1.forRoot(Bie),X1]})}return n})(),$ie=(()=>{class n{constructor(t){this.router=t,this.title="app"}goToHome(){this.router.navigate(["/"])}static#e=this.\u0275fac=function(r){return new(r||n)(B(jn))};static#t=this.\u0275cmp=Ri({type:n,selectors:[["app-root"]],decls:7,vars:0,consts:[[1,"container",2,"width","100%","margin","0px","max-width","100%"],[1,"header"],["src","assets/img/logo.png","alt","Logo",1,"logo",3,"click"],[1,"title"]],template:function(r,i){1&r&&(G(0,"div",0)(1,"header",1)(2,"img",2),ze("click",function(){return i.goToHome()}),W(),G(3,"div",3),de(4,"Mi primera visita virtual al zool\xf3gico y al universo"),W()(),G(5,"main"),be(6,"router-outlet"),W()())},dependencies:[Fv],styles:["@media (max-width: 767.98px){.navbar-brand[_ngcontent-%COMP%]   .text-white[_ngcontent-%COMP%]{font-size:25px!important;white-space:normal;text-align:center}}.header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);padding:15px 20px;box-shadow:0 4px 8px #0000001a;border-bottom:3px solid #dee2e6;display:flex;align-items:center;justify-content:space-between;margin-bottom:20px}.logo[_ngcontent-%COMP%]{width:60px}.title[_ngcontent-%COMP%]{flex-grow:1;text-align:center;font-size:1.75rem;font-weight:600;color:#343a40}"]})}return n})();const Gie_firebase={apiKey:"AIzaSyAMTliIulKTgISqRUvG7Ulms-I9wNvG5tA",authDomain:"visitavirtual3edad.firebaseapp.com",projectId:"visitavirtual3edad",storageBucket:"visitavirtual3edad.appspot.com",messagingSenderId:"278237748429",appId:"1:278237748429:web:afc15d5cbbb6b2212d1d84",measurementId:"G-XK06LVYW5Q"};let zie=(()=>{class n{static#e=this.\u0275fac=function(r){return new(r||n)};static#t=this.\u0275mod=Qn({type:n,bootstrap:[$ie]});static#n=this.\u0275inj=On({imports:[qW,jie,Lie,ZY(()=>XY(Gie_firebase)),Lre(()=>jre())]})}return n})();zW().bootstrapModule(zie).catch(n=>console.error(n))}},Be=>{Be(Be.s=948)}]);